<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>12.2. List of functions &mdash; QGIS Documentation  documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/qgis_docs.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/togglebutton.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/qgis_topbar.css" type="text/css" />
    <link rel="shortcut icon" href="../../../_static/qgis_logo.ico"/>
    <link rel="canonical" href="https://docs.qgis.org/latest/en/docs/user_manual/expressions/functions_list.html"/>
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/togglebutton.js"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="13. The Style Library" href="../style_library/index.html" />
    <link rel="prev" title="12.1. Expressions" href="expression.html" /> 
</head>

<body class="wy-body-for-nav">

  <nav class="release_status_topbar">
    <div class="row isTesting">
     This documentation is a work in progress. For the Long Term Release and translations, please visit the <a href="https://docs.qgis.org/latest/en/docs/user_manual/expressions/functions_list.html">latest version</a>.
    </div>
  </nav>

   

 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
   
            <a href="../../index.html" class="icon icon-home"> QGIS Documentation
            <img src="../../../_static/logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                testing
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
   <a href= "../../../genindex.html">Index</a>
 
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">For Wageningen Students</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../land_degradation_development/index.html">Land Degradation and Development</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">For Users</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">QGIS Desktop User Guide/Manual (QGIS Testing)</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../preamble/preamble.html">1. Preamble</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preamble/foreword.html">2. Foreword</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preamble/conventions.html">3. Conventions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preamble/features.html">4. Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/getting_started.html">5. Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/project_files.html">6. Working with Project Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/qgis_gui.html">7. QGIS GUI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/browser.html">8. The Browser panel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/qgis_configuration.html">9. QGIS Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_projections/working_with_projections.html">10. Working with Projections</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/general_tools.html">11. General Tools</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">12. Level up with Expressions</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="expression.html">12.1. Expressions</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">12.2. List of functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#aggregates-functions">12.2.1. Aggregates Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#array-functions">12.2.2. Array Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#color-functions">12.2.3. Color Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#conditional-functions">12.2.4. Conditional Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#conversions-functions">12.2.5. Conversions Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#custom-functions">12.2.6. Custom Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#date-and-time-functions">12.2.7. Date and Time Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fields-and-values">12.2.8. Fields and Values</a></li>
<li class="toctree-l4"><a class="reference internal" href="#files-and-paths-functions">12.2.9. Files and Paths Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#form-functions">12.2.10. Form Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fuzzy-matching-functions">12.2.11. Fuzzy Matching Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#general-functions">12.2.12. General Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#geometry-functions">12.2.13. Geometry Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#layout-functions">12.2.14. Layout Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#map-layers">12.2.15. Map Layers</a></li>
<li class="toctree-l4"><a class="reference internal" href="#maps-functions">12.2.16. Maps Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mathematical-functions">12.2.17. Mathematical Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#meshes-functions">12.2.18. Meshes Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#operators">12.2.19. Operators</a></li>
<li class="toctree-l4"><a class="reference internal" href="#processing-functions">12.2.20. Processing Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rasters-functions">12.2.21. Rasters Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#record-and-attributes-functions">12.2.22. Record and Attributes Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#relations">12.2.23. Relations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#string-functions">12.2.24. String Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#user-expressions">12.2.25. User Expressions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#variables">12.2.26. Variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="#recent-functions">12.2.27. Recent Functions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../style_library/index.html">13. The Style Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../managing_data_source/index.html">14. Managing Data Source</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_vector/index.html">15. Working with Vector Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_raster/index.html">16. Working with Raster Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_mesh/mesh_properties.html">17. Working with Mesh Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_vector_tiles/vector_tiles_properties.html">18. Working with Vector Tiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="../print_composer/index.html">19. Laying out the maps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_ogc/ogc_client_support.html">20. Working with OGC / ISO protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_gps/index.html">21. Working with GPS Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../auth_system/index.html">22. Authentication System</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grass_integration/grass_integration.html">23. GRASS GIS Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../processing/index.html">24. QGIS processing framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../processing_algs/index.html">25. Processing providers and algorithms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugins/index.html">26. Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preamble/help_and_support.html">27. Help and Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preamble/contributors.html">28. Contributors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../appendices/index.html">29. Appendices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../literature_web/literature_and_web_references.html">30. Literature and Web References</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../server_manual/index.html">QGIS Server Guide/Manual (QGIS Testing)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../training_manual/index.html">Training Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gentle_gis_introduction/index.html">A Gentle Introduction to GIS</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">For Writers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../documentation_guidelines/index.html">Documentation Guidelines</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">For Developers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../pyqgis_developer_cookbook/index.html">PyQGIS Cookbook (QGIS Testing)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developers_guide/index.html">Developers Guide</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">QGIS Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../index.html">QGIS User Guide</a> &raquo;</li>
          <li><a href="index.html"><span class="section-number">12. </span>Level up with Expressions</a> &raquo;</li>
      <li><span class="section-number">12.2. </span>List of functions</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/qgis/QGIS-Documentation/blob/master/docs/user_manual/expressions/functions_list.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="expression.html" class="btn btn-neutral float-left" title="12.1. Expressions" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../style_library/index.html" class="btn btn-neutral float-right" title="13. The Style Library" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="list-of-functions">
<span id="functions-list"></span><span id="index-0"></span><h1><span class="section-number">12.2. </span>List of functions<a class="headerlink" href="#list-of-functions" title="Permalink to this headline"></a></h1>
<p>The functions, operators and variables available in QGIS are listed below,
grouped by categories.</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#aggregates-functions" id="id76">Aggregates Functions</a></p></li>
<li><p><a class="reference internal" href="#array-functions" id="id77">Array Functions</a></p></li>
<li><p><a class="reference internal" href="#color-functions" id="id78">Color Functions</a></p></li>
<li><p><a class="reference internal" href="#conditional-functions" id="id79">Conditional Functions</a></p></li>
<li><p><a class="reference internal" href="#conversions-functions" id="id80">Conversions Functions</a></p></li>
<li><p><a class="reference internal" href="#custom-functions" id="id81">Custom Functions</a></p></li>
<li><p><a class="reference internal" href="#date-and-time-functions" id="id82">Date and Time Functions</a></p></li>
<li><p><a class="reference internal" href="#fields-and-values" id="id83">Fields and Values</a></p></li>
<li><p><a class="reference internal" href="#files-and-paths-functions" id="id84">Files and Paths Functions</a></p></li>
<li><p><a class="reference internal" href="#form-functions" id="id85">Form Functions</a></p></li>
<li><p><a class="reference internal" href="#fuzzy-matching-functions" id="id86">Fuzzy Matching Functions</a></p></li>
<li><p><a class="reference internal" href="#general-functions" id="id87">General Functions</a></p></li>
<li><p><a class="reference internal" href="#geometry-functions" id="id88">Geometry Functions</a></p></li>
<li><p><a class="reference internal" href="#layout-functions" id="id89">Layout Functions</a></p></li>
<li><p><a class="reference internal" href="#map-layers" id="id90">Map Layers</a></p></li>
<li><p><a class="reference internal" href="#maps-functions" id="id91">Maps Functions</a></p></li>
<li><p><a class="reference internal" href="#mathematical-functions" id="id92">Mathematical Functions</a></p></li>
<li><p><a class="reference internal" href="#meshes-functions" id="id93">Meshes Functions</a></p></li>
<li><p><a class="reference internal" href="#operators" id="id94">Operators</a></p></li>
<li><p><a class="reference internal" href="#processing-functions" id="id95">Processing Functions</a></p></li>
<li><p><a class="reference internal" href="#rasters-functions" id="id96">Rasters Functions</a></p></li>
<li><p><a class="reference internal" href="#record-and-attributes-functions" id="id97">Record and Attributes Functions</a></p></li>
<li><p><a class="reference internal" href="#relations" id="id98">Relations</a></p></li>
<li><p><a class="reference internal" href="#string-functions" id="id99">String Functions</a></p></li>
<li><p><a class="reference internal" href="#user-expressions" id="id100">User Expressions</a></p></li>
<li><p><a class="reference internal" href="#variables" id="id101">Variables</a></p></li>
<li><p><a class="reference internal" href="#recent-functions" id="id102">Recent Functions</a></p></li>
</ul>
</div>
<section id="aggregates-functions">
<span id="aggregates-function"></span><span id="index-1"></span><h2><a class="toc-backref" href="#id76"><span class="section-number">12.2.1. </span>Aggregates Functions</a><a class="headerlink" href="#aggregates-functions" title="Permalink to this headline"></a></h2>
<p>This group contains functions which aggregate values over layers and fields.</p>
<div class="contents toc-columns local topic" id="id1">
<ul class="simple">
<li><p><a class="reference internal" href="#aggregate" id="id103">aggregate</a></p></li>
<li><p><a class="reference internal" href="#array-agg" id="id104">array_agg</a></p></li>
<li><p><a class="reference internal" href="#collect" id="id105">collect</a></p></li>
<li><p><a class="reference internal" href="#concatenate" id="id106">concatenate</a></p></li>
<li><p><a class="reference internal" href="#concatenate-unique" id="id107">concatenate_unique</a></p></li>
<li><p><a class="reference internal" href="#count" id="id108">count</a></p></li>
<li><p><a class="reference internal" href="#count-distinct" id="id109">count_distinct</a></p></li>
<li><p><a class="reference internal" href="#count-missing" id="id110">count_missing</a></p></li>
<li><p><a class="reference internal" href="#iqr" id="id111">iqr</a></p></li>
<li><p><a class="reference internal" href="#majority" id="id112">majority</a></p></li>
<li><p><a class="reference internal" href="#max-length" id="id113">max_length</a></p></li>
<li><p><a class="reference internal" href="#maximum" id="id114">maximum</a></p></li>
<li><p><a class="reference internal" href="#mean" id="id115">mean</a></p></li>
<li><p><a class="reference internal" href="#median" id="id116">median</a></p></li>
<li><p><a class="reference internal" href="#min-length" id="id117">min_length</a></p></li>
<li><p><a class="reference internal" href="#minimum" id="id118">minimum</a></p></li>
<li><p><a class="reference internal" href="#minority" id="id119">minority</a></p></li>
<li><p><a class="reference internal" href="#q1" id="id120">q1</a></p></li>
<li><p><a class="reference internal" href="#q3" id="id121">q3</a></p></li>
<li><p><a class="reference internal" href="#range" id="id122">range</a></p></li>
<li><p><a class="reference internal" href="#relation-aggregate" id="id123">relation_aggregate</a></p></li>
<li><p><a class="reference internal" href="#stdev" id="id124">stdev</a></p></li>
<li><p><a class="reference internal" href="#sum" id="id125">sum</a></p></li>
</ul>
</div>
<section id="aggregate">
<span id="expression-function-aggregates-aggregate"></span><h3><a class="toc-backref" href="#id103"><span class="section-number">12.2.1.1. </span>aggregate</a><a class="headerlink" href="#aggregate" title="Permalink to this headline"></a></h3>
<p>Returns an aggregate value calculated using features from another layer.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>aggregate(layer, aggregate, expression, [filter], [concatenator=’’], [order_by])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>layer</strong> - a string, representing either a layer name or layer ID</p></li>
<li><p><strong>aggregate</strong> - a string corresponding to the aggregate to calculate. Valid options are:</p>
<ul>
<li><p>count</p></li>
<li><p>count_distinct</p></li>
<li><p>count_missing</p></li>
<li><p>min</p></li>
<li><p>max</p></li>
<li><p>sum</p></li>
<li><p>mean</p></li>
<li><p>median</p></li>
<li><p>stdev</p></li>
<li><p>stdevsample</p></li>
<li><p>range</p></li>
<li><p>minority</p></li>
<li><p>majority</p></li>
<li><p>q1: first quartile</p></li>
<li><p>q3: third quartile</p></li>
<li><p>iqr: inter quartile range</p></li>
<li><p>min_length: minimum string length</p></li>
<li><p>max_length: maximum string length</p></li>
<li><p>concatenate: join strings with a concatenator</p></li>
<li><p>concatenate_unique: join unique strings with a concatenator</p></li>
<li><p>collect: create an aggregated multipart geometry</p></li>
<li><p>array_agg: create an array of aggregated values</p></li>
</ul>
</li>
<li><p><strong>expression</strong> - sub expression or field name to aggregate</p></li>
<li><p><strong>filter</strong> - optional filter expression to limit the features used for calculating the aggregate. Fields and geometry are from the features on the joined layer. The source feature can be accessed with the variable &#64;parent.</p></li>
<li><p><strong>concatenator</strong> - optional string to use to join values for ‘concatenate’ aggregate</p></li>
<li><p><strong>order_by</strong> - optional filter expression to order the features used for calculating the aggregate. Fields and geometry are from the features on the joined layer. By default, the features will be returned in an unspecified order.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">aggregate(layer:='rail_stations',aggregate:='sum',expression:=&quot;passengers&quot;)</span></code> → sum of all values from the passengers field in the rail_stations layer</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">aggregate('rail_stations','sum',</span> <span class="pre">&quot;passengers&quot;/7)</span></code> → calculates a daily average of “passengers” by dividing the “passengers” field by 7 before summing the values</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">aggregate(layer:='rail_stations',aggregate:='sum',expression:=&quot;passengers&quot;,filter:=&quot;class&quot;&gt;3)</span></code> → sums up all values from the “passengers” field from features where the “class” attribute is greater than 3 only</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">aggregate(layer:='rail_stations',aggregate:='concatenate',</span> <span class="pre">expression:=&quot;name&quot;,</span> <span class="pre">concatenator:=',')</span></code> → comma separated list of the name field for all features in the rail_stations layer</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">aggregate(layer:='countries',</span> <span class="pre">aggregate:='max',</span> <span class="pre">expression:=&quot;code&quot;,</span> <span class="pre">filter:=intersects(</span> <span class="pre">$geometry,</span> <span class="pre">geometry(&#64;parent)</span> <span class="pre">)</span> <span class="pre">)</span></code> → The country code of an intersecting country on the layer ‘countries’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">aggregate(layer:='rail_stations',aggregate:='sum',expression:=&quot;passengers&quot;,filter:=contains(</span> <span class="pre">&#64;atlas_geometry,</span> <span class="pre">$geometry</span> <span class="pre">)</span> <span class="pre">)</span></code> → sum of all values from the passengers field in the rail_stations within the current atlas feature</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">aggregate(layer:='rail_stations',</span> <span class="pre">aggregate:='collect',</span> <span class="pre">expression:=centroid($geometry),</span> <span class="pre">filter:=&quot;region_name&quot;</span> <span class="pre">=</span> <span class="pre">attribute(&#64;parent,'name')</span> <span class="pre">)</span></code> → aggregates centroid geometries of the rail_stations of the same region as current feature</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="array-agg">
<span id="expression-function-aggregates-array-agg"></span><h3><a class="toc-backref" href="#id104"><span class="section-number">12.2.1.2. </span>array_agg</a><a class="headerlink" href="#array-agg" title="Permalink to this headline"></a></h3>
<p>Returns an array of aggregated values from a field or expression.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>array_agg(expression, [group_by], [filter], [order_by])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>expression</strong> - sub expression of field to aggregate</p></li>
<li><p><strong>group_by</strong> - optional expression to use to group aggregate calculations</p></li>
<li><p><strong>filter</strong> - optional expression to use to filter features used to calculate aggregate</p></li>
<li><p><strong>order_by</strong> - optional expression to use to order features used to calculate aggregate. By default, the features will be returned in an unspecified order.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">array_agg(&quot;name&quot;,group_by:=&quot;state&quot;)</span></code> → list of name values, grouped by state field</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="collect">
<span id="expression-function-aggregates-collect"></span><h3><a class="toc-backref" href="#id105"><span class="section-number">12.2.1.3. </span>collect</a><a class="headerlink" href="#collect" title="Permalink to this headline"></a></h3>
<p>Returns the multipart geometry of aggregated geometries from an expression</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>collect(expression, [group_by], [filter])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>expression</strong> - geometry expression to aggregate</p></li>
<li><p><strong>group_by</strong> - optional expression to use to group aggregate calculations</p></li>
<li><p><strong>filter</strong> - optional expression to use to filter features used to calculate aggregate</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">collect(</span> <span class="pre">$geometry</span> <span class="pre">)</span></code> → multipart geometry of aggregated geometries</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">collect(</span> <span class="pre">centroid($geometry),</span> <span class="pre">group_by:=&quot;region&quot;,</span> <span class="pre">filter:=</span> <span class="pre">&quot;use&quot;</span> <span class="pre">=</span> <span class="pre">'civilian'</span> <span class="pre">)</span></code> → aggregated centroids of the civilian features based on their region value</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="concatenate">
<span id="expression-function-aggregates-concatenate"></span><h3><a class="toc-backref" href="#id106"><span class="section-number">12.2.1.4. </span>concatenate</a><a class="headerlink" href="#concatenate" title="Permalink to this headline"></a></h3>
<p>Returns all aggregated strings from a field or expression joined by a delimiter.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>concatenate(expression, [group_by], [filter], [concatenator], [order_by])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>expression</strong> - sub expression of field to aggregate</p></li>
<li><p><strong>group_by</strong> - optional expression to use to group aggregate calculations</p></li>
<li><p><strong>filter</strong> - optional expression to use to filter features used to calculate aggregate</p></li>
<li><p><strong>concatenator</strong> - optional string to use to join values. Empty by default.</p></li>
<li><p><strong>order_by</strong> - optional expression to use to order features used to calculate aggregate. By default, the features will be returned in an unspecified order.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">concatenate(&quot;town_name&quot;,group_by:=&quot;state&quot;,concatenator:=',')</span></code> → comma separated list of town_names, grouped by state field</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="concatenate-unique">
<span id="expression-function-aggregates-concatenate-unique"></span><h3><a class="toc-backref" href="#id107"><span class="section-number">12.2.1.5. </span>concatenate_unique</a><a class="headerlink" href="#concatenate-unique" title="Permalink to this headline"></a></h3>
<p>Returns all unique strings from a field or expression joined by a delimiter.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>concatenate_unique(expression, [group_by], [filter], [concatenator], [order_by])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>expression</strong> - sub expression of field to aggregate</p></li>
<li><p><strong>group_by</strong> - optional expression to use to group aggregate calculations</p></li>
<li><p><strong>filter</strong> - optional expression to use to filter features used to calculate aggregate</p></li>
<li><p><strong>concatenator</strong> - optional string to use to join values. Empty by default.</p></li>
<li><p><strong>order_by</strong> - optional expression to use to order features used to calculate aggregate. By default, the features will be returned in an unspecified order.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">concatenate_unique(&quot;town_name&quot;,group_by:=&quot;state&quot;,concatenator:=',')</span></code> → comma separated list of unique town_names, grouped by state field</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="count">
<span id="expression-function-aggregates-count"></span><h3><a class="toc-backref" href="#id108"><span class="section-number">12.2.1.6. </span>count</a><a class="headerlink" href="#count" title="Permalink to this headline"></a></h3>
<p>Returns the count of matching features.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>count(expression, [group_by], [filter])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>expression</strong> - sub expression of field to aggregate</p></li>
<li><p><strong>group_by</strong> - optional expression to use to group aggregate calculations</p></li>
<li><p><strong>filter</strong> - optional expression to use to filter features used to calculate aggregate</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">count(&quot;stations&quot;,group_by:=&quot;state&quot;)</span></code> → count of stations, grouped by state field</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="count-distinct">
<span id="expression-function-aggregates-count-distinct"></span><h3><a class="toc-backref" href="#id109"><span class="section-number">12.2.1.7. </span>count_distinct</a><a class="headerlink" href="#count-distinct" title="Permalink to this headline"></a></h3>
<p>Returns the count of distinct values.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>count_distinct(expression, [group_by], [filter])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>expression</strong> - sub expression of field to aggregate</p></li>
<li><p><strong>group_by</strong> - optional expression to use to group aggregate calculations</p></li>
<li><p><strong>filter</strong> - optional expression to use to filter features used to calculate aggregate</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">count_distinct(&quot;stations&quot;,group_by:=&quot;state&quot;)</span></code> → count of distinct stations values, grouped by state field</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="count-missing">
<span id="expression-function-aggregates-count-missing"></span><h3><a class="toc-backref" href="#id110"><span class="section-number">12.2.1.8. </span>count_missing</a><a class="headerlink" href="#count-missing" title="Permalink to this headline"></a></h3>
<p>Returns the count of missing (NULL) values.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>count_missing(expression, [group_by], [filter])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>expression</strong> - sub expression of field to aggregate</p></li>
<li><p><strong>group_by</strong> - optional expression to use to group aggregate calculations</p></li>
<li><p><strong>filter</strong> - optional expression to use to filter features used to calculate aggregate</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">count_missing(&quot;stations&quot;,group_by:=&quot;state&quot;)</span></code> → count of missing (NULL) station values, grouped by state field</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="iqr">
<span id="expression-function-aggregates-iqr"></span><h3><a class="toc-backref" href="#id111"><span class="section-number">12.2.1.9. </span>iqr</a><a class="headerlink" href="#iqr" title="Permalink to this headline"></a></h3>
<p>Returns the calculated inter quartile range from a field or expression.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>iqr(expression, [group_by], [filter])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>expression</strong> - sub expression of field to aggregate</p></li>
<li><p><strong>group_by</strong> - optional expression to use to group aggregate calculations</p></li>
<li><p><strong>filter</strong> - optional expression to use to filter features used to calculate aggregate</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">iqr(&quot;population&quot;,group_by:=&quot;state&quot;)</span></code> → inter quartile range of population value, grouped by state field</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="majority">
<span id="expression-function-aggregates-majority"></span><h3><a class="toc-backref" href="#id112"><span class="section-number">12.2.1.10. </span>majority</a><a class="headerlink" href="#majority" title="Permalink to this headline"></a></h3>
<p>Returns the aggregate majority of values (most commonly occurring value) from a field or expression.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>majority(expression, [group_by], [filter])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>expression</strong> - sub expression of field to aggregate</p></li>
<li><p><strong>group_by</strong> - optional expression to use to group aggregate calculations</p></li>
<li><p><strong>filter</strong> - optional expression to use to filter features used to calculate aggregate</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">majority(&quot;class&quot;,group_by:=&quot;state&quot;)</span></code> → most commonly occurring class value, grouped by state field</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="max-length">
<span id="expression-function-aggregates-max-length"></span><h3><a class="toc-backref" href="#id113"><span class="section-number">12.2.1.11. </span>max_length</a><a class="headerlink" href="#max-length" title="Permalink to this headline"></a></h3>
<p>Returns the maximum length of strings from a field or expression.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>max_length(expression, [group_by], [filter])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>expression</strong> - sub expression of field to aggregate</p></li>
<li><p><strong>group_by</strong> - optional expression to use to group aggregate calculations</p></li>
<li><p><strong>filter</strong> - optional expression to use to filter features used to calculate aggregate</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">max_length(&quot;town_name&quot;,group_by:=&quot;state&quot;)</span></code> → maximum length of town_name, grouped by state field</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="maximum">
<span id="expression-function-aggregates-maximum"></span><h3><a class="toc-backref" href="#id114"><span class="section-number">12.2.1.12. </span>maximum</a><a class="headerlink" href="#maximum" title="Permalink to this headline"></a></h3>
<p>Returns the aggregate maximum value from a field or expression.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>maximum(expression, [group_by], [filter])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>expression</strong> - sub expression of field to aggregate</p></li>
<li><p><strong>group_by</strong> - optional expression to use to group aggregate calculations</p></li>
<li><p><strong>filter</strong> - optional expression to use to filter features used to calculate aggregate</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">maximum(&quot;population&quot;,group_by:=&quot;state&quot;)</span></code> → maximum population value, grouped by state field</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="mean">
<span id="expression-function-aggregates-mean"></span><h3><a class="toc-backref" href="#id115"><span class="section-number">12.2.1.13. </span>mean</a><a class="headerlink" href="#mean" title="Permalink to this headline"></a></h3>
<p>Returns the aggregate mean value from a field or expression.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>mean(expression, [group_by], [filter])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>expression</strong> - sub expression of field to aggregate</p></li>
<li><p><strong>group_by</strong> - optional expression to use to group aggregate calculations</p></li>
<li><p><strong>filter</strong> - optional expression to use to filter features used to calculate aggregate</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">mean(&quot;population&quot;,group_by:=&quot;state&quot;)</span></code> → mean population value, grouped by state field</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="median">
<span id="expression-function-aggregates-median"></span><h3><a class="toc-backref" href="#id116"><span class="section-number">12.2.1.14. </span>median</a><a class="headerlink" href="#median" title="Permalink to this headline"></a></h3>
<p>Returns the aggregate median value from a field or expression.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>median(expression, [group_by], [filter])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>expression</strong> - sub expression of field to aggregate</p></li>
<li><p><strong>group_by</strong> - optional expression to use to group aggregate calculations</p></li>
<li><p><strong>filter</strong> - optional expression to use to filter features used to calculate aggregate</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">median(&quot;population&quot;,group_by:=&quot;state&quot;)</span></code> → median population value, grouped by state field</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="min-length">
<span id="expression-function-aggregates-min-length"></span><h3><a class="toc-backref" href="#id117"><span class="section-number">12.2.1.15. </span>min_length</a><a class="headerlink" href="#min-length" title="Permalink to this headline"></a></h3>
<p>Returns the minimum length of strings from a field or expression.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>min_length(expression, [group_by], [filter])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>expression</strong> - sub expression of field to aggregate</p></li>
<li><p><strong>group_by</strong> - optional expression to use to group aggregate calculations</p></li>
<li><p><strong>filter</strong> - optional expression to use to filter features used to calculate aggregate</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">min_length(&quot;town_name&quot;,group_by:=&quot;state&quot;)</span></code> → minimum length of town_name, grouped by state field</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="minimum">
<span id="expression-function-aggregates-minimum"></span><h3><a class="toc-backref" href="#id118"><span class="section-number">12.2.1.16. </span>minimum</a><a class="headerlink" href="#minimum" title="Permalink to this headline"></a></h3>
<p>Returns the aggregate minimum value from a field or expression.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>minimum(expression, [group_by], [filter])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>expression</strong> - sub expression of field to aggregate</p></li>
<li><p><strong>group_by</strong> - optional expression to use to group aggregate calculations</p></li>
<li><p><strong>filter</strong> - optional expression to use to filter features used to calculate aggregate</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">minimum(&quot;population&quot;,group_by:=&quot;state&quot;)</span></code> → minimum population value, grouped by state field</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="minority">
<span id="expression-function-aggregates-minority"></span><h3><a class="toc-backref" href="#id119"><span class="section-number">12.2.1.17. </span>minority</a><a class="headerlink" href="#minority" title="Permalink to this headline"></a></h3>
<p>Returns the aggregate minority of values (least occurring value) from a field or expression.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>minority(expression, [group_by], [filter])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>expression</strong> - sub expression of field to aggregate</p></li>
<li><p><strong>group_by</strong> - optional expression to use to group aggregate calculations</p></li>
<li><p><strong>filter</strong> - optional expression to use to filter features used to calculate aggregate</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">minority(&quot;class&quot;,group_by:=&quot;state&quot;)</span></code> → least occurring class value, grouped by state field</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="q1">
<span id="expression-function-aggregates-q1"></span><h3><a class="toc-backref" href="#id120"><span class="section-number">12.2.1.18. </span>q1</a><a class="headerlink" href="#q1" title="Permalink to this headline"></a></h3>
<p>Returns the calculated first quartile from a field or expression.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>q1(expression, [group_by], [filter])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>expression</strong> - sub expression of field to aggregate</p></li>
<li><p><strong>group_by</strong> - optional expression to use to group aggregate calculations</p></li>
<li><p><strong>filter</strong> - optional expression to use to filter features used to calculate aggregate</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">q1(&quot;population&quot;,group_by:=&quot;state&quot;)</span></code> → first quartile of population value, grouped by state field</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="q3">
<span id="expression-function-aggregates-q3"></span><h3><a class="toc-backref" href="#id121"><span class="section-number">12.2.1.19. </span>q3</a><a class="headerlink" href="#q3" title="Permalink to this headline"></a></h3>
<p>Returns the calculated third quartile from a field or expression.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>q3(expression, [group_by], [filter])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>expression</strong> - sub expression of field to aggregate</p></li>
<li><p><strong>group_by</strong> - optional expression to use to group aggregate calculations</p></li>
<li><p><strong>filter</strong> - optional expression to use to filter features used to calculate aggregate</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">q3(&quot;population&quot;,group_by:=&quot;state&quot;)</span></code> → third quartile of population value, grouped by state field</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="range">
<span id="expression-function-aggregates-range"></span><h3><a class="toc-backref" href="#id122"><span class="section-number">12.2.1.20. </span>range</a><a class="headerlink" href="#range" title="Permalink to this headline"></a></h3>
<p>Returns the aggregate range of values (maximum - minimum) from a field or expression.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>range(expression, [group_by], [filter])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>expression</strong> - sub expression of field to aggregate</p></li>
<li><p><strong>group_by</strong> - optional expression to use to group aggregate calculations</p></li>
<li><p><strong>filter</strong> - optional expression to use to filter features used to calculate aggregate</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">range(&quot;population&quot;,group_by:=&quot;state&quot;)</span></code> → range of population values, grouped by state field</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="relation-aggregate">
<span id="expression-function-aggregates-relation-aggregate"></span><h3><a class="toc-backref" href="#id123"><span class="section-number">12.2.1.21. </span>relation_aggregate</a><a class="headerlink" href="#relation-aggregate" title="Permalink to this headline"></a></h3>
<p>Returns an aggregate value calculated using all matching child features from a layer relation.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>relation_aggregate(relation, aggregate, expression, [concatenator=’’], [order_by])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>relation</strong> - a string, representing a relation ID</p></li>
<li><p><strong>aggregate</strong> - a string corresponding to the aggregate to calculate. Valid options are:</p>
<ul>
<li><p>count</p></li>
<li><p>count_distinct</p></li>
<li><p>count_missing</p></li>
<li><p>min</p></li>
<li><p>max</p></li>
<li><p>sum</p></li>
<li><p>mean</p></li>
<li><p>median</p></li>
<li><p>stdev</p></li>
<li><p>stdevsample</p></li>
<li><p>range</p></li>
<li><p>minority</p></li>
<li><p>majority</p></li>
<li><p>q1: first quartile</p></li>
<li><p>q3: third quartile</p></li>
<li><p>iqr: inter quartile range</p></li>
<li><p>min_length: minimum string length</p></li>
<li><p>max_length: maximum string length</p></li>
<li><p>concatenate: join strings with a concatenator</p></li>
<li><p>concatenate_unique: join unique strings with a concatenator</p></li>
<li><p>collect: create an aggregated multipart geometry</p></li>
<li><p>array_agg: create an array of aggregated values</p></li>
</ul>
</li>
<li><p><strong>expression</strong> - sub expression or field name to aggregate</p></li>
<li><p><strong>concatenator</strong> - optional string to use to join values for ‘concatenate’ aggregate</p></li>
<li><p><strong>order_by</strong> - optional expression to order the features used for calculating the aggregate. Fields and geometry are from the features on the joined layer. By default, the features will be returned in an unspecified order.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">relation_aggregate(relation:='my_relation',aggregate:='mean',expression:=&quot;passengers&quot;)</span></code> → mean value of all matching child features using the ‘my_relation’ relation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">relation_aggregate('my_relation','sum',</span> <span class="pre">&quot;passengers&quot;/7)</span></code> → sum of the passengers field divided by 7 for all matching child features using the ‘my_relation’ relation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">relation_aggregate('my_relation','concatenate',</span> <span class="pre">&quot;towns&quot;,</span> <span class="pre">concatenator:=',')</span></code> → comma separated list of the towns field for all matching child features using the ‘my_relation’ relation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">relation_aggregate('my_relation','array_agg',</span> <span class="pre">&quot;id&quot;)</span></code> → array of the id field from all matching child features using the ‘my_relation’ relation</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="../working_with_vector/attribute_table.html#vector-relations"><span class="std std-ref">Creating one or many to many relations</span></a></p>
</section>
<section id="stdev">
<span id="expression-function-aggregates-stdev"></span><h3><a class="toc-backref" href="#id124"><span class="section-number">12.2.1.22. </span>stdev</a><a class="headerlink" href="#stdev" title="Permalink to this headline"></a></h3>
<p>Returns the aggregate standard deviation value from a field or expression.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>stdev(expression, [group_by], [filter])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>expression</strong> - sub expression of field to aggregate</p></li>
<li><p><strong>group_by</strong> - optional expression to use to group aggregate calculations</p></li>
<li><p><strong>filter</strong> - optional expression to use to filter features used to calculate aggregate</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">stdev(&quot;population&quot;,group_by:=&quot;state&quot;)</span></code> → standard deviation of population value, grouped by state field</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="sum">
<span id="expression-function-aggregates-sum"></span><h3><a class="toc-backref" href="#id125"><span class="section-number">12.2.1.23. </span>sum</a><a class="headerlink" href="#sum" title="Permalink to this headline"></a></h3>
<p>Returns the aggregate summed value from a field or expression.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>sum(expression, [group_by], [filter])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>expression</strong> - sub expression of field to aggregate</p></li>
<li><p><strong>group_by</strong> - optional expression to use to group aggregate calculations</p></li>
<li><p><strong>filter</strong> - optional expression to use to filter features used to calculate aggregate</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">sum(&quot;population&quot;,group_by:=&quot;state&quot;)</span></code> → summed population value, grouped by state field</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="array-functions">
<span id="index-2"></span><span id="id2"></span><h2><a class="toc-backref" href="#id77"><span class="section-number">12.2.2. </span>Array Functions</a><a class="headerlink" href="#array-functions" title="Permalink to this headline"></a></h2>
<p>This group contains functions to create and manipulate arrays (also known as
list data structures). The order of values within the array matters, unlike the
<a class="reference internal" href="#maps-functions"><span class="std std-ref">‘map’ data structure</span></a>, where the order of key-value pairs
is irrelevant and values are identified by their keys.</p>
<div class="contents toc-columns local topic" id="id3">
<ul class="simple">
<li><p><a class="reference internal" href="#array" id="id126">array</a></p></li>
<li><p><a class="reference internal" href="#array-all" id="id127">array_all</a></p></li>
<li><p><a class="reference internal" href="#array-append" id="id128">array_append</a></p></li>
<li><p><a class="reference internal" href="#array-cat" id="id129">array_cat</a></p></li>
<li><p><a class="reference internal" href="#array-contains" id="id130">array_contains</a></p></li>
<li><p><a class="reference internal" href="#array-count" id="id131">array_count</a></p></li>
<li><p><a class="reference internal" href="#array-distinct" id="id132">array_distinct</a></p></li>
<li><p><a class="reference internal" href="#array-filter" id="id133">array_filter</a></p></li>
<li><p><a class="reference internal" href="#array-find" id="id134">array_find</a></p></li>
<li><p><a class="reference internal" href="#array-first" id="id135">array_first</a></p></li>
<li><p><a class="reference internal" href="#array-foreach" id="id136">array_foreach</a></p></li>
<li><p><a class="reference internal" href="#array-get" id="id137">array_get</a></p></li>
<li><p><a class="reference internal" href="#array-insert" id="id138">array_insert</a></p></li>
<li><p><a class="reference internal" href="#array-intersect" id="id139">array_intersect</a></p></li>
<li><p><a class="reference internal" href="#array-last" id="id140">array_last</a></p></li>
<li><p><a class="reference internal" href="#array-length" id="id141">array_length</a></p></li>
<li><p><a class="reference internal" href="#array-majority" id="id142">array_majority</a></p></li>
<li><p><a class="reference internal" href="#array-max" id="id143">array_max</a></p></li>
<li><p><a class="reference internal" href="#array-mean" id="id144">array_mean</a></p></li>
<li><p><a class="reference internal" href="#array-median" id="id145">array_median</a></p></li>
<li><p><a class="reference internal" href="#array-min" id="id146">array_min</a></p></li>
<li><p><a class="reference internal" href="#array-minority" id="id147">array_minority</a></p></li>
<li><p><a class="reference internal" href="#array-prepend" id="id148">array_prepend</a></p></li>
<li><p><a class="reference internal" href="#array-prioritize" id="id149">array_prioritize</a></p></li>
<li><p><a class="reference internal" href="#array-remove-all" id="id150">array_remove_all</a></p></li>
<li><p><a class="reference internal" href="#array-remove-at" id="id151">array_remove_at</a></p></li>
<li><p><a class="reference internal" href="#array-replace" id="id152">array_replace</a></p></li>
<li><p><a class="reference internal" href="#array-reverse" id="id153">array_reverse</a></p></li>
<li><p><a class="reference internal" href="#array-slice" id="id154">array_slice</a></p></li>
<li><p><a class="reference internal" href="#array-sort" id="id155">array_sort</a></p></li>
<li><p><a class="reference internal" href="#array-sum" id="id156">array_sum</a></p></li>
<li><p><a class="reference internal" href="#array-to-string" id="id157">array_to_string</a></p></li>
<li><p><a class="reference internal" href="#generate-series" id="id158">generate_series</a></p></li>
<li><p><a class="reference internal" href="#regexp-matches" id="id159">regexp_matches</a></p></li>
<li><p><a class="reference internal" href="#string-to-array" id="id160">string_to_array</a></p></li>
</ul>
</div>
<section id="array">
<span id="expression-function-arrays-array"></span><h3><a class="toc-backref" href="#id126"><span class="section-number">12.2.2.1. </span>array</a><a class="headerlink" href="#array" title="Permalink to this headline"></a></h3>
<p>Returns an array containing all the values passed as parameter.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>array(value1, value2, …)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>value</strong> - a value</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">array(2,10)</span></code> → [ 2, 10 ]</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="array-all">
<span id="expression-function-arrays-array-all"></span><h3><a class="toc-backref" href="#id127"><span class="section-number">12.2.2.2. </span>array_all</a><a class="headerlink" href="#array-all" title="Permalink to this headline"></a></h3>
<p>Returns true if an array contains all the values of a given array.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>array_all(array_a, array_b)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>array_a</strong> - an array</p></li>
<li><p><strong>array_b</strong> - the array of values to search</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">array_all(array(1,2,3),array(2,3))</span></code> → true</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">array_all(array(1,2,3),array(1,2,4))</span></code> → false</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="array-append">
<span id="expression-function-arrays-array-append"></span><h3><a class="toc-backref" href="#id128"><span class="section-number">12.2.2.3. </span>array_append</a><a class="headerlink" href="#array-append" title="Permalink to this headline"></a></h3>
<p>Returns an array with the given value added at the end.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>array_append(array, value)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>array</strong> - an array</p></li>
<li><p><strong>value</strong> - the value to add</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">array_append(array(1,2,3),4)</span></code> → [ 1, 2, 3, 4 ]</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="array-cat">
<span id="expression-function-arrays-array-cat"></span><h3><a class="toc-backref" href="#id129"><span class="section-number">12.2.2.4. </span>array_cat</a><a class="headerlink" href="#array-cat" title="Permalink to this headline"></a></h3>
<p>Returns an array containing all the given arrays concatenated.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>array_cat(array1, array2, …)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>array</strong> - an array</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">array_cat(array(1,2),array(2,3))</span></code> → [ 1, 2, 2, 3 ]</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="array-contains">
<span id="expression-function-arrays-array-contains"></span><h3><a class="toc-backref" href="#id130"><span class="section-number">12.2.2.5. </span>array_contains</a><a class="headerlink" href="#array-contains" title="Permalink to this headline"></a></h3>
<p>Returns true if an array contains the given value.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>array_contains(array, value)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>array</strong> - an array</p></li>
<li><p><strong>value</strong> - the value to search</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">array_contains(array(1,2,3),2)</span></code> → true</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="array-count">
<span id="expression-function-arrays-array-count"></span><h3><a class="toc-backref" href="#id131"><span class="section-number">12.2.2.6. </span>array_count</a><a class="headerlink" href="#array-count" title="Permalink to this headline"></a></h3>
<p>Counts the number of occurrences of a given value in an array.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>array_count(array, value)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>array</strong> - an array</p></li>
<li><p><strong>value</strong> - the value to count</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">array_count(array('a',</span> <span class="pre">'b',</span> <span class="pre">'c',</span> <span class="pre">'b'),</span> <span class="pre">'b')</span></code> → 2</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="array-distinct">
<span id="expression-function-arrays-array-distinct"></span><h3><a class="toc-backref" href="#id132"><span class="section-number">12.2.2.7. </span>array_distinct</a><a class="headerlink" href="#array-distinct" title="Permalink to this headline"></a></h3>
<p>Returns an array containing distinct values of the given array.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>array_distinct(array)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>array</strong> - an array</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">array_distinct(array(1,2,3,2,1))</span></code> → [ 1, 2, 3 ]</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="array-filter">
<span id="expression-function-arrays-array-filter"></span><h3><a class="toc-backref" href="#id133"><span class="section-number">12.2.2.8. </span>array_filter</a><a class="headerlink" href="#array-filter" title="Permalink to this headline"></a></h3>
<p>Returns an array with only the items for which the expression evaluates to true.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>array_filter(array, expression, [limit=0])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>array</strong> - an array</p></li>
<li><p><strong>expression</strong> - an expression to evaluate on each item. The variable <cite>&#64;element</cite> will be replaced by the current value.</p></li>
<li><p><strong>limit</strong> - maximum number of elements to be returned. Use 0 to return all values.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">array_filter(array(1,2,3),&#64;element</span> <span class="pre">&lt;</span> <span class="pre">3)</span></code> → [ 1, 2 ]</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">array_filter(array(1,2,3),&#64;element</span> <span class="pre">&lt;</span> <span class="pre">3,</span> <span class="pre">1)</span></code> → [ 1 ]</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="array-find">
<span id="expression-function-arrays-array-find"></span><h3><a class="toc-backref" href="#id134"><span class="section-number">12.2.2.9. </span>array_find</a><a class="headerlink" href="#array-find" title="Permalink to this headline"></a></h3>
<p>Returns the index (0 for the first one) of a value within an array. Returns -1 if the value is not found.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>array_find(array, value)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>array</strong> - an array</p></li>
<li><p><strong>value</strong> - the value to search</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">array_find(array(1,2,3),2)</span></code> → 1</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="array-first">
<span id="expression-function-arrays-array-first"></span><h3><a class="toc-backref" href="#id135"><span class="section-number">12.2.2.10. </span>array_first</a><a class="headerlink" href="#array-first" title="Permalink to this headline"></a></h3>
<p>Returns the first value of an array.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>array_first(array)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>array</strong> - an array</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">array_first(array('a','b','c'))</span></code> → ‘a’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="array-foreach">
<span id="expression-function-arrays-array-foreach"></span><h3><a class="toc-backref" href="#id136"><span class="section-number">12.2.2.11. </span>array_foreach</a><a class="headerlink" href="#array-foreach" title="Permalink to this headline"></a></h3>
<p>Returns an array with the given expression evaluated on each item.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>array_foreach(array, expression)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>array</strong> - an array</p></li>
<li><p><strong>expression</strong> - an expression to evaluate on each item. The variable <cite>&#64;element</cite> will be replaced by the current value.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">array_foreach(array('a','b','c'),upper(&#64;element))</span></code> → [ ‘A’, ‘B’, ‘C’ ]</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">array_foreach(array(1,2,3),&#64;element</span> <span class="pre">+</span> <span class="pre">10)</span></code> → [ 11, 12, 13 ]</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="array-get">
<span id="expression-function-arrays-array-get"></span><h3><a class="toc-backref" href="#id137"><span class="section-number">12.2.2.12. </span>array_get</a><a class="headerlink" href="#array-get" title="Permalink to this headline"></a></h3>
<p>Returns the Nth value (0 for the first one) or the last -Nth value (-1 for the last one) of an array.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>array_get(array, index)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>array</strong> - an array</p></li>
<li><p><strong>index</strong> - the index to get (0 based)</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">array_get(array('a','b','c'),1)</span></code> → ‘b’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">array_get(array('a','b','c'),-1)</span></code> → ‘c’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="#expression-function-operators-index"><span class="std std-ref">[]</span></a></p>
</section>
<section id="array-insert">
<span id="expression-function-arrays-array-insert"></span><h3><a class="toc-backref" href="#id138"><span class="section-number">12.2.2.13. </span>array_insert</a><a class="headerlink" href="#array-insert" title="Permalink to this headline"></a></h3>
<p>Returns an array with the given value added at the given position.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>array_insert(array, pos, value)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>array</strong> - an array</p></li>
<li><p><strong>pos</strong> - the position where to add (0 based)</p></li>
<li><p><strong>value</strong> - the value to add</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">array_insert(array(1,2,3),1,100)</span></code> → [ 1, 100, 2, 3 ]</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="array-intersect">
<span id="expression-function-arrays-array-intersect"></span><h3><a class="toc-backref" href="#id139"><span class="section-number">12.2.2.14. </span>array_intersect</a><a class="headerlink" href="#array-intersect" title="Permalink to this headline"></a></h3>
<p>Returns true if at least one element of array1 exists in array2.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>array_intersect(array1, array2)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>array1</strong> - an array</p></li>
<li><p><strong>array2</strong> - another array</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">array_intersect(array(1,2,3,4),array(4,0,2,5))</span></code> → true</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="array-last">
<span id="expression-function-arrays-array-last"></span><h3><a class="toc-backref" href="#id140"><span class="section-number">12.2.2.15. </span>array_last</a><a class="headerlink" href="#array-last" title="Permalink to this headline"></a></h3>
<p>Returns the last value of an array.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>array_last(array)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>array</strong> - an array</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">array_last(array('a','b','c'))</span></code> → ‘c’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="array-length">
<span id="expression-function-arrays-array-length"></span><h3><a class="toc-backref" href="#id141"><span class="section-number">12.2.2.16. </span>array_length</a><a class="headerlink" href="#array-length" title="Permalink to this headline"></a></h3>
<p>Returns the number of elements of an array.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>array_length(array)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>array</strong> - an array</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">array_length(array(1,2,3))</span></code> → 3</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="array-majority">
<span id="expression-function-arrays-array-majority"></span><h3><a class="toc-backref" href="#id142"><span class="section-number">12.2.2.17. </span>array_majority</a><a class="headerlink" href="#array-majority" title="Permalink to this headline"></a></h3>
<p>Returns the most common values in an array.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>array_majority(array, [option=’all’])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>array</strong> - an array</p></li>
<li><p><strong>option=’all’</strong> - a string specifying the return values handling. Valid options are:</p>
<ul>
<li><p>all: Default, all most common values are returned in an array.</p></li>
<li><p>any: Returns one of the most common values.</p></li>
<li><p>median: Returns the median of the most common values. Non arithmetic values are ignored.</p></li>
<li><p>real_majority: Returns the value which occurs more than half the size of the array.</p></li>
</ul>
</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">array_majority(array(0,1,42,42,43),</span> <span class="pre">'all')</span></code> → [ 42 ]</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">array_majority(array(0,1,42,42,43,1),</span> <span class="pre">'all')</span></code> → [ 42, 1 ]</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">array_majority(array(0,1,42,42,43,1),</span> <span class="pre">'any')</span></code> → 1 or 42</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">array_majority(array(0,1,1,2,2),</span> <span class="pre">'median')</span></code> → 1.5</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">array_majority(array(0,1,42,42,43),</span> <span class="pre">'real_majority')</span></code> → NULL</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">array_majority(array(0,1,42,42,43,42),</span> <span class="pre">'real_majority')</span></code> → NULL</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">array_majority(array(0,1,42,42,43,42,42),</span> <span class="pre">'real_majority')</span></code> → 42</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="array-max">
<span id="expression-function-arrays-array-max"></span><h3><a class="toc-backref" href="#id143"><span class="section-number">12.2.2.18. </span>array_max</a><a class="headerlink" href="#array-max" title="Permalink to this headline"></a></h3>
<p>Returns the maximum value of an array.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>array_max(array)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>array</strong> - an array</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">array_max(array(0,42,4,2))</span></code> → 42</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="array-mean">
<span id="expression-function-arrays-array-mean"></span><h3><a class="toc-backref" href="#id144"><span class="section-number">12.2.2.19. </span>array_mean</a><a class="headerlink" href="#array-mean" title="Permalink to this headline"></a></h3>
<p>Returns the mean of arithmetic values in an array. Non numeric values in the array are ignored.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>array_mean(array)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>array</strong> - an array</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">array_mean(array(0,1,7,66.6,135.4))</span></code> → 42</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">array_mean(array(0,84,'a','b','c'))</span></code> → 42</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="array-median">
<span id="expression-function-arrays-array-median"></span><h3><a class="toc-backref" href="#id145"><span class="section-number">12.2.2.20. </span>array_median</a><a class="headerlink" href="#array-median" title="Permalink to this headline"></a></h3>
<p>Returns the median of arithmetic values in an array. Non arithmetic values in the array are ignored.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>array_median(array)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>array</strong> - an array</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">array_median(array(0,1,42,42,43))</span></code> → 42</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">array_median(array(0,1,2,42,'a','b'))</span></code> → 1.5</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="array-min">
<span id="expression-function-arrays-array-min"></span><h3><a class="toc-backref" href="#id146"><span class="section-number">12.2.2.21. </span>array_min</a><a class="headerlink" href="#array-min" title="Permalink to this headline"></a></h3>
<p>Returns the minimum value of an array.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>array_min(array)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>array</strong> - an array</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">array_min(array(43,42,54))</span></code> → 42</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="array-minority">
<span id="expression-function-arrays-array-minority"></span><h3><a class="toc-backref" href="#id147"><span class="section-number">12.2.2.22. </span>array_minority</a><a class="headerlink" href="#array-minority" title="Permalink to this headline"></a></h3>
<p>Returns the less common values in an array.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>array_minority(array, [option=’all’])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>array</strong> - an array</p></li>
<li><p><strong>option=’all’</strong> - a string specifying the return values handling. Valid options are:</p>
<ul>
<li><p>all: Default, all less common values are returned in an array.</p></li>
<li><p>any: Returns one of the less common values.</p></li>
<li><p>median: Returns the median of the less common values. Non arithmetic values are ignored.</p></li>
<li><p>real_minority: Returns values which occur less than half the size of the array.</p></li>
</ul>
</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">array_minority(array(0,42,42),</span> <span class="pre">'all')</span></code> → [ 0 ]</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">array_minority(array(0,1,42,42),</span> <span class="pre">'all')</span></code> → [ 0, 1 ]</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">array_minority(array(0,1,42,42,43,1),</span> <span class="pre">'any')</span></code> → 0 or 43</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">array_minority(array(1,2,3,3),</span> <span class="pre">'median')</span></code> → 1.5</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">array_minority(array(0,1,42,42,43),</span> <span class="pre">'real_minority')</span></code> → [ 42, 43, 0, 1 ]</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">array_minority(array(0,1,42,42,43,42),</span> <span class="pre">'real_minority')</span></code> → [ 42, 43, 0, 1 ]</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">array_minority(array(0,1,42,42,43,42,42),</span> <span class="pre">'real_minority')</span></code> → [ 43, 0, 1 ]</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="array-prepend">
<span id="expression-function-arrays-array-prepend"></span><h3><a class="toc-backref" href="#id148"><span class="section-number">12.2.2.23. </span>array_prepend</a><a class="headerlink" href="#array-prepend" title="Permalink to this headline"></a></h3>
<p>Returns an array with the given value added at the beginning.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>array_prepend(array, value)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>array</strong> - an array</p></li>
<li><p><strong>value</strong> - the value to add</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">array_prepend(array(1,2,3),0)</span></code> → [ 0, 1, 2, 3 ]</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="array-prioritize">
<span id="expression-function-arrays-array-prioritize"></span><h3><a class="toc-backref" href="#id149"><span class="section-number">12.2.2.24. </span>array_prioritize</a><a class="headerlink" href="#array-prioritize" title="Permalink to this headline"></a></h3>
<p>Returns an array sorted using the ordering specified in another array. Values which are present in the first array but are missing from the second array will be added to the end of the result.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>array_prioritize(array, array_prioritize)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>array</strong> - an array</p></li>
<li><p><strong>array_prioritize</strong> - an array with values ordered by priority</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">array_prioritize(array(1,</span> <span class="pre">8,</span> <span class="pre">2,</span> <span class="pre">5),</span> <span class="pre">array(5,</span> <span class="pre">4,</span> <span class="pre">2,</span> <span class="pre">1,</span> <span class="pre">3,</span> <span class="pre">8))</span></code> → [ 5, 2, 1, 8 ]</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">array_prioritize(array(5,</span> <span class="pre">4,</span> <span class="pre">2,</span> <span class="pre">1,</span> <span class="pre">3,</span> <span class="pre">8),</span> <span class="pre">array(1,</span> <span class="pre">8,</span> <span class="pre">6,</span> <span class="pre">5))</span></code> → [ 1, 8, 5, 4, 2, 3 ]</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="array-remove-all">
<span id="expression-function-arrays-array-remove-all"></span><h3><a class="toc-backref" href="#id150"><span class="section-number">12.2.2.25. </span>array_remove_all</a><a class="headerlink" href="#array-remove-all" title="Permalink to this headline"></a></h3>
<p>Returns an array with all the entries of the given value removed.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>array_remove_all(array, value)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>array</strong> - an array</p></li>
<li><p><strong>value</strong> - the values to remove</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">array_remove_all(array('a','b','c','b'),'b')</span></code> → [ ‘a’, ‘c’ ]</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="array-remove-at">
<span id="expression-function-arrays-array-remove-at"></span><h3><a class="toc-backref" href="#id151"><span class="section-number">12.2.2.26. </span>array_remove_at</a><a class="headerlink" href="#array-remove-at" title="Permalink to this headline"></a></h3>
<p>Returns an array with the given index removed.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>array_remove_at(array, pos)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>array</strong> - an array</p></li>
<li><p><strong>pos</strong> - the position to remove (0 based)</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">array_remove_at(array(1,2,3),1)</span></code> → [ 1, 3 ]</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="array-replace">
<span id="expression-function-arrays-array-replace"></span><h3><a class="toc-backref" href="#id152"><span class="section-number">12.2.2.27. </span>array_replace</a><a class="headerlink" href="#array-replace" title="Permalink to this headline"></a></h3>
<p>Returns an array with the supplied value, array, or map of values replaced.</p>
<p><strong>Value &amp; array variant</strong></p>
<p>Returns an array with the supplied value or array of values replaced by another value or an array of values.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>array_replace(array, before, after)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>array</strong> - the input array</p></li>
<li><p><strong>before</strong> - the value or array of values to replace</p></li>
<li><p><strong>after</strong> - the value or array of values to use as a replacement</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">array_replace(array('QGIS','SHOULD','ROCK'),'SHOULD','DOES')</span></code> → [ ‘QGIS’, ‘DOES’, ‘ROCK’ ]</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">array_replace(array(3,2,1),array(1,2,3),array(7,8,9))</span></code> → [ 9, 8, 7 ]</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">array_replace(array('Q','G','I','S'),array('Q','S'),'-')</span></code> → [ ‘-’, ‘G’, ‘I’, ‘-’ ]</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Map variant</strong></p>
<p>Returns an array with the supplied map keys replaced by their paired values.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>array_replace(array, map)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>array</strong> - the input array</p></li>
<li><p><strong>map</strong> - the map containing keys and values</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">array_replace(array('APP',</span> <span class="pre">'SHOULD',</span> <span class="pre">'ROCK'),map('APP','QGIS','SHOULD','DOES'))</span></code> → [ ‘QGIS’, ‘DOES’, ‘ROCK’ ]</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="array-reverse">
<span id="expression-function-arrays-array-reverse"></span><h3><a class="toc-backref" href="#id153"><span class="section-number">12.2.2.28. </span>array_reverse</a><a class="headerlink" href="#array-reverse" title="Permalink to this headline"></a></h3>
<p>Returns the given array with array values in reversed order.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>array_reverse(array)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>array</strong> - an array</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">array_reverse(array(2,4,0,10))</span></code> → [ 10, 0, 4, 2 ]</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="array-slice">
<span id="expression-function-arrays-array-slice"></span><h3><a class="toc-backref" href="#id154"><span class="section-number">12.2.2.29. </span>array_slice</a><a class="headerlink" href="#array-slice" title="Permalink to this headline"></a></h3>
<p>Returns a portion of the array. The slice is defined by the start_pos and end_pos arguments.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>array_slice(array, start_pos, end_pos)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>array</strong> - an array</p></li>
<li><p><strong>start_pos</strong> - the index of the start position of the slice (0 based). The start_pos index is included in the slice. If you use a negative start_pos, the index is counted from the end of the list (-1 based).</p></li>
<li><p><strong>end_pos</strong> - the index of the end position of the slice (0 based). The end_pos index is included in the slice. If you use a negative end_pos, the index is counted from the end of the list (-1 based).</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">array_slice(array(1,2,3,4,5),0,3)</span></code> → [ 1, 2, 3, 4 ]</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">array_slice(array(1,2,3,4,5),0,-1)</span></code> → [ 1, 2, 3, 4, 5 ]</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">array_slice(array(1,2,3,4,5),-5,-1)</span></code> → [ 1, 2, 3, 4, 5 ]</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">array_slice(array(1,2,3,4,5),0,0)</span></code> → [ 1 ]</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">array_slice(array(1,2,3,4,5),-2,-1)</span></code> → [ 4, 5 ]</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">array_slice(array(1,2,3,4,5),-1,-1)</span></code> → [ 5 ]</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">array_slice(array('Dufour','Valmiera','Chugiak','Brighton'),1,2)</span></code> → [ ‘Valmiera’, ‘Chugiak’ ]</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">array_slice(array('Dufour','Valmiera','Chugiak','Brighton'),-2,-1)</span></code> → [ ‘Chugiak’, ‘Brighton’ ]</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="array-sort">
<span id="expression-function-arrays-array-sort"></span><h3><a class="toc-backref" href="#id155"><span class="section-number">12.2.2.30. </span>array_sort</a><a class="headerlink" href="#array-sort" title="Permalink to this headline"></a></h3>
<p>Returns the provided array with its elements sorted.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>array_sort(array, [ascending=true])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>array</strong> - an array</p></li>
<li><p><strong>ascending</strong> - set this parameter to false to sort the array in descending order</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">array_sort(array(3,2,1))</span></code> → [ 1, 2, 3 ]</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="array-sum">
<span id="expression-function-arrays-array-sum"></span><h3><a class="toc-backref" href="#id156"><span class="section-number">12.2.2.31. </span>array_sum</a><a class="headerlink" href="#array-sum" title="Permalink to this headline"></a></h3>
<p>Returns the sum of arithmetic values in an array. Non numeric values in the array are ignored.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>array_sum(array)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>array</strong> - an array</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">array_sum(array(0,1,39.4,1.6,'a'))</span></code> → 42.0</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="array-to-string">
<span id="expression-function-arrays-array-to-string"></span><h3><a class="toc-backref" href="#id157"><span class="section-number">12.2.2.32. </span>array_to_string</a><a class="headerlink" href="#array-to-string" title="Permalink to this headline"></a></h3>
<p>Concatenates array elements into a string separated by a delimiter and using optional string for empty values.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>array_to_string(array, [delimiter=’,’], [empty_value=’’])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>array</strong> - the input array</p></li>
<li><p><strong>delimiter</strong> - the string delimiter used to separate concatenated array elements</p></li>
<li><p><strong>empty_value</strong> - the optional string to use as replacement for empty (zero length) matches</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">array_to_string(array('1','2','3'))</span></code> → ‘1,2,3’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">array_to_string(array(1,2,3),'-')</span></code> → ‘1-2-3’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">array_to_string(array('1','','3'),',','0')</span></code> → ‘1,0,3’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="generate-series">
<span id="expression-function-arrays-generate-series"></span><h3><a class="toc-backref" href="#id158"><span class="section-number">12.2.2.33. </span>generate_series</a><a class="headerlink" href="#generate-series" title="Permalink to this headline"></a></h3>
<p>Creates an array containing a sequence of numbers.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>generate_series(start, stop, [step=1])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>start</strong> - first value of the sequence</p></li>
<li><p><strong>stop</strong> - value that ends the sequence once reached</p></li>
<li><p><strong>step</strong> - value used as the increment between values</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">generate_series(1,5)</span></code> → [ 1, 2, 3, 4, 5 ]</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">generate_series(5,1,-1)</span></code> → [ 5, 4, 3, 2, 1 ]</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="regexp-matches">
<span id="expression-function-arrays-regexp-matches"></span><h3><a class="toc-backref" href="#id159"><span class="section-number">12.2.2.34. </span>regexp_matches</a><a class="headerlink" href="#regexp-matches" title="Permalink to this headline"></a></h3>
<p>Returns an array of all strings captured by capturing groups, in the order the groups themselves appear in the supplied regular expression against a string.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>regexp_matches(string, regex, [empty_value=’’])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>string</strong> - the string to capture groups from against the regular expression</p></li>
<li><p><strong>regex</strong> - the regular expression used to capture groups</p></li>
<li><p><strong>empty_value</strong> - the optional string to use as replacement for empty (zero length) matches</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">regexp_matches('QGIS=&gt;rocks','(.*)=&gt;(.*)')</span></code> → [ ‘QGIS’, ‘rocks’ ]</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">regexp_matches('key=&gt;','(.*)=&gt;(.*)','empty</span> <span class="pre">value')</span></code> → [ ‘key’, ‘empty value’ ]</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="string-to-array">
<span id="expression-function-arrays-string-to-array"></span><h3><a class="toc-backref" href="#id160"><span class="section-number">12.2.2.35. </span>string_to_array</a><a class="headerlink" href="#string-to-array" title="Permalink to this headline"></a></h3>
<p>Splits string into an array using supplied delimiter and optional string for empty values.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>string_to_array(string, [delimiter=’,’], [empty_value=’’])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>string</strong> - the input string</p></li>
<li><p><strong>delimiter</strong> - the string delimiter used to split the input string</p></li>
<li><p><strong>empty_value</strong> - the optional string to use as replacement for empty (zero length) matches</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">string_to_array('1,2,3',',')</span></code> → [ ‘1’, ‘2’, ‘3’ ]</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">string_to_array('1,,3',',','0')</span></code> → [ ‘1’, ‘0’, ‘3’ ]</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="color-functions">
<h2><a class="toc-backref" href="#id78"><span class="section-number">12.2.3. </span>Color Functions</a><a class="headerlink" href="#color-functions" title="Permalink to this headline"></a></h2>
<p>This group contains functions for manipulating colors.</p>
<div class="contents toc-columns local topic" id="id4">
<ul class="simple">
<li><p><a class="reference internal" href="#color-cmyk" id="id161">color_cmyk</a></p></li>
<li><p><a class="reference internal" href="#color-cmyka" id="id162">color_cmyka</a></p></li>
<li><p><a class="reference internal" href="#color-grayscale-average" id="id163">color_grayscale_average</a></p></li>
<li><p><a class="reference internal" href="#color-hsl" id="id164">color_hsl</a></p></li>
<li><p><a class="reference internal" href="#color-hsla" id="id165">color_hsla</a></p></li>
<li><p><a class="reference internal" href="#color-hsv" id="id166">color_hsv</a></p></li>
<li><p><a class="reference internal" href="#color-hsva" id="id167">color_hsva</a></p></li>
<li><p><a class="reference internal" href="#color-mix-rgb" id="id168">color_mix_rgb</a></p></li>
<li><p><a class="reference internal" href="#color-part" id="id169">color_part</a></p></li>
<li><p><a class="reference internal" href="#color-rgb" id="id170">color_rgb</a></p></li>
<li><p><a class="reference internal" href="#color-rgba" id="id171">color_rgba</a></p></li>
<li><p><a class="reference internal" href="#create-ramp" id="id172">create_ramp</a></p></li>
<li><p><a class="reference internal" href="#darker" id="id173">darker</a></p></li>
<li><p><a class="reference internal" href="#lighter" id="id174">lighter</a></p></li>
<li><p><a class="reference internal" href="#project-color" id="id175">project_color</a></p></li>
<li><p><a class="reference internal" href="#ramp-color" id="id176">ramp_color</a></p></li>
<li><p><a class="reference internal" href="#set-color-part" id="id177">set_color_part</a></p></li>
</ul>
</div>
<section id="color-cmyk">
<span id="expression-function-color-color-cmyk"></span><h3><a class="toc-backref" href="#id161"><span class="section-number">12.2.3.1. </span>color_cmyk</a><a class="headerlink" href="#color-cmyk" title="Permalink to this headline"></a></h3>
<p>Returns a string representation of a color based on its cyan, magenta, yellow and black components</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>color_cmyk(cyan, magenta, yellow, black)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>cyan</strong> - cyan component of the color, as a percentage integer value from 0 to 100</p></li>
<li><p><strong>magenta</strong> - magenta component of the color, as a percentage integer value from 0 to 100</p></li>
<li><p><strong>yellow</strong> - yellow component of the color, as a percentage integer value from 0 to 100</p></li>
<li><p><strong>black</strong> - black component of the color, as a percentage integer value from 0 to 100</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">color_cmyk(100,50,0,10)</span></code> → ‘0,115,230’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="color-cmyka">
<span id="expression-function-color-color-cmyka"></span><h3><a class="toc-backref" href="#id162"><span class="section-number">12.2.3.2. </span>color_cmyka</a><a class="headerlink" href="#color-cmyka" title="Permalink to this headline"></a></h3>
<p>Returns a string representation of a color based on its cyan, magenta, yellow, black and alpha (transparency) components</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>color_cmyka(cyan, magenta, yellow, black, alpha)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>cyan</strong> - cyan component of the color, as a percentage integer value from 0 to 100</p></li>
<li><p><strong>magenta</strong> - magenta component of the color, as a percentage integer value from 0 to 100</p></li>
<li><p><strong>yellow</strong> - yellow component of the color, as a percentage integer value from 0 to 100</p></li>
<li><p><strong>black</strong> - black component of the color, as a percentage integer value from 0 to 100</p></li>
<li><p><strong>alpha</strong> - alpha component as an integer value from 0 (completely transparent) to 255 (opaque).</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">color_cmyk(100,50,0,10,200)</span></code> → ‘0,115,230,200’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="color-grayscale-average">
<span id="expression-function-color-color-grayscale-average"></span><h3><a class="toc-backref" href="#id163"><span class="section-number">12.2.3.3. </span>color_grayscale_average</a><a class="headerlink" href="#color-grayscale-average" title="Permalink to this headline"></a></h3>
<p>Applies a grayscale filter and returns a string representation from a provided color.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>color_grayscale_average(color)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>color</strong> - a color string</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">color_grayscale_average('255,100,50')</span></code> → ‘135,135,135,255’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="color-hsl">
<span id="expression-function-color-color-hsl"></span><h3><a class="toc-backref" href="#id164"><span class="section-number">12.2.3.4. </span>color_hsl</a><a class="headerlink" href="#color-hsl" title="Permalink to this headline"></a></h3>
<p>Returns a string representation of a color based on its hue, saturation, and lightness attributes.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>color_hsl(hue, saturation, lightness)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>hue</strong> - hue of the color, as an integer value from 0 to 360</p></li>
<li><p><strong>saturation</strong> - saturation percentage of the color as an integer value from 0 to 100</p></li>
<li><p><strong>lightness</strong> - lightness percentage of the color as an integer value from 0 to 100</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">color_hsl(100,50,70)</span></code> → ‘166,217,140’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="color-hsla">
<span id="expression-function-color-color-hsla"></span><h3><a class="toc-backref" href="#id165"><span class="section-number">12.2.3.5. </span>color_hsla</a><a class="headerlink" href="#color-hsla" title="Permalink to this headline"></a></h3>
<p>Returns a string representation of a color based on its hue, saturation, lightness and alpha (transparency) attributes</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>color_hsla(hue, saturation, lightness, alpha)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>hue</strong> - hue of the color, as an integer value from 0 to 360</p></li>
<li><p><strong>saturation</strong> - saturation percentage of the color as an integer value from 0 to 100</p></li>
<li><p><strong>lightness</strong> - lightness percentage of the color as an integer value from 0 to 100</p></li>
<li><p><strong>alpha</strong> - alpha component as an integer value from 0 (completely transparent) to 255 (opaque).</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">color_hsla(100,50,70,200)</span></code> → ‘166,217,140,200’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="color-hsv">
<span id="expression-function-color-color-hsv"></span><h3><a class="toc-backref" href="#id166"><span class="section-number">12.2.3.6. </span>color_hsv</a><a class="headerlink" href="#color-hsv" title="Permalink to this headline"></a></h3>
<p>Returns a string representation of a color based on its hue, saturation, and value attributes.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>color_hsv(hue, saturation, value)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>hue</strong> - hue of the color, as an integer value from 0 to 360</p></li>
<li><p><strong>saturation</strong> - saturation percentage of the color as an integer value from 0 to 100</p></li>
<li><p><strong>value</strong> - value percentage of the color as an integer from 0 to 100</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">color_hsv(40,100,100)</span></code> → ‘255,170,0’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="color-hsva">
<span id="expression-function-color-color-hsva"></span><h3><a class="toc-backref" href="#id167"><span class="section-number">12.2.3.7. </span>color_hsva</a><a class="headerlink" href="#color-hsva" title="Permalink to this headline"></a></h3>
<p>Returns a string representation of a color based on its hue, saturation, value and alpha (transparency) attributes.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>color_hsva(hue, saturation, value, alpha)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>hue</strong> - hue of the color, as an integer value from 0 to 360</p></li>
<li><p><strong>saturation</strong> - saturation percentage of the color as an integer value from 0 to 100</p></li>
<li><p><strong>value</strong> - value percentage of the color as an integer from 0 to 100</p></li>
<li><p><strong>alpha</strong> - alpha component as an integer value from 0 (completely transparent) to 255 (opaque)</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">color_hsva(40,100,100,200)</span></code> → ‘255,170,0,200’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="color-mix-rgb">
<span id="expression-function-color-color-mix-rgb"></span><h3><a class="toc-backref" href="#id168"><span class="section-number">12.2.3.8. </span>color_mix_rgb</a><a class="headerlink" href="#color-mix-rgb" title="Permalink to this headline"></a></h3>
<p>Returns a string representing a color mixing the red, green, blue, and alpha values of two provided colors based on a given ratio.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>color_mix_rgb(color1, color2, ratio)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>color1</strong> - a color string</p></li>
<li><p><strong>color2</strong> - a color string</p></li>
<li><p><strong>ratio</strong> - a ratio</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">color_mix_rgb('0,0,0','255,255,255',0.5)</span></code> → ‘127,127,127,255’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="color-part">
<span id="expression-function-color-color-part"></span><h3><a class="toc-backref" href="#id169"><span class="section-number">12.2.3.9. </span>color_part</a><a class="headerlink" href="#color-part" title="Permalink to this headline"></a></h3>
<p>Returns a specific component from a color string, e.g., the red component or alpha component.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>color_part(color, component)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>color</strong> - a color string</p></li>
<li><p><strong>component</strong> - a string corresponding to the color component to return. Valid options are:</p>
<ul>
<li><p>red: RGB red component (0-255)</p></li>
<li><p>green: RGB green component (0-255)</p></li>
<li><p>blue: RGB blue component (0-255)</p></li>
<li><p>alpha: alpha (transparency) value (0-255)</p></li>
<li><p>hue: HSV hue (0-360)</p></li>
<li><p>saturation: HSV saturation (0-100)</p></li>
<li><p>value: HSV value (0-100)</p></li>
<li><p>hsl_hue: HSL hue (0-360)</p></li>
<li><p>hsl_saturation: HSL saturation (0-100)</p></li>
<li><p>lightness: HSL lightness (0-100)</p></li>
<li><p>cyan: CMYK cyan component (0-100)</p></li>
<li><p>magenta: CMYK magenta component (0-100)</p></li>
<li><p>yellow: CMYK yellow component (0-100)</p></li>
<li><p>black: CMYK black component (0-100)</p></li>
</ul>
</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">color_part('200,10,30','green')</span></code> → 10</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="color-rgb">
<span id="expression-function-color-color-rgb"></span><h3><a class="toc-backref" href="#id170"><span class="section-number">12.2.3.10. </span>color_rgb</a><a class="headerlink" href="#color-rgb" title="Permalink to this headline"></a></h3>
<p>Returns a string representation of a color based on its red, green, and blue components.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>color_rgb(red, green, blue)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>red</strong> - red component as an integer value from 0 to 255</p></li>
<li><p><strong>green</strong> - green component as an integer value from 0 to 255</p></li>
<li><p><strong>blue</strong> - blue component as an integer value from 0 to 255</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">color_rgb(255,127,0)</span></code> → ‘255,127,0’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="color-rgba">
<span id="expression-function-color-color-rgba"></span><h3><a class="toc-backref" href="#id171"><span class="section-number">12.2.3.11. </span>color_rgba</a><a class="headerlink" href="#color-rgba" title="Permalink to this headline"></a></h3>
<p>Returns a string representation of a color based on its red, green, blue, and alpha (transparency) components.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>color_rgba(red, green, blue, alpha)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>red</strong> - red component as an integer value from 0 to 255</p></li>
<li><p><strong>green</strong> - green component as an integer value from 0 to 255</p></li>
<li><p><strong>blue</strong> - blue component as an integer value from 0 to 255</p></li>
<li><p><strong>alpha</strong> - alpha component as an integer value from 0 (completely transparent) to 255 (opaque).</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">color_rgba(255,127,0,200)</span></code> → ‘255,127,0,200’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="create-ramp">
<span id="expression-function-color-create-ramp"></span><h3><a class="toc-backref" href="#id172"><span class="section-number">12.2.3.12. </span>create_ramp</a><a class="headerlink" href="#create-ramp" title="Permalink to this headline"></a></h3>
<p>Returns a gradient ramp from a map of color strings and steps.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>create_ramp(map, [discrete=false])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>map</strong> - a map of color strings and steps</p></li>
<li><p><strong>discrete</strong> - set this parameter to true to create a discrete color ramp</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ramp_color(create_ramp(map(0,'0,0,0',1,'255,0,0')),1)</span></code> → ‘255,0,0,255’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="darker">
<span id="expression-function-color-darker"></span><h3><a class="toc-backref" href="#id173"><span class="section-number">12.2.3.13. </span>darker</a><a class="headerlink" href="#darker" title="Permalink to this headline"></a></h3>
<p>Returns a darker (or lighter) color string</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>darker(color, factor)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>color</strong> - a color string</p></li>
<li><p><strong>factor</strong> - an integer corresponding to the darkening factor:</p>
<ul>
<li><p>if the factor is greater than 100, this function returns a darker color (e.g., setting factor to 200 returns a color that is half the brightness);</p></li>
<li><p>if the factor is less than 100, the return color is lighter, but using the lighter() function for this purpose is recommended;</p></li>
<li><p>if the factor is 0 or negative, the return value is unspecified.</p></li>
</ul>
</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">darker('200,10,30',</span> <span class="pre">200)</span></code> → ‘100,5,15,255’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="#expression-function-color-lighter"><span class="std std-ref">lighter</span></a></p>
</section>
<section id="lighter">
<span id="expression-function-color-lighter"></span><h3><a class="toc-backref" href="#id174"><span class="section-number">12.2.3.14. </span>lighter</a><a class="headerlink" href="#lighter" title="Permalink to this headline"></a></h3>
<p>Returns a lighter (or darker) color string</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>lighter(color, factor)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>color</strong> - a color string</p></li>
<li><p><strong>factor</strong> - an integer corresponding to the lightening factor:</p>
<ul>
<li><p>if the factor is greater than 100, this function returns a lighter color (e.g., setting factor to 150 returns a color that is 50% brighter);</p></li>
<li><p>if the factor is less than 100, the return color is darker, but using the darker() function for this purpose is recommended;</p></li>
<li><p>if the factor is 0 or negative, the return value is unspecified.</p></li>
</ul>
</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">lighter('200,10,30',</span> <span class="pre">200)</span></code> → ‘255,158,168,255’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="#expression-function-color-darker"><span class="std std-ref">darker</span></a></p>
</section>
<section id="project-color">
<span id="expression-function-color-project-color"></span><h3><a class="toc-backref" href="#id175"><span class="section-number">12.2.3.15. </span>project_color</a><a class="headerlink" href="#project-color" title="Permalink to this headline"></a></h3>
<p>Returns a color from the project’s color scheme.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>project_color(name)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>name</strong> - a color name</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">project_color('Logo</span> <span class="pre">color')</span></code> → ‘20,140,50’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="../introduction/qgis_configuration.html#project-colors"><span class="std std-ref">setting project colors</span></a></p>
</section>
<section id="ramp-color">
<span id="expression-function-color-ramp-color"></span><h3><a class="toc-backref" href="#id176"><span class="section-number">12.2.3.16. </span>ramp_color</a><a class="headerlink" href="#ramp-color" title="Permalink to this headline"></a></h3>
<p>Returns a string representing a color from a color ramp.</p>
<p><strong>Saved ramp variant</strong></p>
<p>Returns a string representing a color from a saved ramp</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>ramp_color(ramp_name, value)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>ramp_name</strong> - the name of the color ramp as a string, for example ‘Spectral’</p></li>
<li><p><strong>value</strong> - the position on the ramp to select the color from as a real number between 0 and 1</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ramp_color('Spectral',0.3)</span></code> → ‘253,190,115,255’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The color ramps available vary between QGIS installations. This function may not give the expected results if you move your QGIS project between installations.</p>
</div>
<p><strong>Expression-created ramp variant</strong></p>
<p>Returns a string representing a color from an expression-created ramp</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>ramp_color(ramp, value)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>ramp</strong> - the color ramp</p></li>
<li><p><strong>value</strong> - the position on the ramp to select the color from as a real number between 0 and 1</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ramp_color(create_ramp(map(0,'0,0,0',1,'255,0,0')),1)</span></code> → ‘255,0,0,255’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="../style_library/style_manager.html#color-ramp"><span class="std std-ref">Setting a Color Ramp</span></a>, <a class="reference internal" href="../introduction/general_tools.html#color-ramp-widget"><span class="std std-ref">The color ramp drop-down shortcut</span></a></p>
</section>
<section id="set-color-part">
<span id="expression-function-color-set-color-part"></span><h3><a class="toc-backref" href="#id177"><span class="section-number">12.2.3.17. </span>set_color_part</a><a class="headerlink" href="#set-color-part" title="Permalink to this headline"></a></h3>
<p>Sets a specific color component for a color string, e.g., the red component or alpha component.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>set_color_part(color, component, value)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>color</strong> - a color string</p></li>
<li><p><strong>component</strong> - a string corresponding to the color component to set. Valid options are:</p>
<ul>
<li><p>red: RGB red component (0-255)</p></li>
<li><p>green: RGB green component (0-255)</p></li>
<li><p>blue: RGB blue component (0-255)</p></li>
<li><p>alpha: alpha (transparency) value (0-255)</p></li>
<li><p>hue: HSV hue (0-360)</p></li>
<li><p>saturation: HSV saturation (0-100)</p></li>
<li><p>value: HSV value (0-100)</p></li>
<li><p>hsl_hue: HSL hue (0-360)</p></li>
<li><p>hsl_saturation: HSL saturation (0-100)</p></li>
<li><p>lightness: HSL lightness (0-100)</p></li>
<li><p>cyan: CMYK cyan component (0-100)</p></li>
<li><p>magenta: CMYK magenta component (0-100)</p></li>
<li><p>yellow: CMYK yellow component (0-100)</p></li>
<li><p>black: CMYK black component (0-100)</p></li>
</ul>
</li>
<li><p><strong>value</strong> - new value for color component, respecting the ranges listed above</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">set_color_part('200,10,30','green',50)</span></code> → ‘200,50,30,255’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="conditional-functions">
<h2><a class="toc-backref" href="#id79"><span class="section-number">12.2.4. </span>Conditional Functions</a><a class="headerlink" href="#conditional-functions" title="Permalink to this headline"></a></h2>
<p>This group contains functions to handle conditional checks in expressions.</p>
<div class="contents toc-columns local topic" id="id5">
<ul class="simple">
<li><p><a class="reference internal" href="#case" id="id178">CASE</a></p></li>
<li><p><a class="reference internal" href="#coalesce" id="id179">coalesce</a></p></li>
<li><p><a class="reference internal" href="#if" id="id180">if</a></p></li>
<li><p><a class="reference internal" href="#nullif" id="id181">nullif</a></p></li>
<li><p><a class="reference internal" href="#regexp-match" id="id182">regexp_match</a></p></li>
<li><p><a class="reference internal" href="#try" id="id183">try</a></p></li>
</ul>
</div>
<section id="case">
<span id="expression-function-conditionals-case"></span><h3><a class="toc-backref" href="#id178"><span class="section-number">12.2.4.1. </span>CASE</a><a class="headerlink" href="#case" title="Permalink to this headline"></a></h3>
<p>CASE is used to evaluate a series of conditions and return a result for the first condition met. The conditions are evaluated sequentially, and if a condition is true, the evaluation stops, and the corresponding result is returned. If none of the conditions are true, the value in the ELSE clause is returned. Furthermore, if no ELSE clause is set and none of the conditions are met, NULL is returned.</p>
<p>CASE</p>
<p>WHEN <em>condition</em> THEN <em>result</em></p>
<p>[ …n ]</p>
<p>[ ELSE <em>result</em> ]</p>
<p>END</p>
<p>[ ] marks optional components</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>WHEN condition</strong> - A condition expression to evaluate</p></li>
<li><p><strong>THEN result</strong> - If <em>condition</em> evaluates to True then <em>result</em> is evaluated and returned.</p></li>
<li><p><strong>ELSE result</strong> - If none of the above conditions evaluated to True then <em>result</em> is evaluated and returned.</p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CASE</span> <span class="pre">WHEN</span> <span class="pre">&quot;name&quot;</span> <span class="pre">IS</span> <span class="pre">NULL</span> <span class="pre">THEN</span> <span class="pre">'None'</span> <span class="pre">END</span></code> → Returns the string ‘None’ if the “name” field is NULL</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CASE</span> <span class="pre">WHEN</span> <span class="pre">$area</span> <span class="pre">&gt;</span> <span class="pre">10000</span> <span class="pre">THEN</span> <span class="pre">'Big</span> <span class="pre">property'</span> <span class="pre">WHEN</span> <span class="pre">$area</span> <span class="pre">&gt;</span> <span class="pre">5000</span> <span class="pre">THEN</span> <span class="pre">'Medium</span> <span class="pre">property'</span> <span class="pre">ELSE</span> <span class="pre">'Small</span> <span class="pre">property'</span> <span class="pre">END</span></code> → Returns the string ‘Big property’ if the area is bigger than 10000, ‘Medium property’ if the area is between 5000 and 10000, and ‘Small property’ for others</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="coalesce">
<span id="expression-function-conditionals-coalesce"></span><h3><a class="toc-backref" href="#id179"><span class="section-number">12.2.4.2. </span>coalesce</a><a class="headerlink" href="#coalesce" title="Permalink to this headline"></a></h3>
<p>Returns the first non-NULL value from the expression list.</p>
<p>This function can take any number of arguments.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>coalesce(expression1, expression2, …)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>expression</strong> - any valid expression or value, regardless of type.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">coalesce(NULL,</span> <span class="pre">2)</span></code> → 2</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">coalesce(NULL,</span> <span class="pre">2,</span> <span class="pre">3)</span></code> → 2</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">coalesce(7,</span> <span class="pre">NULL,</span> <span class="pre">3*2)</span></code> → 7</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">coalesce(&quot;fieldA&quot;,</span> <span class="pre">&quot;fallbackField&quot;,</span> <span class="pre">'ERROR')</span></code> → value of fieldA if it is non-NULL else the value of “fallbackField” or the string ‘ERROR’ if both are NULL</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="if">
<span id="expression-function-conditionals-if"></span><h3><a class="toc-backref" href="#id180"><span class="section-number">12.2.4.3. </span>if</a><a class="headerlink" href="#if" title="Permalink to this headline"></a></h3>
<p>Tests a condition and returns a different result depending on the conditional check.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>if(condition, result_when_true, result_when_false)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>condition</strong> - the condition which should be checked</p></li>
<li><p><strong>result_when_true</strong> - the result which will be returned when the condition is true or another value that does not convert to false.</p></li>
<li><p><strong>result_when_false</strong> - the result which will be returned when the condition is false or another value that converts to false like 0 or ‘’. NULL will also be converted to false.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">if(</span> <span class="pre">1+1=2,</span> <span class="pre">'Yes',</span> <span class="pre">'No'</span> <span class="pre">)</span></code> → ‘Yes’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">if(</span> <span class="pre">1+1=3,</span> <span class="pre">'Yes',</span> <span class="pre">'No'</span> <span class="pre">)</span></code> → ‘No’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">if(</span> <span class="pre">5</span> <span class="pre">&gt;</span> <span class="pre">3,</span> <span class="pre">1,</span> <span class="pre">0)</span></code> → 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">if(</span> <span class="pre">'',</span> <span class="pre">'It</span> <span class="pre">is</span> <span class="pre">true</span> <span class="pre">(not</span> <span class="pre">empty)',</span> <span class="pre">'It</span> <span class="pre">is</span> <span class="pre">false</span> <span class="pre">(empty)'</span> <span class="pre">)</span></code> → ‘It is false (empty)’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">if(</span> <span class="pre">'</span> <span class="pre">',</span> <span class="pre">'It</span> <span class="pre">is</span> <span class="pre">true</span> <span class="pre">(not</span> <span class="pre">empty)',</span> <span class="pre">'It</span> <span class="pre">is</span> <span class="pre">false</span> <span class="pre">(empty)'</span> <span class="pre">)</span></code> → ‘It is true (not empty)’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">if(</span> <span class="pre">0,</span> <span class="pre">'One',</span> <span class="pre">'Zero'</span> <span class="pre">)</span></code> → ‘Zero’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">if(</span> <span class="pre">10,</span> <span class="pre">'One',</span> <span class="pre">'Zero'</span> <span class="pre">)</span></code> → ‘One’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="nullif">
<span id="expression-function-conditionals-nullif"></span><h3><a class="toc-backref" href="#id181"><span class="section-number">12.2.4.4. </span>nullif</a><a class="headerlink" href="#nullif" title="Permalink to this headline"></a></h3>
<p>Returns a NULL value if value1 equals value2; otherwise it returns value1. This can be used to conditionally substitute values with NULL.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>nullif(value1, value2)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>value1</strong> - The value that should either be used or substituted with NULL.</p></li>
<li><p><strong>value2</strong> - The control value that will trigger the NULL substitution.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">nullif('(none)',</span> <span class="pre">'(none)')</span></code> → NULL</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nullif('text',</span> <span class="pre">'(none)')</span></code> → ‘text’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nullif(&quot;name&quot;,</span> <span class="pre">'')</span></code> → NULL, if name is an empty string (or already NULL), the name in any other case.</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="regexp-match">
<span id="expression-function-conditionals-regexp-match"></span><h3><a class="toc-backref" href="#id182"><span class="section-number">12.2.4.5. </span>regexp_match</a><a class="headerlink" href="#regexp-match" title="Permalink to this headline"></a></h3>
<p>Return the first matching position matching a regular expression within an unicode string, or 0 if the substring is not found.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>regexp_match(input_string, regex)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>input_string</strong> - the string to test against the regular expression</p></li>
<li><p><strong>regex</strong> - The regular expression to test against. Backslash characters must be double escaped (e.g., “\\s” to match a white space character or  “\\b” to match a word boundary).</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">regexp_match('QGIS</span> <span class="pre">ROCKS','\\sROCKS')</span></code> → 5</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">regexp_match('Budač','udač\\b')</span></code> → 2</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="try">
<span id="expression-function-conditionals-try"></span><h3><a class="toc-backref" href="#id183"><span class="section-number">12.2.4.6. </span>try</a><a class="headerlink" href="#try" title="Permalink to this headline"></a></h3>
<p>Tries an expression and returns its value if error-free. If the expression returns an error, an alternative value will be returned when provided otherwise the function will return NULL.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>try(expression, [alternative])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>expression</strong> - the expression which should be run</p></li>
<li><p><strong>alternative</strong> - the result which will be returned if the expression returns an error.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">try(</span> <span class="pre">to_int(</span> <span class="pre">'1'</span> <span class="pre">),</span> <span class="pre">0</span> <span class="pre">)</span></code> → 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">try(</span> <span class="pre">to_int(</span> <span class="pre">'a'</span> <span class="pre">),</span> <span class="pre">0</span> <span class="pre">)</span></code> → 0</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">try(</span> <span class="pre">to_date(</span> <span class="pre">'invalid_date'</span> <span class="pre">)</span> <span class="pre">)</span></code> → NULL</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="conversions-functions">
<span id="conversion-functions"></span><h2><a class="toc-backref" href="#id80"><span class="section-number">12.2.5. </span>Conversions Functions</a><a class="headerlink" href="#conversions-functions" title="Permalink to this headline"></a></h2>
<p>This group contains functions to convert one data type to another
(e.g., string from/to integer, binary from/to string, string to date, …).</p>
<div class="contents toc-columns local topic" id="id6">
<ul class="simple">
<li><p><a class="reference internal" href="#from-base64" id="id184">from_base64</a></p></li>
<li><p><a class="reference internal" href="#hash" id="id185">hash</a></p></li>
<li><p><a class="reference internal" href="#md5" id="id186">md5</a></p></li>
<li><p><a class="reference internal" href="#sha256" id="id187">sha256</a></p></li>
<li><p><a class="reference internal" href="#to-base64" id="id188">to_base64</a></p></li>
<li><p><a class="reference internal" href="#to-date" id="id189">to_date</a></p></li>
<li><p><a class="reference internal" href="#to-datetime" id="id190">to_datetime</a></p></li>
<li><p><a class="reference internal" href="#to-decimal" id="id191">to_decimal</a></p></li>
<li><p><a class="reference internal" href="#to-dm" id="id192">to_dm</a></p></li>
<li><p><a class="reference internal" href="#to-dms" id="id193">to_dms</a></p></li>
<li><p><a class="reference internal" href="#to-int" id="id194">to_int</a></p></li>
<li><p><a class="reference internal" href="#to-interval" id="id195">to_interval</a></p></li>
<li><p><a class="reference internal" href="#to-real" id="id196">to_real</a></p></li>
<li><p><a class="reference internal" href="#to-string" id="id197">to_string</a></p></li>
<li><p><a class="reference internal" href="#to-time" id="id198">to_time</a></p></li>
</ul>
</div>
<section id="from-base64">
<span id="expression-function-conversions-from-base64"></span><h3><a class="toc-backref" href="#id184"><span class="section-number">12.2.5.1. </span>from_base64</a><a class="headerlink" href="#from-base64" title="Permalink to this headline"></a></h3>
<p>Decodes a string in the Base64 encoding into a binary value.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>from_base64(string)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>string</strong> - the string to decode</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">from_base64('UUdJUw==')</span></code> → ‘QGIS’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="hash">
<span id="expression-function-conversions-hash"></span><h3><a class="toc-backref" href="#id185"><span class="section-number">12.2.5.2. </span>hash</a><a class="headerlink" href="#hash" title="Permalink to this headline"></a></h3>
<p>Creates a hash from a string with a given method. One byte (8 bits) is represented with two hex ‘’digits’’, so ‘md4’ (16 bytes) produces a 16 * 2 = 32 character long hex string and ‘keccak_512’ (64 bytes) produces a 64 * 2 = 128 character long hex string.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>hash(string, method)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>string</strong> - the string to hash</p></li>
<li><p><strong>method</strong> - The hash method among ‘md4’, ‘md5’, ‘sha1’, ‘sha224’, ‘sha384’, ‘sha512’, ‘sha3_224’, ‘sha3_256’, ‘sha3_384’, ‘sha3_512’, ‘keccak_224’, ‘keccak_256’, ‘keccak_384’, ‘keccak_512’</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">hash('QGIS',</span> <span class="pre">'md4')</span></code> → ‘c0fc71c241cdebb6e888cbac0e2b68eb’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hash('QGIS',</span> <span class="pre">'md5')</span></code> → ‘57470aaa9e22adaefac7f5f342f1c6da’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hash('QGIS',</span> <span class="pre">'sha1')</span></code> → ‘f87cfb2b74cdd5867db913237024e7001e62b114’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hash('QGIS',</span> <span class="pre">'sha224')</span></code> → ‘4093a619ada631c770f44bc643ead18fb393b93d6a6af1861fcfece0’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hash('QGIS',</span> <span class="pre">'sha256')</span></code> → ‘eb045cba7a797aaa06ac58830846e40c8e8c780bc0676d3393605fae50c05309’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hash('QGIS',</span> <span class="pre">'sha384')</span></code> → ‘91c1de038cc3d09fdd512e99f9dd9922efadc39ed21d3922e69a4305cc25506033aee388e554b78714c8734f9cd7e610’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hash('QGIS',</span> <span class="pre">'sha512')</span></code> → ‘c2c092f2ab743bf8edbeb6d028a745f30fc720408465ed369421f0a4e20fa5e27f0c90ad72d3f1d836eaa5d25cd39897d4cf77e19984668ef58da6e3159f18ac’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hash('QGIS',</span> <span class="pre">'sha3_224')</span></code> → ‘467f49a5039e7280d5d42fd433e80d203439e338eaabd701f0d6c17d’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hash('QGIS',</span> <span class="pre">'sha3_256')</span></code> → ‘540f7354b6b8a6e735f2845250f15f4f3ba4f666c55574d9e9354575de0e980f’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hash('QGIS',</span> <span class="pre">'sha3_384')</span></code> → ‘96052da1e77679e9a65f60d7ead961b287977823144786386eb43647b0901fd8516fa6f1b9d243fb3f28775e6dde6107’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hash('QGIS',</span> <span class="pre">'sha3_512')</span></code> → ‘900d079dc69761da113980253aa8ac0414a8bd6d09879a916228f8743707c4758051c98445d6b8945ec854ff90655005e02aceb0a2ffc6a0ebf818745d665349’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hash('QGIS',</span> <span class="pre">'keccak_224')</span></code> → ‘5b0ce6acef8b0a121d4ac4f3eaa8503c799ad4e26a3392d1fb201478’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hash('QGIS',</span> <span class="pre">'keccak_256')</span></code> → ‘991c520aa6815392de24087f61b2ae0fd56abbfeee4a8ca019c1011d327c577e’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hash('QGIS',</span> <span class="pre">'keccak_384')</span></code> → ‘c57a3aed9d856fa04e5eeee9b62b6e027cca81ba574116d3cc1f0d48a1ef9e5886ff463ea8d0fac772ee473bf92f810d’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="md5">
<span id="expression-function-conversions-md5"></span><h3><a class="toc-backref" href="#id186"><span class="section-number">12.2.5.3. </span>md5</a><a class="headerlink" href="#md5" title="Permalink to this headline"></a></h3>
<p>Creates a md5 hash from a string.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>md5(string)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>string</strong> - the string to hash</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">md5('QGIS')</span></code> → ‘57470aaa9e22adaefac7f5f342f1c6da’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="sha256">
<span id="expression-function-conversions-sha256"></span><h3><a class="toc-backref" href="#id187"><span class="section-number">12.2.5.4. </span>sha256</a><a class="headerlink" href="#sha256" title="Permalink to this headline"></a></h3>
<p>Creates a sha256 hash from a string.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>sha256(string)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>string</strong> - the string to hash</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">sha256('QGIS')</span></code> → ‘eb045cba7a797aaa06ac58830846e40c8e8c780bc0676d3393605fae50c05309’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="to-base64">
<span id="expression-function-conversions-to-base64"></span><h3><a class="toc-backref" href="#id188"><span class="section-number">12.2.5.5. </span>to_base64</a><a class="headerlink" href="#to-base64" title="Permalink to this headline"></a></h3>
<p>Encodes a binary value into a string, using the Base64 encoding.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>to_base64(value)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>value</strong> - the binary value to encode</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">to_base64('QGIS')</span></code> → ‘UUdJUw==’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="to-date">
<span id="expression-function-conversions-to-date"></span><h3><a class="toc-backref" href="#id189"><span class="section-number">12.2.5.6. </span>to_date</a><a class="headerlink" href="#to-date" title="Permalink to this headline"></a></h3>
<p>Converts a string into a date object. An optional format string can be provided to parse the string; see <a class="reference external" href="https://doc.qt.io/qt-5/qdate.html#fromString-2">QDate::fromString</a> or the documentation of the format_date function for additional documentation on the format. By default the current QGIS user locale is used.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>to_date(string, [format], [language])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>string</strong> - string representing a date value</p></li>
<li><p><strong>format</strong> - format used to convert the string into a date</p></li>
<li><p><strong>language</strong> - language (lowercase, two- or three-letter, ISO 639 language code) used to convert the string into a date. By default the current QGIS user locale is used.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">to_date('2012-05-04')</span></code> → 2012-05-04</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">to_date('June</span> <span class="pre">29,</span> <span class="pre">2019','MMMM</span> <span class="pre">d,</span> <span class="pre">yyyy')</span></code> → 2019-06-29, if the current locale uses the name ‘June’ for the sixth month, otherwise an error occurs</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">to_date('29</span> <span class="pre">juin,</span> <span class="pre">2019','d</span> <span class="pre">MMMM,</span> <span class="pre">yyyy','fr')</span></code> → 2019-06-29</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="to-datetime">
<span id="expression-function-conversions-to-datetime"></span><h3><a class="toc-backref" href="#id190"><span class="section-number">12.2.5.7. </span>to_datetime</a><a class="headerlink" href="#to-datetime" title="Permalink to this headline"></a></h3>
<p>Converts a string into a datetime object. An optional format string can be provided to parse the string; see <a class="reference external" href="https://doc.qt.io/qt-5/qdate.html#fromString-2">QDate::fromString</a>, <a class="reference external" href="https://doc.qt.io/qt-5/qtime.html#fromString-1">QTime::fromString</a> or the documentation of the format_date function for additional documentation on the format. By default the current QGIS user locale is used.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>to_datetime(string, [format], [language])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>string</strong> - string representing a datetime value</p></li>
<li><p><strong>format</strong> - format used to convert the string into a datetime</p></li>
<li><p><strong>language</strong> - language (lowercase, two- or three-letter, ISO 639 language code) used to convert the string into a datetime. By default the current QGIS user locale is used.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">to_datetime('2012-05-04</span> <span class="pre">12:50:00')</span></code> → 2012-05-04T12:50:00</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">to_datetime('June</span> <span class="pre">29,</span> <span class="pre">2019</span> <span class="pre">&#64;</span> <span class="pre">12:34','MMMM</span> <span class="pre">d,</span> <span class="pre">yyyy</span> <span class="pre">&#64;</span> <span class="pre">HH:mm')</span></code> → 2019-06-29T12:34, if the current locale uses the name ‘June’ for the sixth month, otherwise an error occurs</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">to_datetime('29</span> <span class="pre">juin,</span> <span class="pre">2019</span> <span class="pre">&#64;</span> <span class="pre">12:34','d</span> <span class="pre">MMMM,</span> <span class="pre">yyyy</span> <span class="pre">&#64;</span> <span class="pre">HH:mm','fr')</span></code> → 2019-06-29T12:34</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="to-decimal">
<span id="expression-function-conversions-to-decimal"></span><h3><a class="toc-backref" href="#id191"><span class="section-number">12.2.5.8. </span>to_decimal</a><a class="headerlink" href="#to-decimal" title="Permalink to this headline"></a></h3>
<p>Converts a degree, minute, second coordinate to its decimal equivalent.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>to_decimal(value)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>value</strong> - A degree, minute, second string.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">to_decimal('6°21\'16.445')</span></code> → 6.3545680555</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="to-dm">
<span id="expression-function-conversions-to-dm"></span><h3><a class="toc-backref" href="#id192"><span class="section-number">12.2.5.9. </span>to_dm</a><a class="headerlink" href="#to-dm" title="Permalink to this headline"></a></h3>
<p>Converts a coordinate to degree, minute.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>to_dm(coordinate, axis, precision, [formatting=])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>coordinate</strong> - A latitude or longitude value.</p></li>
<li><p><strong>axis</strong> - The axis of the coordinate. Either ‘x’ or ‘y’.</p></li>
<li><p><strong>precision</strong> - Number of decimals.</p></li>
<li><p><strong>formatting</strong> - Designates the formatting type. Acceptable values are NULL (default), ‘aligned’ or ‘suffix’.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">to_dm(6.1545681,</span> <span class="pre">'x',</span> <span class="pre">3)</span></code> → 6°9.274′</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">to_dm(6.1545681,</span> <span class="pre">'y',</span> <span class="pre">4,</span> <span class="pre">'aligned')</span></code> → 6°09.2741′N</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">to_dm(6.1545681,</span> <span class="pre">'y',</span> <span class="pre">4,</span> <span class="pre">'suffix')</span></code> → 6°9.2741′N</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="to-dms">
<span id="expression-function-conversions-to-dms"></span><h3><a class="toc-backref" href="#id193"><span class="section-number">12.2.5.10. </span>to_dms</a><a class="headerlink" href="#to-dms" title="Permalink to this headline"></a></h3>
<p>Converts a coordinate to degree, minute, second.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>to_dms(coordinate, axis, precision, [formatting=])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>coordinate</strong> - A latitude or longitude value.</p></li>
<li><p><strong>axis</strong> - The axis of the coordinate. Either ‘x’ or ‘y’.</p></li>
<li><p><strong>precision</strong> - Number of decimals.</p></li>
<li><p><strong>formatting</strong> - Designates the formatting type. Acceptable values are NULL (default), ‘aligned’ or ‘suffix’.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">to_dms(6.1545681,</span> <span class="pre">'x',</span> <span class="pre">3)</span></code> → 6°9′16.445″</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">to_dms(6.1545681,</span> <span class="pre">'y',</span> <span class="pre">4,</span> <span class="pre">'aligned')</span></code> → 6°09′16.4452″N</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">to_dms(6.1545681,</span> <span class="pre">'y',</span> <span class="pre">4,</span> <span class="pre">'suffix')</span></code> → 6°9′16.4452″N</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="to-int">
<span id="expression-function-conversions-to-int"></span><h3><a class="toc-backref" href="#id194"><span class="section-number">12.2.5.11. </span>to_int</a><a class="headerlink" href="#to-int" title="Permalink to this headline"></a></h3>
<p>Converts a string to integer number. Nothing is returned if a value cannot be converted to integer (e.g ‘123asd’ is invalid).</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>to_int(string)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>string</strong> - string to convert to integer number</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">to_int('123')</span></code> → 123</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="to-interval">
<span id="expression-function-conversions-to-interval"></span><h3><a class="toc-backref" href="#id195"><span class="section-number">12.2.5.12. </span>to_interval</a><a class="headerlink" href="#to-interval" title="Permalink to this headline"></a></h3>
<p>Converts a string to an interval type. Can be used to take days, hours, month, etc of a date.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>to_interval(string)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>string</strong> - a string representing an interval. Allowable formats include {n} days {n} hours {n} months.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">to_interval('1</span> <span class="pre">day</span> <span class="pre">2</span> <span class="pre">hours')</span></code> → interval: 1.08333 days</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">to_interval(</span> <span class="pre">'0.5</span> <span class="pre">hours'</span> <span class="pre">)</span></code> → interval: 30 minutes</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">to_datetime('2012-05-05</span> <span class="pre">12:00:00')</span> <span class="pre">-</span> <span class="pre">to_interval('1</span> <span class="pre">day</span> <span class="pre">2</span> <span class="pre">hours')</span></code> → 2012-05-04T10:00:00</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="to-real">
<span id="expression-function-conversions-to-real"></span><h3><a class="toc-backref" href="#id196"><span class="section-number">12.2.5.13. </span>to_real</a><a class="headerlink" href="#to-real" title="Permalink to this headline"></a></h3>
<p>Converts a string to a real number. Nothing is returned if a value cannot be converted to real (e.g ‘123.56asd’ is invalid).  Numbers are rounded after saving changes if the precision is smaller than the result of the conversion.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>to_real(string)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>string</strong> - string to convert to real number</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">to_real('123.45')</span></code> → 123.45</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="to-string">
<span id="expression-function-conversions-to-string"></span><h3><a class="toc-backref" href="#id197"><span class="section-number">12.2.5.14. </span>to_string</a><a class="headerlink" href="#to-string" title="Permalink to this headline"></a></h3>
<p>Converts a number to string.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>to_string(number)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>number</strong> - Integer or real value. The number to convert to string.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">to_string(123)</span></code> → ‘123’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="to-time">
<span id="expression-function-conversions-to-time"></span><h3><a class="toc-backref" href="#id198"><span class="section-number">12.2.5.15. </span>to_time</a><a class="headerlink" href="#to-time" title="Permalink to this headline"></a></h3>
<p>Converts a string into a time object. An optional format string can be provided to parse the string; see <a class="reference external" href="https://doc.qt.io/qt-5/qtime.html#fromString-1">QTime::fromString</a> for additional documentation on the format.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>to_time(string, [format], [language])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>string</strong> - string representing a time value</p></li>
<li><p><strong>format</strong> - format used to convert the string into a time</p></li>
<li><p><strong>language</strong> - language (lowercase, two- or three-letter, ISO 639 language code) used to convert the string into a time</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">to_time('12:30:01')</span></code> → 12:30:01</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">to_time('12:34','HH:mm')</span></code> → 12:34:00</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">to_time('12:34','HH:mm','fr')</span></code> → 12:34:00</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="custom-functions">
<h2><a class="toc-backref" href="#id81"><span class="section-number">12.2.6. </span>Custom Functions</a><a class="headerlink" href="#custom-functions" title="Permalink to this headline"></a></h2>
<p>This group contains functions created by the user.
See <a class="reference internal" href="expression.html#function-editor"><span class="std std-ref">Function Editor</span></a> for more details.</p>
</section>
<section id="date-and-time-functions">
<h2><a class="toc-backref" href="#id82"><span class="section-number">12.2.7. </span>Date and Time Functions</a><a class="headerlink" href="#date-and-time-functions" title="Permalink to this headline"></a></h2>
<p>This group contains functions for handling date and time data.
This group shares several functions with the <a class="reference internal" href="#conversion-functions"><span class="std std-ref">Conversions Functions</span></a>
(to_date, to_time, to_datetime, to_interval) and <a class="reference internal" href="#string-functions"><span class="std std-ref">String Functions</span></a>
(format_date) groups.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Storing date, datetime and intervals on fields</strong></p>
<p>The ability to store <em>date</em>, <em>time</em> and <em>datetime</em> values directly on
fields depends on the data source’s provider (e.g., Shapefile accepts
<em>date</em> format, but not <em>datetime</em> or <em>time</em> format). The following are some
suggestions to overcome this limitation:</p>
<ul class="simple">
<li><p><em>date</em>, <em>datetime</em> and <em>time</em> can be converted and stored in text type fields
using the <a class="reference internal" href="#expression-function-date-and-time-format-date"><span class="std std-ref">format_date()</span></a>
function.</p></li>
<li><p><em>Intervals</em> can be stored in integer or decimal type fields after using
one of the date extraction functions (e.g., <a class="reference internal" href="#expression-function-date-and-time-day"><span class="std std-ref">day()</span></a>
to get the interval expressed in days)</p></li>
</ul>
</div>
<div class="contents toc-columns local topic" id="id9">
<ul class="simple">
<li><p><a class="reference internal" href="#age" id="id199">age</a></p></li>
<li><p><a class="reference internal" href="#datetime-from-epoch" id="id200">datetime_from_epoch</a></p></li>
<li><p><a class="reference internal" href="#day" id="id201">day</a></p></li>
<li><p><a class="reference internal" href="#day-of-week" id="id202">day_of_week</a></p></li>
<li><p><a class="reference internal" href="#epoch" id="id203">epoch</a></p></li>
<li><p><a class="reference internal" href="#format-date" id="id204">format_date</a></p></li>
<li><p><a class="reference internal" href="#hour" id="id205">hour</a></p></li>
<li><p><a class="reference internal" href="#make-date" id="id206">make_date</a></p></li>
<li><p><a class="reference internal" href="#make-datetime" id="id207">make_datetime</a></p></li>
<li><p><a class="reference internal" href="#make-interval" id="id208">make_interval</a></p></li>
<li><p><a class="reference internal" href="#make-time" id="id209">make_time</a></p></li>
<li><p><a class="reference internal" href="#minute" id="id210">minute</a></p></li>
<li><p><a class="reference internal" href="#month" id="id211">month</a></p></li>
<li><p><a class="reference internal" href="#now" id="id212">now</a></p></li>
<li><p><a class="reference internal" href="#second" id="id213">second</a></p></li>
<li><p><a class="reference internal" href="#expression-function-date-and-time-to-date" id="id214">to_date</a></p></li>
<li><p><a class="reference internal" href="#expression-function-date-and-time-to-datetime" id="id215">to_datetime</a></p></li>
<li><p><a class="reference internal" href="#expression-function-date-and-time-to-interval" id="id216">to_interval</a></p></li>
<li><p><a class="reference internal" href="#expression-function-date-and-time-to-time" id="id217">to_time</a></p></li>
<li><p><a class="reference internal" href="#week" id="id218">week</a></p></li>
<li><p><a class="reference internal" href="#year" id="id219">year</a></p></li>
</ul>
</div>
<section id="age">
<span id="expression-function-date-and-time-age"></span><h3><a class="toc-backref" href="#id199"><span class="section-number">12.2.7.1. </span>age</a><a class="headerlink" href="#age" title="Permalink to this headline"></a></h3>
<p>Returns the difference between two dates or datetimes.</p>
<p>The difference is returned as an <code class="docutils literal notranslate"><span class="pre">Interval</span></code> and needs to be used with one of the following functions in order to extract useful information:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">year</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">month</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">week</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">day</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hour</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">minute</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">second</span></code></p></li>
</ul>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>age(datetime1, datetime2)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>datetime1</strong> - a string, date or datetime representing the later date</p></li>
<li><p><strong>datetime2</strong> - a string, date or datetime representing the earlier date</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">day(age('2012-05-12','2012-05-02'))</span></code> → 10</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hour(age('2012-05-12','2012-05-02'))</span></code> → 240</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="datetime-from-epoch">
<span id="expression-function-date-and-time-datetime-from-epoch"></span><h3><a class="toc-backref" href="#id200"><span class="section-number">12.2.7.2. </span>datetime_from_epoch</a><a class="headerlink" href="#datetime-from-epoch" title="Permalink to this headline"></a></h3>
<p>Returns a datetime whose date and time are the number of milliseconds, msecs, that have passed since 1970-01-01T00:00:00.000, Coordinated Universal Time (Qt.UTC), and converted to Qt.LocalTime.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>datetime_from_epoch(int)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>int</strong> - number (milliseconds)</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">datetime_from_epoch(1483225200000)</span></code> → 2017-01-01T00:00:00</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="day">
<span id="expression-function-date-and-time-day"></span><h3><a class="toc-backref" href="#id201"><span class="section-number">12.2.7.3. </span>day</a><a class="headerlink" href="#day" title="Permalink to this headline"></a></h3>
<p>Extracts the day from a date, or the number of days from an interval.</p>
<p><strong>Date variant</strong></p>
<p>Extracts the day from a date or datetime.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>day(date)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>date</strong> - a date or datetime value</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">day('2012-05-12')</span></code> → 12</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Interval variant</strong></p>
<p>Calculates the length in days of an interval.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>day(interval)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>interval</strong> - interval value to return number of days from</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">day(to_interval('3</span> <span class="pre">days'))</span></code> → 3</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">day(to_interval('3</span> <span class="pre">weeks</span> <span class="pre">2</span> <span class="pre">days'))</span></code> → 23</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">day(age('2012-01-01','2010-01-01'))</span></code> → 730</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="day-of-week">
<span id="expression-function-date-and-time-day-of-week"></span><h3><a class="toc-backref" href="#id202"><span class="section-number">12.2.7.4. </span>day_of_week</a><a class="headerlink" href="#day-of-week" title="Permalink to this headline"></a></h3>
<p>Returns the day of the week for a specified date or datetime. The returned value ranges from 0 to 6, where 0 corresponds to a Sunday and 6 to a Saturday.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>day_of_week(date)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>date</strong> - date or datetime value</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">day_of_week(to_date('2015-09-21'))</span></code> → 1</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="epoch">
<span id="expression-function-date-and-time-epoch"></span><h3><a class="toc-backref" href="#id203"><span class="section-number">12.2.7.5. </span>epoch</a><a class="headerlink" href="#epoch" title="Permalink to this headline"></a></h3>
<p>Returns the interval in milliseconds between the unix epoch and a given date value.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>epoch(date)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>date</strong> - a date or datetime value</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">epoch(to_date('2017-01-01'))</span></code> → 1483203600000</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="format-date">
<span id="expression-function-date-and-time-format-date"></span><h3><a class="toc-backref" href="#id204"><span class="section-number">12.2.7.6. </span>format_date</a><a class="headerlink" href="#format-date" title="Permalink to this headline"></a></h3>
<p>Formats a date type or string into a custom string format. Uses Qt date/time format strings. See <a class="reference external" href="https://doc.qt.io/qt-5/qdatetime.html#toString">QDateTime::toString</a>.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>format_date(datetime, format, [language])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul>
<li><p><strong>datetime</strong> - date, time or datetime value</p></li>
<li><p><strong>format</strong> - String template used to format the string.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Expression</p></th>
<th class="head"><p>Output</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>d</p></td>
<td><p>the day as number without a leading zero (1 to 31)</p></td>
</tr>
<tr class="row-odd"><td><p>dd</p></td>
<td><p>the day as number with a leading zero (01 to 31)</p></td>
</tr>
<tr class="row-even"><td><p>ddd</p></td>
<td><p>the abbreviated localized day name (e.g. ‘Mon’ to ‘Sun’)</p></td>
</tr>
<tr class="row-odd"><td><p>dddd</p></td>
<td><p>the long localized day name (e.g. ‘Monday’ to ‘Sunday’)</p></td>
</tr>
<tr class="row-even"><td><p>M</p></td>
<td><p>the month as number without a leading zero (1-12)</p></td>
</tr>
<tr class="row-odd"><td><p>MM</p></td>
<td><p>the month as number with a leading zero (01-12)</p></td>
</tr>
<tr class="row-even"><td><p>MMM</p></td>
<td><p>the abbreviated localized month name (e.g. ‘Jan’ to ‘Dec’)</p></td>
</tr>
<tr class="row-odd"><td><p>MMMM</p></td>
<td><p>the long localized month name (e.g. ‘January’ to ‘December’)</p></td>
</tr>
<tr class="row-even"><td><p>yy</p></td>
<td><p>the year as two digit number (00-99)</p></td>
</tr>
<tr class="row-odd"><td><p>yyyy</p></td>
<td><p>the year as four digit number</p></td>
</tr>
</tbody>
</table>
<p>These expressions may be used for the time part of the format string:</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Expression</p></th>
<th class="head"><p>Output</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>h</p></td>
<td><p>the hour without a leading zero (0 to 23 or 1 to 12 if AM/PM display)</p></td>
</tr>
<tr class="row-odd"><td><p>hh</p></td>
<td><p>the hour with a leading zero (00 to 23 or 01 to 12 if AM/PM display)</p></td>
</tr>
<tr class="row-even"><td><p>H</p></td>
<td><p>the hour without a leading zero (0 to 23, even with AM/PM display)</p></td>
</tr>
<tr class="row-odd"><td><p>HH</p></td>
<td><p>the hour with a leading zero (00 to 23, even with AM/PM display)</p></td>
</tr>
<tr class="row-even"><td><p>m</p></td>
<td><p>the minute without a leading zero (0 to 59)</p></td>
</tr>
<tr class="row-odd"><td><p>mm</p></td>
<td><p>the minute with a leading zero (00 to 59)</p></td>
</tr>
<tr class="row-even"><td><p>s</p></td>
<td><p>the second without a leading zero (0 to 59)</p></td>
</tr>
<tr class="row-odd"><td><p>ss</p></td>
<td><p>the second with a leading zero (00 to 59)</p></td>
</tr>
<tr class="row-even"><td><p>z</p></td>
<td><p>the milliseconds without trailing zeroes (0 to 999)</p></td>
</tr>
<tr class="row-odd"><td><p>zzz</p></td>
<td><p>the milliseconds with trailing zeroes (000 to 999)</p></td>
</tr>
<tr class="row-even"><td><p>AP or A</p></td>
<td><p>interpret as an AM/PM time. <em>AP</em> must be either ‘AM’ or ‘PM’.</p></td>
</tr>
<tr class="row-odd"><td><p>ap or a</p></td>
<td><p>Interpret as an AM/PM time. <em>ap</em> must be either ‘am’ or ‘pm’.</p></td>
</tr>
</tbody>
</table>
</li>
<li><p><strong>language</strong> - language (lowercase, two- or three-letter, <a class="reference external" href="https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes">ISO 639 language code</a>) used to format the date into a custom string. By default the current QGIS user locale is used.</p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">format_date('2012-05-15','dd.MM.yyyy')</span></code> → ‘15.05.2012’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">format_date('2012-05-15','d</span> <span class="pre">MMMM</span> <span class="pre">yyyy','fr')</span></code> → ‘15 mai 2012’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">format_date('2012-05-15','dddd')</span></code> → ‘Tuesday’, if the current locale is an English variant</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">format_date('2012-05-15</span> <span class="pre">13:54:20','dd.MM.yy')</span></code> → ‘15.05.12’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">format_date('13:54:20','hh:mm</span> <span class="pre">AP')</span></code> → ‘01:54 PM’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="hour">
<span id="expression-function-date-and-time-hour"></span><h3><a class="toc-backref" href="#id205"><span class="section-number">12.2.7.7. </span>hour</a><a class="headerlink" href="#hour" title="Permalink to this headline"></a></h3>
<p>Extracts the hour part from a datetime or time, or the number of hours from an interval.</p>
<p><strong>Time variant</strong></p>
<p>Extracts the hour part from a time or datetime.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>hour(datetime)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>datetime</strong> - a time or datetime value</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">hour(</span> <span class="pre">to_datetime('2012-07-22</span> <span class="pre">13:24:57')</span> <span class="pre">)</span></code> → 13</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Interval variant</strong></p>
<p>Calculates the length in hours of an interval.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>hour(interval)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>interval</strong> - interval value to return number of hours from</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">hour(to_interval('3</span> <span class="pre">hours'))</span></code> → 3</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hour(age('2012-07-22T13:00:00','2012-07-22T10:00:00'))</span></code> → 3</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hour(age('2012-01-01','2010-01-01'))</span></code> → 17520</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="make-date">
<span id="expression-function-date-and-time-make-date"></span><h3><a class="toc-backref" href="#id206"><span class="section-number">12.2.7.8. </span>make_date</a><a class="headerlink" href="#make-date" title="Permalink to this headline"></a></h3>
<p>Creates a date value from year, month and day numbers.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>make_date(year, month, day)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>year</strong> - Year number. Years 1 to 99 are interpreted as is. Year 0 is invalid.</p></li>
<li><p><strong>month</strong> - Month number, where 1=January</p></li>
<li><p><strong>day</strong> - Day number, beginning with 1 for the first day in the month</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">make_date(2020,5,4)</span></code> → date value 2020-05-04</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="make-datetime">
<span id="expression-function-date-and-time-make-datetime"></span><h3><a class="toc-backref" href="#id207"><span class="section-number">12.2.7.9. </span>make_datetime</a><a class="headerlink" href="#make-datetime" title="Permalink to this headline"></a></h3>
<p>Creates a datetime value from year, month, day, hour, minute and second numbers.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>make_datetime(year, month, day, hour, minute, second)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>year</strong> - Year number. Years 1 to 99 are interpreted as is. Year 0 is invalid.</p></li>
<li><p><strong>month</strong> - Month number, where 1=January</p></li>
<li><p><strong>day</strong> - Day number, beginning with 1 for the first day in the month</p></li>
<li><p><strong>hour</strong> - Hour number</p></li>
<li><p><strong>minute</strong> - Minutes</p></li>
<li><p><strong>second</strong> - Seconds (fractional values include milliseconds)</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">make_datetime(2020,5,4,13,45,30.5)</span></code> → datetime value 2020-05-04 13:45:30.500</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="make-interval">
<span id="expression-function-date-and-time-make-interval"></span><h3><a class="toc-backref" href="#id208"><span class="section-number">12.2.7.10. </span>make_interval</a><a class="headerlink" href="#make-interval" title="Permalink to this headline"></a></h3>
<p>Creates an interval value from year, month, weeks, days, hours, minute and seconds values.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>make_interval([years=0], [months=0], [weeks=0], [days=0], [hours=0], [minutes=0], [seconds=0])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>years</strong> - Number of years (assumes a 365.25 day year length).</p></li>
<li><p><strong>months</strong> - Number of months (assumes a 30 day month length)</p></li>
<li><p><strong>weeks</strong> - Number of weeks</p></li>
<li><p><strong>days</strong> - Number of days</p></li>
<li><p><strong>hours</strong> - Number of hours</p></li>
<li><p><strong>minutes</strong> - Number of minutes</p></li>
<li><p><strong>seconds</strong> - Number of seconds</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">make_interval(hours:=3)</span></code> → interval: 3 hours</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">make_interval(days:=2,</span> <span class="pre">hours:=3)</span></code> → interval: 2.125 days</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">make_interval(minutes:=0.5,</span> <span class="pre">seconds:=5)</span></code> → interval: 35 seconds</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="make-time">
<span id="expression-function-date-and-time-make-time"></span><h3><a class="toc-backref" href="#id209"><span class="section-number">12.2.7.11. </span>make_time</a><a class="headerlink" href="#make-time" title="Permalink to this headline"></a></h3>
<p>Creates a time value from hour, minute and second numbers.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>make_time(hour, minute, second)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>hour</strong> - Hour number</p></li>
<li><p><strong>minute</strong> - Minutes</p></li>
<li><p><strong>second</strong> - Seconds (fractional values include milliseconds)</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">make_time(13,45,30.5)</span></code> → time value 13:45:30.500</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="minute">
<span id="expression-function-date-and-time-minute"></span><h3><a class="toc-backref" href="#id210"><span class="section-number">12.2.7.12. </span>minute</a><a class="headerlink" href="#minute" title="Permalink to this headline"></a></h3>
<p>Extracts the minutes part from a datetime or time, or the number of minutes from an interval.</p>
<p><strong>Time variant</strong></p>
<p>Extracts the minutes part from a time or datetime.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>minute(datetime)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>datetime</strong> - a time or datetime value</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">minute(</span> <span class="pre">to_datetime('2012-07-22</span> <span class="pre">13:24:57')</span> <span class="pre">)</span></code> → 24</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Interval variant</strong></p>
<p>Calculates the length in minutes of an interval.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>minute(interval)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>interval</strong> - interval value to return number of minutes from</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">minute(to_interval('3</span> <span class="pre">minutes'))</span></code> → 3</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">minute(age('2012-07-22T00:20:00','2012-07-22T00:00:00'))</span></code> → 20</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">minute(age('2012-01-01','2010-01-01'))</span></code> → 1051200</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="month">
<span id="expression-function-date-and-time-month"></span><h3><a class="toc-backref" href="#id211"><span class="section-number">12.2.7.13. </span>month</a><a class="headerlink" href="#month" title="Permalink to this headline"></a></h3>
<p>Extracts the month part from a date, or the number of months from an interval.</p>
<p><strong>Date variant</strong></p>
<p>Extracts the month part from a date or datetime.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>month(date)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>date</strong> - a date or datetime value</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">month('2012-05-12')</span></code> → 05</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Interval variant</strong></p>
<p>Calculates the length in months of an interval.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>month(interval)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>interval</strong> - interval value to return number of months from</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">month(to_interval('3</span> <span class="pre">months'))</span></code> → 3</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">month(age('2012-01-01','2010-01-01'))</span></code> → 4.03333</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="now">
<span id="expression-function-date-and-time-now"></span><h3><a class="toc-backref" href="#id212"><span class="section-number">12.2.7.14. </span>now</a><a class="headerlink" href="#now" title="Permalink to this headline"></a></h3>
<p>Returns the current date and time. The function is static and will return consistent results while evaluating. The time returned is the time when the expression is prepared.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>now()</p></td>
</tr>
<tr class="row-even"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">now()</span></code> → 2012-07-22T13:24:57</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="second">
<span id="expression-function-date-and-time-second"></span><h3><a class="toc-backref" href="#id213"><span class="section-number">12.2.7.15. </span>second</a><a class="headerlink" href="#second" title="Permalink to this headline"></a></h3>
<p>Extracts the seconds part from a datetime or time, or the number of seconds from an interval.</p>
<p><strong>Time variant</strong></p>
<p>Extracts the seconds part from a time or datetime.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>second(datetime)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>datetime</strong> - a time or datetime value</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">second(</span> <span class="pre">to_datetime('2012-07-22</span> <span class="pre">13:24:57')</span> <span class="pre">)</span></code> → 57</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Interval variant</strong></p>
<p>Calculates the length in seconds of an interval.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>second(interval)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>interval</strong> - interval value to return number of seconds from</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">second(to_interval('3</span> <span class="pre">minutes'))</span></code> → 180</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">second(age('2012-07-22T00:20:00','2012-07-22T00:00:00'))</span></code> → 1200</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">second(age('2012-01-01','2010-01-01'))</span></code> → 63072000</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="expression-function-date-and-time-to-date">
<span id="id10"></span><h3><a class="toc-backref" href="#id214"><span class="section-number">12.2.7.16. </span>to_date</a><a class="headerlink" href="#expression-function-date-and-time-to-date" title="Permalink to this headline"></a></h3>
<p>Converts a string into a date object. An optional format string can be provided to parse the string; see <a class="reference external" href="https://doc.qt.io/qt-5/qdate.html#fromString-2">QDate::fromString</a> or the documentation of the format_date function for additional documentation on the format. By default the current QGIS user locale is used.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>to_date(string, [format], [language])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>string</strong> - string representing a date value</p></li>
<li><p><strong>format</strong> - format used to convert the string into a date</p></li>
<li><p><strong>language</strong> - language (lowercase, two- or three-letter, ISO 639 language code) used to convert the string into a date. By default the current QGIS user locale is used.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">to_date('2012-05-04')</span></code> → 2012-05-04</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">to_date('June</span> <span class="pre">29,</span> <span class="pre">2019','MMMM</span> <span class="pre">d,</span> <span class="pre">yyyy')</span></code> → 2019-06-29, if the current locale uses the name ‘June’ for the sixth month, otherwise an error occurs</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">to_date('29</span> <span class="pre">juin,</span> <span class="pre">2019','d</span> <span class="pre">MMMM,</span> <span class="pre">yyyy','fr')</span></code> → 2019-06-29</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="expression-function-date-and-time-to-datetime">
<span id="id12"></span><h3><a class="toc-backref" href="#id215"><span class="section-number">12.2.7.17. </span>to_datetime</a><a class="headerlink" href="#expression-function-date-and-time-to-datetime" title="Permalink to this headline"></a></h3>
<p>Converts a string into a datetime object. An optional format string can be provided to parse the string; see <a class="reference external" href="https://doc.qt.io/qt-5/qdate.html#fromString-2">QDate::fromString</a>, <a class="reference external" href="https://doc.qt.io/qt-5/qtime.html#fromString-1">QTime::fromString</a> or the documentation of the format_date function for additional documentation on the format. By default the current QGIS user locale is used.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>to_datetime(string, [format], [language])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>string</strong> - string representing a datetime value</p></li>
<li><p><strong>format</strong> - format used to convert the string into a datetime</p></li>
<li><p><strong>language</strong> - language (lowercase, two- or three-letter, ISO 639 language code) used to convert the string into a datetime. By default the current QGIS user locale is used.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">to_datetime('2012-05-04</span> <span class="pre">12:50:00')</span></code> → 2012-05-04T12:50:00</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">to_datetime('June</span> <span class="pre">29,</span> <span class="pre">2019</span> <span class="pre">&#64;</span> <span class="pre">12:34','MMMM</span> <span class="pre">d,</span> <span class="pre">yyyy</span> <span class="pre">&#64;</span> <span class="pre">HH:mm')</span></code> → 2019-06-29T12:34, if the current locale uses the name ‘June’ for the sixth month, otherwise an error occurs</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">to_datetime('29</span> <span class="pre">juin,</span> <span class="pre">2019</span> <span class="pre">&#64;</span> <span class="pre">12:34','d</span> <span class="pre">MMMM,</span> <span class="pre">yyyy</span> <span class="pre">&#64;</span> <span class="pre">HH:mm','fr')</span></code> → 2019-06-29T12:34</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="expression-function-date-and-time-to-interval">
<span id="id15"></span><h3><a class="toc-backref" href="#id216"><span class="section-number">12.2.7.18. </span>to_interval</a><a class="headerlink" href="#expression-function-date-and-time-to-interval" title="Permalink to this headline"></a></h3>
<p>Converts a string to an interval type. Can be used to take days, hours, month, etc of a date.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>to_interval(string)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>string</strong> - a string representing an interval. Allowable formats include {n} days {n} hours {n} months.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">to_interval('1</span> <span class="pre">day</span> <span class="pre">2</span> <span class="pre">hours')</span></code> → interval: 1.08333 days</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">to_interval(</span> <span class="pre">'0.5</span> <span class="pre">hours'</span> <span class="pre">)</span></code> → interval: 30 minutes</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">to_datetime('2012-05-05</span> <span class="pre">12:00:00')</span> <span class="pre">-</span> <span class="pre">to_interval('1</span> <span class="pre">day</span> <span class="pre">2</span> <span class="pre">hours')</span></code> → 2012-05-04T10:00:00</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="expression-function-date-and-time-to-time">
<span id="id16"></span><h3><a class="toc-backref" href="#id217"><span class="section-number">12.2.7.19. </span>to_time</a><a class="headerlink" href="#expression-function-date-and-time-to-time" title="Permalink to this headline"></a></h3>
<p>Converts a string into a time object. An optional format string can be provided to parse the string; see <a class="reference external" href="https://doc.qt.io/qt-5/qtime.html#fromString-1">QTime::fromString</a> for additional documentation on the format.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>to_time(string, [format], [language])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>string</strong> - string representing a time value</p></li>
<li><p><strong>format</strong> - format used to convert the string into a time</p></li>
<li><p><strong>language</strong> - language (lowercase, two- or three-letter, ISO 639 language code) used to convert the string into a time</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">to_time('12:30:01')</span></code> → 12:30:01</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">to_time('12:34','HH:mm')</span></code> → 12:34:00</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">to_time('12:34','HH:mm','fr')</span></code> → 12:34:00</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="week">
<span id="expression-function-date-and-time-week"></span><h3><a class="toc-backref" href="#id218"><span class="section-number">12.2.7.20. </span>week</a><a class="headerlink" href="#week" title="Permalink to this headline"></a></h3>
<p>Extracts the week number from a date, or the number of weeks from an interval.</p>
<p><strong>Date variant</strong></p>
<p>Extracts the week number from a date or datetime.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>week(date)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>date</strong> - a date or datetime value</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">week('2012-05-12')</span></code> → 19</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Interval variant</strong></p>
<p>Calculates the length in weeks of an interval.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>week(interval)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>interval</strong> - interval value to return number of months from</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">week(to_interval('3</span> <span class="pre">weeks'))</span></code> → 3</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">week(age('2012-01-01','2010-01-01'))</span></code> → 104.285</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="year">
<span id="expression-function-date-and-time-year"></span><h3><a class="toc-backref" href="#id219"><span class="section-number">12.2.7.21. </span>year</a><a class="headerlink" href="#year" title="Permalink to this headline"></a></h3>
<p>Extracts the year part from a date, or the number of years from an interval.</p>
<p><strong>Date variant</strong></p>
<p>Extracts the year part from a date or datetime.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>year(date)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>date</strong> - a date or datetime value</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">year('2012-05-12')</span></code> → 2012</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Interval variant</strong></p>
<p>Calculates the length in years of an interval.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>year(interval)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>interval</strong> - interval value to return number of years from</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">year(to_interval('3</span> <span class="pre">years'))</span></code> → 3</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">year(age('2012-01-01','2010-01-01'))</span></code> → 1.9986</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Some examples:</strong></p>
<p>Besides these functions, subtracting dates, datetimes or times using the
<code class="docutils literal notranslate"><span class="pre">-</span></code> (minus) operator will return an interval.</p>
<p>Adding or subtracting an interval to dates, datetimes or times, using the
<code class="docutils literal notranslate"><span class="pre">+</span></code> (plus) and <code class="docutils literal notranslate"><span class="pre">-</span></code> (minus) operators, will return a datetime.</p>
<ul>
<li><p>Get the number of days until QGIS 3.0 release:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="n">to_date</span><span class="p">(</span><span class="s1">&#39;2017-09-29&#39;</span><span class="p">)</span> <span class="o">-</span> <span class="n">to_date</span><span class="p">(</span><span class="n">now</span><span class="p">())</span>
<span class="c1">-- Returns &lt;interval: 203 days&gt;</span>
</pre></div>
</div>
</li>
<li><p>The same with time:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="n">to_datetime</span><span class="p">(</span><span class="s1">&#39;2017-09-29 12:00:00&#39;</span><span class="p">)</span> <span class="o">-</span> <span class="n">now</span><span class="p">()</span>
<span class="c1">-- Returns &lt;interval: 202.49 days&gt;</span>
</pre></div>
</div>
</li>
<li><p>Get the datetime of 100 days from now:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="n">now</span><span class="p">()</span> <span class="o">+</span> <span class="n">to_interval</span><span class="p">(</span><span class="s1">&#39;100 days&#39;</span><span class="p">)</span>
<span class="c1">-- Returns &lt;datetime: 2017-06-18 01:00:00&gt;</span>
</pre></div>
</div>
</li>
</ul>
</section>
</section>
<section id="fields-and-values">
<span id="fields-values"></span><h2><a class="toc-backref" href="#id83"><span class="section-number">12.2.8. </span>Fields and Values</a><a class="headerlink" href="#fields-and-values" title="Permalink to this headline"></a></h2>
<p>Contains a list of fields from the layer, and special values.</p>
<p>Double-click a field name to have it added to your expression. You can also
type the field name (preferably inside double quotes) or its <a class="reference internal" href="../working_with_vector/vector_properties.html#configure-field"><span class="std std-ref">alias</span></a>.</p>
<p>To retrieve fields values to use in an expression, select the appropriate field
and, in the shown widget, choose between <span class="guilabel">10 Samples</span> and <span class="guilabel">All
Unique</span>. Requested values are then displayed and you can use the <span class="guilabel">Search</span>
box at the top of the list to filter the result.
Sample values can also be accessed via right-clicking on a field.</p>
<p>To add a value to the expression you are writing, double-click on it in the list.
If the value is of a string type, it should be simple quoted, otherwise no quote
is needed.</p>
<div class="contents toc-columns local topic" id="id18">
<ul class="simple">
<li><p><a class="reference internal" href="#null" id="id220">NULL</a></p></li>
</ul>
</div>
<section id="null">
<span id="expression-function-fields-and-values-null"></span><h3><a class="toc-backref" href="#id220"><span class="section-number">12.2.8.1. </span>NULL</a><a class="headerlink" href="#null" title="Permalink to this headline"></a></h3>
<p>Equates to a NULL value.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>NULL</p></td>
</tr>
<tr class="row-even"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">NULL</span></code> → a NULL value</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To test for NULL use an <em>IS NULL</em> or <em>IS NOT NULL</em> expression.</p>
</div>
</section>
</section>
<section id="files-and-paths-functions">
<h2><a class="toc-backref" href="#id84"><span class="section-number">12.2.9. </span>Files and Paths Functions</a><a class="headerlink" href="#files-and-paths-functions" title="Permalink to this headline"></a></h2>
<p>This group contains functions which manipulate file and path names.</p>
<div class="contents toc-columns local topic" id="id19">
<ul class="simple">
<li><p><a class="reference internal" href="#base-file-name" id="id221">base_file_name</a></p></li>
<li><p><a class="reference internal" href="#exif" id="id222">exif</a></p></li>
<li><p><a class="reference internal" href="#file-exists" id="id223">file_exists</a></p></li>
<li><p><a class="reference internal" href="#file-name" id="id224">file_name</a></p></li>
<li><p><a class="reference internal" href="#file-path" id="id225">file_path</a></p></li>
<li><p><a class="reference internal" href="#file-size" id="id226">file_size</a></p></li>
<li><p><a class="reference internal" href="#file-suffix" id="id227">file_suffix</a></p></li>
<li><p><a class="reference internal" href="#is-directory" id="id228">is_directory</a></p></li>
<li><p><a class="reference internal" href="#is-file" id="id229">is_file</a></p></li>
</ul>
</div>
<section id="base-file-name">
<span id="expression-function-files-and-paths-base-file-name"></span><h3><a class="toc-backref" href="#id221"><span class="section-number">12.2.9.1. </span>base_file_name</a><a class="headerlink" href="#base-file-name" title="Permalink to this headline"></a></h3>
<p>Returns the base name of the file without the directory or file suffix.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>base_file_name(path)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>path</strong> - a file path</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">base_file_name('/home/qgis/data/country_boundaries.shp')</span></code> → ‘country_boundaries’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="exif">
<span id="expression-function-files-and-paths-exif"></span><h3><a class="toc-backref" href="#id222"><span class="section-number">12.2.9.2. </span>exif</a><a class="headerlink" href="#exif" title="Permalink to this headline"></a></h3>
<p>Retrieves exif tag values from an image file.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>exif(path, [tag])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>path</strong> - An image file path.</p></li>
<li><p><strong>tag</strong> - The tag to return. If empty, a map with all exif tag values will be returned.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">exif('/my/photo.jpg','Exif.Image.Orientation')</span></code> → 0</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="file-exists">
<span id="expression-function-files-and-paths-file-exists"></span><h3><a class="toc-backref" href="#id223"><span class="section-number">12.2.9.3. </span>file_exists</a><a class="headerlink" href="#file-exists" title="Permalink to this headline"></a></h3>
<p>Returns true if a file path exists.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>file_exists(path)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>path</strong> - a file path</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">file_exists('/home/qgis/data/country_boundaries.shp')</span></code> → true</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="file-name">
<span id="expression-function-files-and-paths-file-name"></span><h3><a class="toc-backref" href="#id224"><span class="section-number">12.2.9.4. </span>file_name</a><a class="headerlink" href="#file-name" title="Permalink to this headline"></a></h3>
<p>Returns the name of a file (including the file extension), excluding the directory.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>file_name(path)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>path</strong> - a file path</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">file_name('/home/qgis/data/country_boundaries.shp')</span></code> → ‘country_boundaries.shp’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="file-path">
<span id="expression-function-files-and-paths-file-path"></span><h3><a class="toc-backref" href="#id225"><span class="section-number">12.2.9.5. </span>file_path</a><a class="headerlink" href="#file-path" title="Permalink to this headline"></a></h3>
<p>Returns the directory component of a file path. This does not include the file name.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>file_path(path)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>path</strong> - a file path</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">file_path('/home/qgis/data/country_boundaries.shp')</span></code> → ‘/home/qgis/data’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="file-size">
<span id="expression-function-files-and-paths-file-size"></span><h3><a class="toc-backref" href="#id226"><span class="section-number">12.2.9.6. </span>file_size</a><a class="headerlink" href="#file-size" title="Permalink to this headline"></a></h3>
<p>Returns the size (in bytes) of a file.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>file_size(path)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>path</strong> - a file path</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">file_size('/home/qgis/data/country_boundaries.geojson')</span></code> → 5674</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="file-suffix">
<span id="expression-function-files-and-paths-file-suffix"></span><h3><a class="toc-backref" href="#id227"><span class="section-number">12.2.9.7. </span>file_suffix</a><a class="headerlink" href="#file-suffix" title="Permalink to this headline"></a></h3>
<p>Returns the file suffix (extension) from a file path.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>file_suffix(path)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>path</strong> - a file path</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">file_suffix('/home/qgis/data/country_boundaries.shp')</span></code> → ‘shp’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="is-directory">
<span id="expression-function-files-and-paths-is-directory"></span><h3><a class="toc-backref" href="#id228"><span class="section-number">12.2.9.8. </span>is_directory</a><a class="headerlink" href="#is-directory" title="Permalink to this headline"></a></h3>
<p>Returns true if a path corresponds to a directory.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>is_directory(path)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>path</strong> - a file path</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">is_directory('/home/qgis/data/country_boundaries.shp')</span></code> → false</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">is_directory('/home/qgis/data/')</span></code> → true</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="is-file">
<span id="expression-function-files-and-paths-is-file"></span><h3><a class="toc-backref" href="#id229"><span class="section-number">12.2.9.9. </span>is_file</a><a class="headerlink" href="#is-file" title="Permalink to this headline"></a></h3>
<p>Returns true if a path corresponds to a file.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>is_file(path)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>path</strong> - a file path</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">is_file('/home/qgis/data/country_boundaries.shp')</span></code> → true</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">is_file('/home/qgis/data/')</span></code> → false</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="form-functions">
<h2><a class="toc-backref" href="#id85"><span class="section-number">12.2.10. </span>Form Functions</a><a class="headerlink" href="#form-functions" title="Permalink to this headline"></a></h2>
<p>This group contains functions that operate exclusively under the attribute form
context. For example, in <a class="reference internal" href="../working_with_vector/vector_properties.html#vector-attributes-menu"><span class="std std-ref">field’s widgets</span></a> settings.</p>
<div class="contents toc-columns local topic" id="id20">
<ul class="simple">
<li><p><a class="reference internal" href="#current-parent-value" id="id230">current_parent_value</a></p></li>
<li><p><a class="reference internal" href="#current-value" id="id231">current_value</a></p></li>
</ul>
</div>
<section id="current-parent-value">
<span id="expression-function-form-current-parent-value"></span><h3><a class="toc-backref" href="#id230"><span class="section-number">12.2.10.1. </span>current_parent_value</a><a class="headerlink" href="#current-parent-value" title="Permalink to this headline"></a></h3>
<p>Only usable in an embedded form context, this function returns the current, unsaved value of a field in the parent form currently being edited. This will differ from the parent feature’s actual attribute values for features which are currently being edited or have not yet been added to a parent layer. When used in a value-relation widget filter expression, this function should be wrapped into a ‘coalesce()’ that can retrieve the actual parent feature from the layer when the form is not used in an embedded context.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>current_parent_value(field_name)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>field_name</strong> - a field name in the current parent form</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">current_parent_value(</span> <span class="pre">'FIELD_NAME'</span> <span class="pre">)</span></code> → The current value of a field ‘FIELD_NAME’ in the parent form.</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="current-value">
<span id="expression-function-form-current-value"></span><h3><a class="toc-backref" href="#id231"><span class="section-number">12.2.10.2. </span>current_value</a><a class="headerlink" href="#current-value" title="Permalink to this headline"></a></h3>
<p>Returns the current, unsaved value of a field in the form or table row currently being edited. This will differ from the feature’s actual attribute values for features which are currently being edited or have not yet been added to a layer.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>current_value(field_name)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>field_name</strong> - a field name in the current form or table row</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">current_value(</span> <span class="pre">'FIELD_NAME'</span> <span class="pre">)</span></code> → The current value of field ‘FIELD_NAME’.</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="fuzzy-matching-functions">
<h2><a class="toc-backref" href="#id86"><span class="section-number">12.2.11. </span>Fuzzy Matching Functions</a><a class="headerlink" href="#fuzzy-matching-functions" title="Permalink to this headline"></a></h2>
<p>This group contains functions for fuzzy comparisons between values.</p>
<div class="contents toc-columns local topic" id="id21">
<ul class="simple">
<li><p><a class="reference internal" href="#hamming-distance" id="id232">hamming_distance</a></p></li>
<li><p><a class="reference internal" href="#levenshtein" id="id233">levenshtein</a></p></li>
<li><p><a class="reference internal" href="#longest-common-substring" id="id234">longest_common_substring</a></p></li>
<li><p><a class="reference internal" href="#soundex" id="id235">soundex</a></p></li>
</ul>
</div>
<section id="hamming-distance">
<span id="expression-function-fuzzy-matching-hamming-distance"></span><h3><a class="toc-backref" href="#id232"><span class="section-number">12.2.11.1. </span>hamming_distance</a><a class="headerlink" href="#hamming-distance" title="Permalink to this headline"></a></h3>
<p>Returns the Hamming distance between two strings. This equates to the number of characters at corresponding positions within the input strings where the characters are different. The input strings must be the same length, and the comparison is case-sensitive.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>hamming_distance(string1, string2)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>string1</strong> - a string</p></li>
<li><p><strong>string2</strong> - a string</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">hamming_distance('abc','xec')</span></code> → 2</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hamming_distance('abc','ABc')</span></code> → 2</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hamming_distance(upper('abc'),upper('ABC'))</span></code> → 0</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="levenshtein">
<span id="expression-function-fuzzy-matching-levenshtein"></span><h3><a class="toc-backref" href="#id233"><span class="section-number">12.2.11.2. </span>levenshtein</a><a class="headerlink" href="#levenshtein" title="Permalink to this headline"></a></h3>
<p>Returns the Levenshtein edit distance between two strings. This equates to the minimum number of character edits (insertions, deletions or substitutions) required to change one string to another.</p>
<p>The Levenshtein distance is a measure of the similarity between two strings. Smaller distances mean the strings are more similar, and larger distances indicate more different strings. The distance is case sensitive.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>levenshtein(string1, string2)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>string1</strong> - a string</p></li>
<li><p><strong>string2</strong> - a string</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">levenshtein('kittens','mitten')</span></code> → 2</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">levenshtein('Kitten','kitten')</span></code> → 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">levenshtein(upper('Kitten'),upper('kitten'))</span></code> → 0</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="longest-common-substring">
<span id="expression-function-fuzzy-matching-longest-common-substring"></span><h3><a class="toc-backref" href="#id234"><span class="section-number">12.2.11.3. </span>longest_common_substring</a><a class="headerlink" href="#longest-common-substring" title="Permalink to this headline"></a></h3>
<p>Returns the longest common substring between two strings. This substring is the longest string that is a substring of the two input strings. For example, the longest common substring of “ABABC” and “BABCA” is “BABC”. The substring is case sensitive.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>longest_common_substring(string1, string2)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>string1</strong> - a string</p></li>
<li><p><strong>string2</strong> - a string</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">longest_common_substring('ABABC','BABCA')</span></code> → ‘BABC’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">longest_common_substring('abcDeF','abcdef')</span></code> → ‘abc’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">longest_common_substring(upper('abcDeF'),upper('abcdex'))</span></code> → ‘ABCDE’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="soundex">
<span id="expression-function-fuzzy-matching-soundex"></span><h3><a class="toc-backref" href="#id235"><span class="section-number">12.2.11.4. </span>soundex</a><a class="headerlink" href="#soundex" title="Permalink to this headline"></a></h3>
<p>Returns the Soundex representation of a string. Soundex is a phonetic matching algorithm, so strings with similar sounds should be represented by the same Soundex code.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>soundex(string)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>string</strong> - a string</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">soundex('robert')</span></code> → ‘R163’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">soundex('rupert')</span></code> → ‘R163’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">soundex('rubin')</span></code> → ‘R150’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="general-functions">
<h2><a class="toc-backref" href="#id87"><span class="section-number">12.2.12. </span>General Functions</a><a class="headerlink" href="#general-functions" title="Permalink to this headline"></a></h2>
<p>This group contains general assorted functions.</p>
<div class="contents toc-columns local topic" id="id22">
<ul class="simple">
<li><p><a class="reference internal" href="#env" id="id236">env</a></p></li>
<li><p><a class="reference internal" href="#eval" id="id237">eval</a></p></li>
<li><p><a class="reference internal" href="#eval-template" id="id238">eval_template</a></p></li>
<li><p><a class="reference internal" href="#is-layer-visible" id="id239">is_layer_visible</a></p></li>
<li><p><a class="reference internal" href="#mime-type" id="id240">mime_type</a></p></li>
<li><p><a class="reference internal" href="#var" id="id241">var</a></p></li>
<li><p><a class="reference internal" href="#with-variable" id="id242">with_variable</a></p></li>
</ul>
</div>
<section id="env">
<span id="expression-function-general-env"></span><h3><a class="toc-backref" href="#id236"><span class="section-number">12.2.12.1. </span>env</a><a class="headerlink" href="#env" title="Permalink to this headline"></a></h3>
<p>Gets an environment variable and returns its content as a string. If the variable is not found, NULL will be returned. This is handy to inject system specific configuration like drive letters or path prefixes. Definition of environment variables depends on the operating system, please check with your system administrator or the operating system documentation how this can be set.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>env(name)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>name</strong> - The name of the environment variable which should be retrieved.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">env(</span> <span class="pre">'LANG'</span> <span class="pre">)</span></code> → ‘en_US.UTF-8’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">env(</span> <span class="pre">'MY_OWN_PREFIX_VAR'</span> <span class="pre">)</span></code> → ‘Z:’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">env(</span> <span class="pre">'I_DO_NOT_EXIST'</span> <span class="pre">)</span></code> → NULL</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="eval">
<span id="expression-function-general-eval"></span><h3><a class="toc-backref" href="#id237"><span class="section-number">12.2.12.2. </span>eval</a><a class="headerlink" href="#eval" title="Permalink to this headline"></a></h3>
<p>Evaluates an expression which is passed in a string. Useful to expand dynamic parameters passed as context variables or fields.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>eval(expression)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>expression</strong> - an expression string</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">eval('\'nice\'')</span></code> → ‘nice’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">eval(&#64;expression_var)</span></code> → [whatever the result of evaluating &#64;expression_var might be…]</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="eval-template">
<span id="expression-function-general-eval-template"></span><h3><a class="toc-backref" href="#id238"><span class="section-number">12.2.12.3. </span>eval_template</a><a class="headerlink" href="#eval-template" title="Permalink to this headline"></a></h3>
<p>Evaluates a template which is passed in a string. Useful to expand dynamic parameters passed as context variables or fields.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>eval_template(template)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>template</strong> - a template string</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">eval_template('QGIS</span> <span class="pre">[%</span> <span class="pre">upper(\'rocks\')</span> <span class="pre">%]')</span></code> → QGIS ROCKS</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="is-layer-visible">
<span id="expression-function-general-is-layer-visible"></span><h3><a class="toc-backref" href="#id239"><span class="section-number">12.2.12.4. </span>is_layer_visible</a><a class="headerlink" href="#is-layer-visible" title="Permalink to this headline"></a></h3>
<p>Returns true if a specified layer is visible.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>is_layer_visible(layer)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>layer</strong> - a string, representing either a layer name or layer ID</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">is_layer_visible('baseraster')</span></code> → True</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="mime-type">
<span id="expression-function-general-mime-type"></span><h3><a class="toc-backref" href="#id240"><span class="section-number">12.2.12.5. </span>mime_type</a><a class="headerlink" href="#mime-type" title="Permalink to this headline"></a></h3>
<p>Returns the mime type of the binary data.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>mime_type(bytes)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>bytes</strong> - the binary data</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">mime_type('&lt;html&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt;')</span></code> → text/html</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mime_type(from_base64('R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAIAOw=='))</span></code> → image/gif</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="var">
<span id="expression-function-general-var"></span><h3><a class="toc-backref" href="#id241"><span class="section-number">12.2.12.6. </span>var</a><a class="headerlink" href="#var" title="Permalink to this headline"></a></h3>
<p>Returns the value stored within a specified variable.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>var(name)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>name</strong> - a variable name</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">var('qgis_version')</span></code> → ‘2.12’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: List of default <a class="reference internal" href="#expression-variables"><span class="std std-ref">variables</span></a></p>
</section>
<section id="with-variable">
<span id="expression-function-general-with-variable"></span><h3><a class="toc-backref" href="#id242"><span class="section-number">12.2.12.7. </span>with_variable</a><a class="headerlink" href="#with-variable" title="Permalink to this headline"></a></h3>
<p>This function sets a variable for any expression code that will be provided as 3rd argument. This is only useful for complicated expressions, where the same calculated value needs to be used in different places.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>with_variable(name, value, expression)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>name</strong> - the name of the variable to set</p></li>
<li><p><strong>value</strong> - the value to set</p></li>
<li><p><strong>expression</strong> - the expression for which the variable will be available</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">with_variable('my_sum',</span> <span class="pre">1</span> <span class="pre">+</span> <span class="pre">2</span> <span class="pre">+</span> <span class="pre">3,</span> <span class="pre">&#64;my_sum</span> <span class="pre">*</span> <span class="pre">2</span> <span class="pre">+</span> <span class="pre">&#64;my_sum</span> <span class="pre">*</span> <span class="pre">5)</span></code> → 42</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="geometry-functions">
<span id="id23"></span><h2><a class="toc-backref" href="#id88"><span class="section-number">12.2.13. </span>Geometry Functions</a><a class="headerlink" href="#geometry-functions" title="Permalink to this headline"></a></h2>
<p>This group contains functions that operate on geometry objects
(e.g. buffer, transform, $area).</p>
<div class="contents toc-columns local topic" id="id24">
<ul class="simple">
<li><p><a class="reference internal" href="#affine-transform" id="id243">affine_transform</a></p></li>
<li><p><a class="reference internal" href="#angle-at-vertex" id="id244">angle_at_vertex</a></p></li>
<li><p><a class="reference internal" href="#area" id="id245">$area</a></p></li>
<li><p><a class="reference internal" href="#id25" id="id246">area</a></p></li>
<li><p><a class="reference internal" href="#azimuth" id="id247">azimuth</a></p></li>
<li><p><a class="reference internal" href="#boundary" id="id248">boundary</a></p></li>
<li><p><a class="reference internal" href="#bounds" id="id249">bounds</a></p></li>
<li><p><a class="reference internal" href="#bounds-height" id="id250">bounds_height</a></p></li>
<li><p><a class="reference internal" href="#bounds-width" id="id251">bounds_width</a></p></li>
<li><p><a class="reference internal" href="#buffer" id="id252">buffer</a></p></li>
<li><p><a class="reference internal" href="#buffer-by-m" id="id253">buffer_by_m</a></p></li>
<li><p><a class="reference internal" href="#centroid" id="id254">centroid</a></p></li>
<li><p><a class="reference internal" href="#close-line" id="id255">close_line</a></p></li>
<li><p><a class="reference internal" href="#closest-point" id="id256">closest_point</a></p></li>
<li><p><a class="reference internal" href="#collect-geometries" id="id257">collect_geometries</a></p></li>
<li><p><a class="reference internal" href="#combine" id="id258">combine</a></p></li>
<li><p><a class="reference internal" href="#contains" id="id259">contains</a></p></li>
<li><p><a class="reference internal" href="#convex-hull" id="id260">convex_hull</a></p></li>
<li><p><a class="reference internal" href="#crosses" id="id261">crosses</a></p></li>
<li><p><a class="reference internal" href="#difference" id="id262">difference</a></p></li>
<li><p><a class="reference internal" href="#disjoint" id="id263">disjoint</a></p></li>
<li><p><a class="reference internal" href="#distance" id="id264">distance</a></p></li>
<li><p><a class="reference internal" href="#distance-to-vertex" id="id265">distance_to_vertex</a></p></li>
<li><p><a class="reference internal" href="#end-point" id="id266">end_point</a></p></li>
<li><p><a class="reference internal" href="#exif-geotag" id="id267">exif_geotag</a></p></li>
<li><p><a class="reference internal" href="#extend" id="id268">extend</a></p></li>
<li><p><a class="reference internal" href="#exterior-ring" id="id269">exterior_ring</a></p></li>
<li><p><a class="reference internal" href="#extrude" id="id270">extrude</a></p></li>
<li><p><a class="reference internal" href="#flip-coordinates" id="id271">flip_coordinates</a></p></li>
<li><p><a class="reference internal" href="#force-rhr" id="id272">force_rhr</a></p></li>
<li><p><a class="reference internal" href="#geom-from-gml" id="id273">geom_from_gml</a></p></li>
<li><p><a class="reference internal" href="#geom-from-wkb" id="id274">geom_from_wkb</a></p></li>
<li><p><a class="reference internal" href="#geom-from-wkt" id="id275">geom_from_wkt</a></p></li>
<li><p><a class="reference internal" href="#geom-to-wkb" id="id276">geom_to_wkb</a></p></li>
<li><p><a class="reference internal" href="#geom-to-wkt" id="id277">geom_to_wkt</a></p></li>
<li><p><a class="reference internal" href="#geometry" id="id278">$geometry</a></p></li>
<li><p><a class="reference internal" href="#id27" id="id279">geometry</a></p></li>
<li><p><a class="reference internal" href="#geometry-n" id="id280">geometry_n</a></p></li>
<li><p><a class="reference internal" href="#hausdorff-distance" id="id281">hausdorff_distance</a></p></li>
<li><p><a class="reference internal" href="#inclination" id="id282">inclination</a></p></li>
<li><p><a class="reference internal" href="#interior-ring-n" id="id283">interior_ring_n</a></p></li>
<li><p><a class="reference internal" href="#intersection" id="id284">intersection</a></p></li>
<li><p><a class="reference internal" href="#intersects" id="id285">intersects</a></p></li>
<li><p><a class="reference internal" href="#intersects-bbox" id="id286">intersects_bbox</a></p></li>
<li><p><a class="reference internal" href="#is-closed" id="id287">is_closed</a></p></li>
<li><p><a class="reference internal" href="#is-empty" id="id288">is_empty</a></p></li>
<li><p><a class="reference internal" href="#is-empty-or-null" id="id289">is_empty_or_null</a></p></li>
<li><p><a class="reference internal" href="#is-multipart" id="id290">is_multipart</a></p></li>
<li><p><a class="reference internal" href="#is-valid" id="id291">is_valid</a></p></li>
<li><p><a class="reference internal" href="#length" id="id292">$length</a></p></li>
<li><p><a class="reference internal" href="#id29" id="id293">length</a></p></li>
<li><p><a class="reference internal" href="#length3d" id="id294">length3D</a></p></li>
<li><p><a class="reference internal" href="#line-interpolate-angle" id="id295">line_interpolate_angle</a></p></li>
<li><p><a class="reference internal" href="#line-interpolate-point" id="id296">line_interpolate_point</a></p></li>
<li><p><a class="reference internal" href="#line-locate-point" id="id297">line_locate_point</a></p></li>
<li><p><a class="reference internal" href="#line-merge" id="id298">line_merge</a></p></li>
<li><p><a class="reference internal" href="#line-substring" id="id299">line_substring</a></p></li>
<li><p><a class="reference internal" href="#m" id="id300">m</a></p></li>
<li><p><a class="reference internal" href="#m-max" id="id301">m_max</a></p></li>
<li><p><a class="reference internal" href="#m-min" id="id302">m_min</a></p></li>
<li><p><a class="reference internal" href="#main-angle" id="id303">main_angle</a></p></li>
<li><p><a class="reference internal" href="#make-circle" id="id304">make_circle</a></p></li>
<li><p><a class="reference internal" href="#make-ellipse" id="id305">make_ellipse</a></p></li>
<li><p><a class="reference internal" href="#make-line" id="id306">make_line</a></p></li>
<li><p><a class="reference internal" href="#make-point" id="id307">make_point</a></p></li>
<li><p><a class="reference internal" href="#make-point-m" id="id308">make_point_m</a></p></li>
<li><p><a class="reference internal" href="#make-polygon" id="id309">make_polygon</a></p></li>
<li><p><a class="reference internal" href="#make-rectangle-3points" id="id310">make_rectangle_3points</a></p></li>
<li><p><a class="reference internal" href="#make-regular-polygon" id="id311">make_regular_polygon</a></p></li>
<li><p><a class="reference internal" href="#make-square" id="id312">make_square</a></p></li>
<li><p><a class="reference internal" href="#make-triangle" id="id313">make_triangle</a></p></li>
<li><p><a class="reference internal" href="#minimal-circle" id="id314">minimal_circle</a></p></li>
<li><p><a class="reference internal" href="#nodes-to-points" id="id315">nodes_to_points</a></p></li>
<li><p><a class="reference internal" href="#num-geometries" id="id316">num_geometries</a></p></li>
<li><p><a class="reference internal" href="#num-interior-rings" id="id317">num_interior_rings</a></p></li>
<li><p><a class="reference internal" href="#num-points" id="id318">num_points</a></p></li>
<li><p><a class="reference internal" href="#num-rings" id="id319">num_rings</a></p></li>
<li><p><a class="reference internal" href="#offset-curve" id="id320">offset_curve</a></p></li>
<li><p><a class="reference internal" href="#order-parts" id="id321">order_parts</a></p></li>
<li><p><a class="reference internal" href="#oriented-bbox" id="id322">oriented_bbox</a></p></li>
<li><p><a class="reference internal" href="#overlaps" id="id323">overlaps</a></p></li>
<li><p><a class="reference internal" href="#overlay-contains" id="id324">overlay_contains</a></p></li>
<li><p><a class="reference internal" href="#overlay-crosses" id="id325">overlay_crosses</a></p></li>
<li><p><a class="reference internal" href="#overlay-disjoint" id="id326">overlay_disjoint</a></p></li>
<li><p><a class="reference internal" href="#overlay-equals" id="id327">overlay_equals</a></p></li>
<li><p><a class="reference internal" href="#overlay-intersects" id="id328">overlay_intersects</a></p></li>
<li><p><a class="reference internal" href="#overlay-nearest" id="id329">overlay_nearest</a></p></li>
<li><p><a class="reference internal" href="#overlay-touches" id="id330">overlay_touches</a></p></li>
<li><p><a class="reference internal" href="#overlay-within" id="id331">overlay_within</a></p></li>
<li><p><a class="reference internal" href="#perimeter" id="id332">$perimeter</a></p></li>
<li><p><a class="reference internal" href="#id31" id="id333">perimeter</a></p></li>
<li><p><a class="reference internal" href="#point-n" id="id334">point_n</a></p></li>
<li><p><a class="reference internal" href="#point-on-surface" id="id335">point_on_surface</a></p></li>
<li><p><a class="reference internal" href="#pole-of-inaccessibility" id="id336">pole_of_inaccessibility</a></p></li>
<li><p><a class="reference internal" href="#project" id="id337">project</a></p></li>
<li><p><a class="reference internal" href="#relate" id="id338">relate</a></p></li>
<li><p><a class="reference internal" href="#reverse" id="id339">reverse</a></p></li>
<li><p><a class="reference internal" href="#rotate" id="id340">rotate</a></p></li>
<li><p><a class="reference internal" href="#segments-to-lines" id="id341">segments_to_lines</a></p></li>
<li><p><a class="reference internal" href="#shortest-line" id="id342">shortest_line</a></p></li>
<li><p><a class="reference internal" href="#simplify" id="id343">simplify</a></p></li>
<li><p><a class="reference internal" href="#simplify-vw" id="id344">simplify_vw</a></p></li>
<li><p><a class="reference internal" href="#single-sided-buffer" id="id345">single_sided_buffer</a></p></li>
<li><p><a class="reference internal" href="#sinuosity" id="id346">sinuosity</a></p></li>
<li><p><a class="reference internal" href="#smooth" id="id347">smooth</a></p></li>
<li><p><a class="reference internal" href="#start-point" id="id348">start_point</a></p></li>
<li><p><a class="reference internal" href="#straight-distance-2d" id="id349">straight_distance_2d</a></p></li>
<li><p><a class="reference internal" href="#sym-difference" id="id350">sym_difference</a></p></li>
<li><p><a class="reference internal" href="#tapered-buffer" id="id351">tapered_buffer</a></p></li>
<li><p><a class="reference internal" href="#touches" id="id352">touches</a></p></li>
<li><p><a class="reference internal" href="#transform" id="id353">transform</a></p></li>
<li><p><a class="reference internal" href="#translate" id="id354">translate</a></p></li>
<li><p><a class="reference internal" href="#union" id="id355">union</a></p></li>
<li><p><a class="reference internal" href="#wedge-buffer" id="id356">wedge_buffer</a></p></li>
<li><p><a class="reference internal" href="#within" id="id357">within</a></p></li>
<li><p><a class="reference internal" href="#x" id="id358">$x</a></p></li>
<li><p><a class="reference internal" href="#id33" id="id359">x</a></p></li>
<li><p><a class="reference internal" href="#x-at" id="id360">$x_at</a></p></li>
<li><p><a class="reference internal" href="#x-max" id="id361">x_max</a></p></li>
<li><p><a class="reference internal" href="#x-min" id="id362">x_min</a></p></li>
<li><p><a class="reference internal" href="#y" id="id363">$y</a></p></li>
<li><p><a class="reference internal" href="#id35" id="id364">y</a></p></li>
<li><p><a class="reference internal" href="#y-at" id="id365">$y_at</a></p></li>
<li><p><a class="reference internal" href="#y-max" id="id366">y_max</a></p></li>
<li><p><a class="reference internal" href="#y-min" id="id367">y_min</a></p></li>
<li><p><a class="reference internal" href="#z" id="id368">$z</a></p></li>
<li><p><a class="reference internal" href="#id37" id="id369">z</a></p></li>
<li><p><a class="reference internal" href="#z-max" id="id370">z_max</a></p></li>
<li><p><a class="reference internal" href="#z-min" id="id371">z_min</a></p></li>
</ul>
</div>
<section id="affine-transform">
<span id="expression-function-geometrygroup-affine-transform"></span><h3><a class="toc-backref" href="#id243"><span class="section-number">12.2.13.1. </span>affine_transform</a><a class="headerlink" href="#affine-transform" title="Permalink to this headline"></a></h3>
<p>Returns the geometry after an affine transformation. Calculations are in the Spatial Reference System of this geometry. The operations are performed in a scale, rotation, translation order. If there is a Z or M offset but the coordinate is not present in the geometry, it will be added.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>affine_transform(geometry, delta_x, delta_y, rotation_z, scale_x, scale_y, [delta_z=0], [delta_m=0], [scale_z=1], [scale_m=1])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a geometry</p></li>
<li><p><strong>delta_x</strong> - x-axis translation</p></li>
<li><p><strong>delta_y</strong> - y-axis translation</p></li>
<li><p><strong>rotation_z</strong> - rotation around z-axis in degrees counter-clockwise</p></li>
<li><p><strong>scale_x</strong> - x-axis scale factor</p></li>
<li><p><strong>scale_y</strong> - y-axis scale factor</p></li>
<li><p><strong>delta_z</strong> - z-axis translation</p></li>
<li><p><strong>delta_m</strong> - m-axis translation</p></li>
<li><p><strong>scale_z</strong> - z-axis scale factor</p></li>
<li><p><strong>scale_m</strong> - m-axis scale factor</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(affine_transform(geom_from_wkt('LINESTRING(1</span> <span class="pre">1,</span> <span class="pre">2</span> <span class="pre">2)'),</span> <span class="pre">2,</span> <span class="pre">2,</span> <span class="pre">0,</span> <span class="pre">1,</span> <span class="pre">1))</span></code> → ‘LineString (3 3, 4 4)’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(affine_transform(geom_from_wkt('POLYGON((0</span> <span class="pre">0,</span> <span class="pre">0</span> <span class="pre">3,</span> <span class="pre">2</span> <span class="pre">2,</span> <span class="pre">0</span> <span class="pre">0))'),</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">-90,</span> <span class="pre">1,</span> <span class="pre">2))</span></code> → ‘Polygon ((0 0, 6 0, 4 -2, 0 0))’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(affine_transform(geom_from_wkt('POINT(3</span> <span class="pre">1)'),</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">1,</span> <span class="pre">1,</span> <span class="pre">5,</span> <span class="pre">0))</span></code> → ‘PointZ (3 1 5)’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="angle-at-vertex">
<span id="expression-function-geometrygroup-angle-at-vertex"></span><h3><a class="toc-backref" href="#id244"><span class="section-number">12.2.13.2. </span>angle_at_vertex</a><a class="headerlink" href="#angle-at-vertex" title="Permalink to this headline"></a></h3>
<p>Returns the bisector angle (average angle) to the geometry for a specified vertex on a linestring geometry. Angles are in degrees clockwise from north.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>angle_at_vertex(geometry, vertex)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a linestring geometry</p></li>
<li><p><strong>vertex</strong> - vertex index, starting from 0; if the value is negative, the selected vertex index will be its total count minus the absolute value</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">angle_at_vertex(geometry:=geom_from_wkt('LineString(0</span> <span class="pre">0,</span> <span class="pre">10</span> <span class="pre">0,</span> <span class="pre">10</span> <span class="pre">10)'),vertex:=1)</span></code> → 45.0</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="area">
<span id="expression-function-geometrygroup-area"></span><h3><a class="toc-backref" href="#id245"><span class="section-number">12.2.13.3. </span>$area</a><a class="headerlink" href="#area" title="Permalink to this headline"></a></h3>
<p>Returns the area of the current feature. The area calculated by this function respects both the current project’s ellipsoid setting and area unit settings. For example, if an ellipsoid has been set for the project then the calculated area will be ellipsoidal, and if no ellipsoid is set then the calculated area will be planimetric.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>$area</p></td>
</tr>
<tr class="row-even"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$area</span></code> → 42</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="id25">
<span id="id26"></span><h3><a class="toc-backref" href="#id246"><span class="section-number">12.2.13.4. </span>area</a><a class="headerlink" href="#id25" title="Permalink to this headline"></a></h3>
<p>Returns the area of a geometry polygon object. Calculations are always planimetric in the Spatial Reference System (SRS) of this geometry, and the units of the returned area will match the units for the SRS. This differs from the calculations performed by the $area function, which will perform ellipsoidal calculations based on the project’s ellipsoid and area unit settings.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>area(geometry)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - polygon geometry object</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">area(geom_from_wkt('POLYGON((0</span> <span class="pre">0,</span> <span class="pre">4</span> <span class="pre">0,</span> <span class="pre">4</span> <span class="pre">2,</span> <span class="pre">0</span> <span class="pre">2,</span> <span class="pre">0</span> <span class="pre">0))'))</span></code> → 8.0</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="azimuth">
<span id="expression-function-geometrygroup-azimuth"></span><h3><a class="toc-backref" href="#id247"><span class="section-number">12.2.13.5. </span>azimuth</a><a class="headerlink" href="#azimuth" title="Permalink to this headline"></a></h3>
<p>Returns the north-based azimuth as the angle in radians measured clockwise from the vertical on point_a to point_b.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>azimuth(point_a, point_b)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>point_a</strong> - point geometry</p></li>
<li><p><strong>point_b</strong> - point geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">degrees(</span> <span class="pre">azimuth(</span> <span class="pre">make_point(25,</span> <span class="pre">45),</span> <span class="pre">make_point(75,</span> <span class="pre">100)</span> <span class="pre">)</span> <span class="pre">)</span></code> → 42.273689</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">degrees(</span> <span class="pre">azimuth(</span> <span class="pre">make_point(75,</span> <span class="pre">100),</span> <span class="pre">make_point(25,45)</span> <span class="pre">)</span> <span class="pre">)</span></code> → 222.273689</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="boundary">
<span id="expression-function-geometrygroup-boundary"></span><h3><a class="toc-backref" href="#id248"><span class="section-number">12.2.13.6. </span>boundary</a><a class="headerlink" href="#boundary" title="Permalink to this headline"></a></h3>
<p>Returns the closure of the combinatorial boundary of the geometry (ie the topological boundary of the geometry). For instance, a polygon geometry will have a boundary consisting of the linestrings for each ring in the polygon. Some geometry types do not have a defined boundary, e.g., points or geometry collections, and will return NULL.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>boundary(geometry)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(boundary(geom_from_wkt('Polygon((1</span> <span class="pre">1,</span> <span class="pre">0</span> <span class="pre">0,</span> <span class="pre">-1</span> <span class="pre">1,</span> <span class="pre">1</span> <span class="pre">1))')))</span></code> → ‘LineString(1 1,0 0,-1 1,1 1)’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(boundary(geom_from_wkt('LineString(1</span> <span class="pre">1,0</span> <span class="pre">0,-1</span> <span class="pre">1)')))</span></code> → ‘MultiPoint ((1 1),(-1 1))’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="../processing_algs/qgis/vectorgeometry.html#qgisboundary"><span class="std std-ref">Boundary</span></a> algorithm</p>
</section>
<section id="bounds">
<span id="expression-function-geometrygroup-bounds"></span><h3><a class="toc-backref" href="#id249"><span class="section-number">12.2.13.7. </span>bounds</a><a class="headerlink" href="#bounds" title="Permalink to this headline"></a></h3>
<p>Returns a geometry which represents the bounding box of an input geometry. Calculations are in the Spatial Reference System of this geometry.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>bounds(geometry)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">bounds($geometry)</span></code> → bounding box of the current feature’s geometry</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(bounds(geom_from_wkt('Polygon((1</span> <span class="pre">1,</span> <span class="pre">0</span> <span class="pre">0,</span> <span class="pre">-1</span> <span class="pre">1,</span> <span class="pre">1</span> <span class="pre">1))')))</span></code> → ‘Polygon ((-1 0, 1 0, 1 1, -1 1, -1 0))’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="../processing_algs/qgis/vectorgeometry.html#qgisboundingboxes"><span class="std std-ref">Bounding boxes</span></a> algorithm</p>
</section>
<section id="bounds-height">
<span id="expression-function-geometrygroup-bounds-height"></span><h3><a class="toc-backref" href="#id250"><span class="section-number">12.2.13.8. </span>bounds_height</a><a class="headerlink" href="#bounds-height" title="Permalink to this headline"></a></h3>
<p>Returns the height of the bounding box of a geometry. Calculations are in the Spatial Reference System of this geometry.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>bounds_height(geometry)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">bounds_height($geometry)</span></code> → height of bounding box of the current feature’s geometry</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bounds_height(geom_from_wkt('Polygon((1</span> <span class="pre">1,</span> <span class="pre">0</span> <span class="pre">0,</span> <span class="pre">-1</span> <span class="pre">1,</span> <span class="pre">1</span> <span class="pre">1))'))</span></code> → 1</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="bounds-width">
<span id="expression-function-geometrygroup-bounds-width"></span><h3><a class="toc-backref" href="#id251"><span class="section-number">12.2.13.9. </span>bounds_width</a><a class="headerlink" href="#bounds-width" title="Permalink to this headline"></a></h3>
<p>Returns the width of the bounding box of a geometry. Calculations are in the Spatial Reference System of this geometry.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>bounds_width(geometry)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">bounds_width($geometry)</span></code> → width of bounding box of the current feature’s geometry</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bounds_width(geom_from_wkt('Polygon((1</span> <span class="pre">1,</span> <span class="pre">0</span> <span class="pre">0,</span> <span class="pre">-1</span> <span class="pre">1,</span> <span class="pre">1</span> <span class="pre">1))'))</span></code> → 2</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="buffer">
<span id="expression-function-geometrygroup-buffer"></span><h3><a class="toc-backref" href="#id252"><span class="section-number">12.2.13.10. </span>buffer</a><a class="headerlink" href="#buffer" title="Permalink to this headline"></a></h3>
<p>Returns a geometry that represents all points whose distance from this geometry is less than or equal to distance. Calculations are in the Spatial Reference System of this geometry.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>buffer(geometry, distance, [segments=8], [cap=8], [join=’round’], [miter_limit=2])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a geometry</p></li>
<li><p><strong>distance</strong> - buffer distance in layer units</p></li>
<li><p><strong>segments</strong> - number of segments to use to represent a quarter circle when a round join style is used. A larger number results in a smoother buffer with more nodes.</p></li>
<li><p><strong>cap</strong> - end cap style for buffer. Valid values are ‘round’, ‘flat’ or ‘square’</p></li>
<li><p><strong>join</strong> - join style for buffer. Valid values are ‘round’, ‘bevel’ or ‘miter’.</p></li>
<li><p><strong>miter_limit</strong> - miter distance limit, for use when the join style is set to ‘miter’</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">buffer($geometry,</span> <span class="pre">10.5)</span></code> → polygon of the current feature’s geometry buffered by 10.5 units</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="../processing_algs/qgis/vectorgeometry.html#qgisbuffer"><span class="std std-ref">Buffer</span></a> algorithm</p>
</section>
<section id="buffer-by-m">
<span id="expression-function-geometrygroup-buffer-by-m"></span><h3><a class="toc-backref" href="#id253"><span class="section-number">12.2.13.11. </span>buffer_by_m</a><a class="headerlink" href="#buffer-by-m" title="Permalink to this headline"></a></h3>
<p>Creates a buffer along a line geometry where the buffer diameter varies according to the m-values at the line vertices.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>buffer_by_m(geometry, [segments=8])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - input geometry. Must be a (multi)line geometry with m values.</p></li>
<li><p><strong>segments</strong> - number of segments to approximate quarter-circle curves in the buffer.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">buffer_by_m(geometry:=geom_from_wkt('LINESTRINGM(1</span> <span class="pre">2</span> <span class="pre">0.5,</span> <span class="pre">4</span> <span class="pre">2</span> <span class="pre">0.2)'),segments:=8)</span></code> → A variable width buffer starting with a diameter of 0.5 and ending with a diameter of 0.2 along the linestring geometry.</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="../processing_algs/qgis/vectorgeometry.html#qgisbufferbym"><span class="std std-ref">Variable width buffer (by M value)</span></a> algorithm</p>
</section>
<section id="centroid">
<span id="expression-function-geometrygroup-centroid"></span><h3><a class="toc-backref" href="#id254"><span class="section-number">12.2.13.12. </span>centroid</a><a class="headerlink" href="#centroid" title="Permalink to this headline"></a></h3>
<p>Returns the geometric center of a geometry.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>centroid(geometry)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">centroid($geometry)</span></code> → a point geometry</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="../processing_algs/qgis/vectorgeometry.html#qgiscentroids"><span class="std std-ref">Centroids</span></a> algorithm</p>
</section>
<section id="close-line">
<span id="expression-function-geometrygroup-close-line"></span><h3><a class="toc-backref" href="#id255"><span class="section-number">12.2.13.13. </span>close_line</a><a class="headerlink" href="#close-line" title="Permalink to this headline"></a></h3>
<p>Returns a closed line string of the input line string by appending the first point to the end of the line, if it is not already closed. If the geometry is not a line string or multi line string then the result will be NULL.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>close_line(geometry)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a line string geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(close_line(geom_from_wkt('LINESTRING(0</span> <span class="pre">0,</span> <span class="pre">1</span> <span class="pre">0,</span> <span class="pre">1</span> <span class="pre">1)')))</span></code> → ‘LineString (0 0, 1 0, 1 1, 0 0)’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(close_line(geom_from_wkt('LINESTRING(0</span> <span class="pre">0,</span> <span class="pre">1</span> <span class="pre">0,</span> <span class="pre">1</span> <span class="pre">1,</span> <span class="pre">0</span> <span class="pre">0)')))</span></code> → ‘LineString (0 0, 1 0, 1 1, 0 0)’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="closest-point">
<span id="expression-function-geometrygroup-closest-point"></span><h3><a class="toc-backref" href="#id256"><span class="section-number">12.2.13.14. </span>closest_point</a><a class="headerlink" href="#closest-point" title="Permalink to this headline"></a></h3>
<p>Returns the point on geometry1 that is closest to geometry2.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>closest_point(geometry1, geometry2)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry1</strong> - geometry to find closest point on</p></li>
<li><p><strong>geometry2</strong> - geometry to find closest point to</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(closest_point(geom_from_wkt('LINESTRING</span> <span class="pre">(20</span> <span class="pre">80,</span> <span class="pre">98</span> <span class="pre">190,</span> <span class="pre">110</span> <span class="pre">180,</span> <span class="pre">50</span> <span class="pre">75</span> <span class="pre">)'),geom_from_wkt('POINT(100</span> <span class="pre">100)')))</span></code> → ‘Point(73.0769 115.384)’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="collect-geometries">
<span id="expression-function-geometrygroup-collect-geometries"></span><h3><a class="toc-backref" href="#id257"><span class="section-number">12.2.13.15. </span>collect_geometries</a><a class="headerlink" href="#collect-geometries" title="Permalink to this headline"></a></h3>
<p>Collects a set of geometries into a multi-part geometry object.</p>
<p><strong>List of arguments variant</strong></p>
<p>Geometry parts are specified as separate arguments to the function.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>collect_geometries(geometry1, geometry2, …)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(collect_geometries(make_point(1,2),</span> <span class="pre">make_point(3,4),</span> <span class="pre">make_point(5,6)))</span></code> → ‘MultiPoint ((1 2),(3 4),(5 6))’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Array variant</strong></p>
<p>Geometry parts are specified as an array of geometry parts.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>collect_geometries(array)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>array</strong> - array of geometry objects</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(collect_geometries(array(make_point(1,2),</span> <span class="pre">make_point(3,4),</span> <span class="pre">make_point(5,6))))</span></code> → ‘MultiPoint ((1 2),(3 4),(5 6))’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="../processing_algs/qgis/vectorgeometry.html#qgiscollect"><span class="std std-ref">Collect geometries</span></a> algorithm</p>
</section>
<section id="combine">
<span id="expression-function-geometrygroup-combine"></span><h3><a class="toc-backref" href="#id258"><span class="section-number">12.2.13.16. </span>combine</a><a class="headerlink" href="#combine" title="Permalink to this headline"></a></h3>
<p>Returns the combination of two geometries.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>combine(geometry1, geometry2)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry1</strong> - a geometry</p></li>
<li><p><strong>geometry2</strong> - a geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(</span> <span class="pre">combine(</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'LINESTRING(3</span> <span class="pre">3,</span> <span class="pre">4</span> <span class="pre">4,</span> <span class="pre">5</span> <span class="pre">5)'</span> <span class="pre">),</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'LINESTRING(3</span> <span class="pre">3,</span> <span class="pre">4</span> <span class="pre">4,</span> <span class="pre">2</span> <span class="pre">1)'</span> <span class="pre">)</span> <span class="pre">)</span> <span class="pre">)</span></code> → ‘MULTILINESTRING((4 4, 2 1), (3 3, 4 4), (4 4, 5 5))’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(</span> <span class="pre">combine(</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'LINESTRING(3</span> <span class="pre">3,</span> <span class="pre">4</span> <span class="pre">4)'</span> <span class="pre">),</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'LINESTRING(3</span> <span class="pre">3,</span> <span class="pre">6</span> <span class="pre">6,</span> <span class="pre">2</span> <span class="pre">1)'</span> <span class="pre">)</span> <span class="pre">)</span> <span class="pre">)</span></code> → ‘LINESTRING(3 3, 4 4, 6 6, 2 1)’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="contains">
<span id="expression-function-geometrygroup-contains"></span><h3><a class="toc-backref" href="#id259"><span class="section-number">12.2.13.17. </span>contains</a><a class="headerlink" href="#contains" title="Permalink to this headline"></a></h3>
<p>Tests whether a geometry contains another. Returns true if and only if no points of geometry2 lie in the exterior of geometry1, and at least one point of the interior of geometry2 lies in the interior of geometry1.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>contains(geometry1, geometry2)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry1</strong> - a geometry</p></li>
<li><p><strong>geometry2</strong> - a geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">contains(</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'POLYGON((0</span> <span class="pre">0,</span> <span class="pre">0</span> <span class="pre">1,</span> <span class="pre">1</span> <span class="pre">1,</span> <span class="pre">1</span> <span class="pre">0,</span> <span class="pre">0</span> <span class="pre">0))'</span> <span class="pre">),</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'POINT(0.5</span> <span class="pre">0.5</span> <span class="pre">)'</span> <span class="pre">)</span> <span class="pre">)</span></code> → true</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">contains(</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'POLYGON((0</span> <span class="pre">0,</span> <span class="pre">0</span> <span class="pre">1,</span> <span class="pre">1</span> <span class="pre">1,</span> <span class="pre">1</span> <span class="pre">0,</span> <span class="pre">0</span> <span class="pre">0))'</span> <span class="pre">),</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'LINESTRING(3</span> <span class="pre">3,</span> <span class="pre">4</span> <span class="pre">4,</span> <span class="pre">5</span> <span class="pre">5)'</span> <span class="pre">)</span> <span class="pre">)</span></code> → false</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="#expression-function-geometrygroup-overlay-contains"><span class="std std-ref">overlay_contains</span></a></p>
</section>
<section id="convex-hull">
<span id="expression-function-geometrygroup-convex-hull"></span><h3><a class="toc-backref" href="#id260"><span class="section-number">12.2.13.18. </span>convex_hull</a><a class="headerlink" href="#convex-hull" title="Permalink to this headline"></a></h3>
<p>Returns the convex hull of a geometry. It represents the minimum convex geometry that encloses all geometries within the set.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>convex_hull(geometry)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(</span> <span class="pre">convex_hull(</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'LINESTRING(3</span> <span class="pre">3,</span> <span class="pre">4</span> <span class="pre">4,</span> <span class="pre">4</span> <span class="pre">10)'</span> <span class="pre">)</span> <span class="pre">)</span> <span class="pre">)</span></code> → ‘POLYGON((3 3, 4 10, 4 4, 3 3))’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="../processing_algs/qgis/vectorgeometry.html#qgisconvexhull"><span class="std std-ref">Convex hull</span></a> algorithm</p>
</section>
<section id="crosses">
<span id="expression-function-geometrygroup-crosses"></span><h3><a class="toc-backref" href="#id261"><span class="section-number">12.2.13.19. </span>crosses</a><a class="headerlink" href="#crosses" title="Permalink to this headline"></a></h3>
<p>Tests whether a geometry crosses another. Returns true if the supplied geometries have some, but not all, interior points in common.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>crosses(geometry1, geometry2)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry1</strong> - a geometry</p></li>
<li><p><strong>geometry2</strong> - a geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">crosses(</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'LINESTRING(3</span> <span class="pre">5,</span> <span class="pre">4</span> <span class="pre">4,</span> <span class="pre">5</span> <span class="pre">3)'</span> <span class="pre">),</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'LINESTRING(3</span> <span class="pre">3,</span> <span class="pre">4</span> <span class="pre">4,</span> <span class="pre">5</span> <span class="pre">5)'</span> <span class="pre">)</span> <span class="pre">)</span></code> → true</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">crosses(</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'POINT(4</span> <span class="pre">5)'</span> <span class="pre">),</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'LINESTRING(3</span> <span class="pre">3,</span> <span class="pre">4</span> <span class="pre">4,</span> <span class="pre">5</span> <span class="pre">5)'</span> <span class="pre">)</span> <span class="pre">)</span></code> → false</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="#expression-function-geometrygroup-overlay-crosses"><span class="std std-ref">overlay_crosses</span></a></p>
</section>
<section id="difference">
<span id="expression-function-geometrygroup-difference"></span><h3><a class="toc-backref" href="#id262"><span class="section-number">12.2.13.20. </span>difference</a><a class="headerlink" href="#difference" title="Permalink to this headline"></a></h3>
<p>Returns a geometry that represents that part of geometry1 that does not intersect with geometry2.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>difference(geometry1, geometry2)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry1</strong> - a geometry</p></li>
<li><p><strong>geometry2</strong> - a geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(</span> <span class="pre">difference(</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'LINESTRING(3</span> <span class="pre">3,</span> <span class="pre">4</span> <span class="pre">4,</span> <span class="pre">5</span> <span class="pre">5)'</span> <span class="pre">),</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'LINESTRING(3</span> <span class="pre">3,</span> <span class="pre">4</span> <span class="pre">4)'</span> <span class="pre">)</span> <span class="pre">)</span> <span class="pre">)</span></code> → ‘LINESTRING(4 4, 5 5)’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="../processing_algs/qgis/vectoroverlay.html#qgisdifference"><span class="std std-ref">Difference</span></a> algorithm</p>
</section>
<section id="disjoint">
<span id="expression-function-geometrygroup-disjoint"></span><h3><a class="toc-backref" href="#id263"><span class="section-number">12.2.13.21. </span>disjoint</a><a class="headerlink" href="#disjoint" title="Permalink to this headline"></a></h3>
<p>Tests whether geometries do not spatially intersect. Returns true if the geometries do not share any space together.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>disjoint(geometry1, geometry2)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry1</strong> - a geometry</p></li>
<li><p><strong>geometry2</strong> - a geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">disjoint(</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'POLYGON((0</span> <span class="pre">0,</span> <span class="pre">0</span> <span class="pre">1,</span> <span class="pre">1</span> <span class="pre">1,</span> <span class="pre">1</span> <span class="pre">0,</span> <span class="pre">0</span> <span class="pre">0</span> <span class="pre">))'</span> <span class="pre">),</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'LINESTRING(3</span> <span class="pre">3,</span> <span class="pre">4</span> <span class="pre">4,</span> <span class="pre">5</span> <span class="pre">5)'</span> <span class="pre">)</span> <span class="pre">)</span></code> → true</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">disjoint(</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'LINESTRING(3</span> <span class="pre">3,</span> <span class="pre">4</span> <span class="pre">4,</span> <span class="pre">5</span> <span class="pre">5)'</span> <span class="pre">),</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'POINT(4</span> <span class="pre">4)'</span> <span class="pre">))</span></code> → false</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="#expression-function-geometrygroup-overlay-disjoint"><span class="std std-ref">overlay_disjoint</span></a></p>
</section>
<section id="distance">
<span id="expression-function-geometrygroup-distance"></span><h3><a class="toc-backref" href="#id264"><span class="section-number">12.2.13.22. </span>distance</a><a class="headerlink" href="#distance" title="Permalink to this headline"></a></h3>
<p>Returns the minimum distance (based on spatial ref) between two geometries in projected units.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>distance(geometry1, geometry2)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry1</strong> - a geometry</p></li>
<li><p><strong>geometry2</strong> - a geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">distance(</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'POINT(4</span> <span class="pre">4)'</span> <span class="pre">),</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'POINT(4</span> <span class="pre">8)'</span> <span class="pre">)</span> <span class="pre">)</span></code> → 4</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="distance-to-vertex">
<span id="expression-function-geometrygroup-distance-to-vertex"></span><h3><a class="toc-backref" href="#id265"><span class="section-number">12.2.13.23. </span>distance_to_vertex</a><a class="headerlink" href="#distance-to-vertex" title="Permalink to this headline"></a></h3>
<p>Returns the distance along the geometry to a specified vertex.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>distance_to_vertex(geometry, vertex)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a linestring geometry</p></li>
<li><p><strong>vertex</strong> - vertex index, starting from 0; if the value is negative, the selected vertex index will be its total count minus the absolute value</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">distance_to_vertex(geometry:=geom_from_wkt('LineString(0</span> <span class="pre">0,</span> <span class="pre">10</span> <span class="pre">0,</span> <span class="pre">10</span> <span class="pre">10)'),vertex:=1)</span></code> → 10.0</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="end-point">
<span id="expression-function-geometrygroup-end-point"></span><h3><a class="toc-backref" href="#id266"><span class="section-number">12.2.13.24. </span>end_point</a><a class="headerlink" href="#end-point" title="Permalink to this headline"></a></h3>
<p>Returns the last node from a geometry.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>end_point(geometry)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - geometry object</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(end_point(geom_from_wkt('LINESTRING(4</span> <span class="pre">0,</span> <span class="pre">4</span> <span class="pre">2,</span> <span class="pre">0</span> <span class="pre">2)')))</span></code> → ‘Point (0 2)’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="../processing_algs/qgis/vectorgeometry.html#qgisextractspecificvertices"><span class="std std-ref">Extract specific vertices</span></a> algorithm</p>
</section>
<section id="exif-geotag">
<span id="expression-function-geometrygroup-exif-geotag"></span><h3><a class="toc-backref" href="#id267"><span class="section-number">12.2.13.25. </span>exif_geotag</a><a class="headerlink" href="#exif-geotag" title="Permalink to this headline"></a></h3>
<p>Creates a point geometry from the exif geotags of an image file.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>exif_geotag(path)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>path</strong> - An image file path.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(exif_geotag('/my/photo.jpg'))</span></code> → ‘Point (2 4)’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="extend">
<span id="expression-function-geometrygroup-extend"></span><h3><a class="toc-backref" href="#id268"><span class="section-number">12.2.13.26. </span>extend</a><a class="headerlink" href="#extend" title="Permalink to this headline"></a></h3>
<p>Extends the start and end of a linestring geometry by a specified amount. Lines are extended using the bearing of the first and last segment in the line. For a multilinestring, all the parts are extended. Distances are in the Spatial Reference System of this geometry.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>extend(geometry, start_distance, end_distance)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a (multi)linestring geometry</p></li>
<li><p><strong>start_distance</strong> - distance to extend the start of the line</p></li>
<li><p><strong>end_distance</strong> - distance to extend the end of the line.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(extend(geom_from_wkt('LineString(0</span> <span class="pre">0,</span> <span class="pre">1</span> <span class="pre">0,</span> <span class="pre">1</span> <span class="pre">1)'),1,2))</span></code> → ‘LineString (-1 0, 1 0, 1 3)’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(extend(geom_from_wkt('MultiLineString((0</span> <span class="pre">0,</span> <span class="pre">1</span> <span class="pre">0,</span> <span class="pre">1</span> <span class="pre">1),</span> <span class="pre">(2</span> <span class="pre">2,</span> <span class="pre">0</span> <span class="pre">2,</span> <span class="pre">0</span> <span class="pre">5))'),1,2))</span></code> → ‘MultiLineString ((-1 0, 1 0, 1 3),(3 2, 0 2, 0 7))’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="../processing_algs/qgis/vectorgeometry.html#qgisextendlines"><span class="std std-ref">Extend lines</span></a> algorithm</p>
</section>
<section id="exterior-ring">
<span id="expression-function-geometrygroup-exterior-ring"></span><h3><a class="toc-backref" href="#id269"><span class="section-number">12.2.13.27. </span>exterior_ring</a><a class="headerlink" href="#exterior-ring" title="Permalink to this headline"></a></h3>
<p>Returns a line string representing the exterior ring of a polygon geometry. If the geometry is not a polygon then the result will be NULL.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>exterior_ring(geometry)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a polygon geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(exterior_ring(geom_from_wkt('POLYGON((-1</span> <span class="pre">-1,</span> <span class="pre">4</span> <span class="pre">0,</span> <span class="pre">4</span> <span class="pre">2,</span> <span class="pre">0</span> <span class="pre">2,</span> <span class="pre">-1</span> <span class="pre">-1),(</span> <span class="pre">0.1</span> <span class="pre">0.1,</span> <span class="pre">0.1</span> <span class="pre">0.2,</span> <span class="pre">0.2</span> <span class="pre">0.2,</span> <span class="pre">0.2,</span> <span class="pre">0.1,</span> <span class="pre">0.1</span> <span class="pre">0.1))')))</span></code> → ‘LineString (-1 -1, 4 0, 4 2, 0 2, -1 -1)’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="extrude">
<span id="expression-function-geometrygroup-extrude"></span><h3><a class="toc-backref" href="#id270"><span class="section-number">12.2.13.28. </span>extrude</a><a class="headerlink" href="#extrude" title="Permalink to this headline"></a></h3>
<p>Returns an extruded version of the input (Multi-)Curve or (Multi-)Linestring geometry with an extension specified by x and y.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>extrude(geometry, x, y)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a curve or linestring geometry</p></li>
<li><p><strong>x</strong> - x extension, numeric value</p></li>
<li><p><strong>y</strong> - y extension, numeric value</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(extrude(geom_from_wkt('LineString(1</span> <span class="pre">2,</span> <span class="pre">3</span> <span class="pre">2,</span> <span class="pre">4</span> <span class="pre">3)'),</span> <span class="pre">1,</span> <span class="pre">2))</span></code> → ‘Polygon ((1 2, 3 2, 4 3, 5 5, 4 4, 2 4, 1 2))’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(extrude(geom_from_wkt('MultiLineString((1</span> <span class="pre">2,</span> <span class="pre">3</span> <span class="pre">2),</span> <span class="pre">(4</span> <span class="pre">3,</span> <span class="pre">8</span> <span class="pre">3))'),</span> <span class="pre">1,</span> <span class="pre">2))</span></code> → ‘MultiPolygon (((1 2, 3 2, 4 4, 2 4, 1 2)),((4 3, 8 3, 9 5, 5 5, 4 3)))’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="flip-coordinates">
<span id="expression-function-geometrygroup-flip-coordinates"></span><h3><a class="toc-backref" href="#id271"><span class="section-number">12.2.13.29. </span>flip_coordinates</a><a class="headerlink" href="#flip-coordinates" title="Permalink to this headline"></a></h3>
<p>Returns a copy of the geometry with the x and y coordinates swapped. Useful for repairing geometries which have had their latitude and longitude values reversed.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>flip_coordinates(geometry)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(flip_coordinates(make_point(1,</span> <span class="pre">2)))</span></code> → ‘Point (2 1)’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="../processing_algs/qgis/vectorgeometry.html#qgisswapxy"><span class="std std-ref">Swap X and Y coordinates</span></a> algorithm</p>
</section>
<section id="force-rhr">
<span id="expression-function-geometrygroup-force-rhr"></span><h3><a class="toc-backref" href="#id272"><span class="section-number">12.2.13.30. </span>force_rhr</a><a class="headerlink" href="#force-rhr" title="Permalink to this headline"></a></h3>
<p>Forces a geometry to respect the Right-Hand-Rule, in which the area that is bounded by a polygon is to the right of the boundary. In particular, the exterior ring is oriented in a clockwise direction and the interior rings in a counter-clockwise direction.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>force_rhr(geometry)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a geometry. Any non-polygon geometries are returned unchanged.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(force_rhr(geometry:=geom_from_wkt('POLYGON((-1</span> <span class="pre">-1,</span> <span class="pre">4</span> <span class="pre">0,</span> <span class="pre">4</span> <span class="pre">2,</span> <span class="pre">0</span> <span class="pre">2,</span> <span class="pre">-1</span> <span class="pre">-1))')))</span></code> → ‘Polygon ((-1 -1, 0 2, 4 2, 4 0, -1 -1))’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="../processing_algs/qgis/vectorgeometry.html#qgisforcerhr"><span class="std std-ref">Force right-hand-rule</span></a> algorithm</p>
</section>
<section id="geom-from-gml">
<span id="expression-function-geometrygroup-geom-from-gml"></span><h3><a class="toc-backref" href="#id273"><span class="section-number">12.2.13.31. </span>geom_from_gml</a><a class="headerlink" href="#geom-from-gml" title="Permalink to this headline"></a></h3>
<p>Returns a geometry from a GML representation of geometry.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>geom_from_gml(gml)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>gml</strong> - GML representation of a geometry as a string</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_from_gml('&lt;gml:LineString</span> <span class="pre">srsName=&quot;EPSG:4326&quot;&gt;&lt;gml:coordinates&gt;4,4</span> <span class="pre">5,5</span> <span class="pre">6,6&lt;/gml:coordinates&gt;&lt;/gml:LineString&gt;')</span></code> → a line geometry object</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="geom-from-wkb">
<span id="expression-function-geometrygroup-geom-from-wkb"></span><h3><a class="toc-backref" href="#id274"><span class="section-number">12.2.13.32. </span>geom_from_wkb</a><a class="headerlink" href="#geom-from-wkb" title="Permalink to this headline"></a></h3>
<p>Returns a geometry created from a Well-Known Binary (WKB) representation.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>geom_from_wkb(binary)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>binary</strong> - Well-Known Binary (WKB) representation of a geometry (as a binary blob)</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_from_wkb(</span> <span class="pre">geom_to_wkb(</span> <span class="pre">make_point(4,5)</span> <span class="pre">)</span> <span class="pre">)</span></code> → a point geometry object</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="geom-from-wkt">
<span id="expression-function-geometrygroup-geom-from-wkt"></span><h3><a class="toc-backref" href="#id275"><span class="section-number">12.2.13.33. </span>geom_from_wkt</a><a class="headerlink" href="#geom-from-wkt" title="Permalink to this headline"></a></h3>
<p>Returns a geometry created from a Well-Known Text (WKT) representation.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>geom_from_wkt(text)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>text</strong> - Well-Known Text (WKT) representation of a geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_from_wkt(</span> <span class="pre">'POINT(4</span> <span class="pre">5)'</span> <span class="pre">)</span></code> → a geometry object</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="geom-to-wkb">
<span id="expression-function-geometrygroup-geom-to-wkb"></span><h3><a class="toc-backref" href="#id276"><span class="section-number">12.2.13.34. </span>geom_to_wkb</a><a class="headerlink" href="#geom-to-wkb" title="Permalink to this headline"></a></h3>
<p>Returns the Well-Known Binary (WKB) representation of a geometry</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>geom_to_wkb(geometry)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkb(</span> <span class="pre">$geometry</span> <span class="pre">)</span></code> → binary blob containing a geometry object</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="geom-to-wkt">
<span id="expression-function-geometrygroup-geom-to-wkt"></span><h3><a class="toc-backref" href="#id277"><span class="section-number">12.2.13.35. </span>geom_to_wkt</a><a class="headerlink" href="#geom-to-wkt" title="Permalink to this headline"></a></h3>
<p>Returns the Well-Known Text (WKT) representation of the geometry without SRID metadata.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>geom_to_wkt(geometry, [precision=8])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a geometry</p></li>
<li><p><strong>precision</strong> - numeric precision</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(</span> <span class="pre">make_point(6,</span> <span class="pre">50)</span> <span class="pre">)</span></code> → ‘POINT(6 50)’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(centroid(geom_from_wkt('Polygon((1</span> <span class="pre">1,</span> <span class="pre">0</span> <span class="pre">0,</span> <span class="pre">-1</span> <span class="pre">1,</span> <span class="pre">1</span> <span class="pre">1))')))</span></code> → ‘POINT(0 0.66666667)’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(centroid(geom_from_wkt('Polygon((1</span> <span class="pre">1,</span> <span class="pre">0</span> <span class="pre">0,</span> <span class="pre">-1</span> <span class="pre">1,</span> <span class="pre">1</span> <span class="pre">1))')),</span> <span class="pre">2)</span></code> → ‘POINT(0 0.67)’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="geometry">
<span id="expression-function-geometrygroup-geometry"></span><h3><a class="toc-backref" href="#id278"><span class="section-number">12.2.13.36. </span>$geometry</a><a class="headerlink" href="#geometry" title="Permalink to this headline"></a></h3>
<p>Returns the geometry of the current feature. Can be used for processing with other functions.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>$geometry</p></td>
</tr>
<tr class="row-even"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(</span> <span class="pre">$geometry</span> <span class="pre">)</span></code> → ‘POINT(6 50)’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="id27">
<span id="id28"></span><h3><a class="toc-backref" href="#id279"><span class="section-number">12.2.13.37. </span>geometry</a><a class="headerlink" href="#id27" title="Permalink to this headline"></a></h3>
<p>Returns a feature’s geometry.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>geometry(feature)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>feature</strong> - a feature object</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(</span> <span class="pre">geometry(</span> <span class="pre">get_feature(</span> <span class="pre">layer,</span> <span class="pre">attributeField,</span> <span class="pre">value</span> <span class="pre">)</span> <span class="pre">)</span> <span class="pre">)</span></code> → ‘POINT(6 50)’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">intersects(</span> <span class="pre">$geometry,</span> <span class="pre">geometry(</span> <span class="pre">get_feature(</span> <span class="pre">layer,</span> <span class="pre">attributeField,</span> <span class="pre">value</span> <span class="pre">)</span> <span class="pre">)</span> <span class="pre">)</span></code> → true</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="geometry-n">
<span id="expression-function-geometrygroup-geometry-n"></span><h3><a class="toc-backref" href="#id280"><span class="section-number">12.2.13.38. </span>geometry_n</a><a class="headerlink" href="#geometry-n" title="Permalink to this headline"></a></h3>
<p>Returns a specific geometry from a geometry collection, or NULL if the input geometry is not a collection.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>geometry_n(geometry, index)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - geometry collection</p></li>
<li><p><strong>index</strong> - index of geometry to return, where 1 is the first geometry in the collection</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(geometry_n(geom_from_wkt('GEOMETRYCOLLECTION(POINT(0</span> <span class="pre">1),</span> <span class="pre">POINT(0</span> <span class="pre">0),</span> <span class="pre">POINT(1</span> <span class="pre">0),</span> <span class="pre">POINT(1</span> <span class="pre">1))'),3))</span></code> → ‘Point (1 0)’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="hausdorff-distance">
<span id="expression-function-geometrygroup-hausdorff-distance"></span><h3><a class="toc-backref" href="#id281"><span class="section-number">12.2.13.39. </span>hausdorff_distance</a><a class="headerlink" href="#hausdorff-distance" title="Permalink to this headline"></a></h3>
<p>Returns the Hausdorff distance between two geometries. This is basically a measure of how similar or dissimilar 2 geometries are, with a lower distance indicating more similar geometries.</p>
<p>The function can be executed with an optional densify fraction argument. If not specified, an approximation to the standard Hausdorff distance is used. This approximation is exact or close enough for a large subset of useful cases. Examples of these are:</p>
<ul class="simple">
<li><p>computing distance between Linestrings that are roughly parallel to each other, and roughly equal in length. This occurs in matching linear networks.</p></li>
<li><p>Testing similarity of geometries.</p></li>
</ul>
<p>If the default approximate provided by this method is insufficient, specify the optional densify fraction argument. Specifying this argument performs a segment densification before computing the discrete Hausdorff distance. The parameter sets the fraction by which to densify each segment. Each segment will be split into a number of equal-length subsegments, whose fraction of the total length is closest to the given fraction. Decreasing the densify fraction parameter will make the distance returned approach the true Hausdorff distance for the geometries.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>hausdorff_distance(geometry1, geometry2, [densify_fraction])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry1</strong> - a geometry</p></li>
<li><p><strong>geometry2</strong> - a geometry</p></li>
<li><p><strong>densify_fraction</strong> - densify fraction amount</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">hausdorff_distance(</span> <span class="pre">geometry1:=</span> <span class="pre">geom_from_wkt('LINESTRING</span> <span class="pre">(0</span> <span class="pre">0,</span> <span class="pre">2</span> <span class="pre">1)'),geometry2:=geom_from_wkt('LINESTRING</span> <span class="pre">(0</span> <span class="pre">0,</span> <span class="pre">2</span> <span class="pre">0)'))</span></code> → 2</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hausdorff_distance(</span> <span class="pre">geom_from_wkt('LINESTRING</span> <span class="pre">(130</span> <span class="pre">0,</span> <span class="pre">0</span> <span class="pre">0,</span> <span class="pre">0</span> <span class="pre">150)'),geom_from_wkt('LINESTRING</span> <span class="pre">(10</span> <span class="pre">10,</span> <span class="pre">10</span> <span class="pre">150,</span> <span class="pre">130</span> <span class="pre">10)'))</span></code> → 14.142135623</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hausdorff_distance(</span> <span class="pre">geom_from_wkt('LINESTRING</span> <span class="pre">(130</span> <span class="pre">0,</span> <span class="pre">0</span> <span class="pre">0,</span> <span class="pre">0</span> <span class="pre">150)'),geom_from_wkt('LINESTRING</span> <span class="pre">(10</span> <span class="pre">10,</span> <span class="pre">10</span> <span class="pre">150,</span> <span class="pre">130</span> <span class="pre">10)'),0.5)</span></code> → 70.0</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="inclination">
<span id="expression-function-geometrygroup-inclination"></span><h3><a class="toc-backref" href="#id282"><span class="section-number">12.2.13.40. </span>inclination</a><a class="headerlink" href="#inclination" title="Permalink to this headline"></a></h3>
<p>Returns the inclination measured from the zenith (0) to the nadir (180) on point_a to point_b.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>inclination(point_a, point_b)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>point_a</strong> - point geometry</p></li>
<li><p><strong>point_b</strong> - point geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">inclination(</span> <span class="pre">make_point(</span> <span class="pre">5,</span> <span class="pre">10,</span> <span class="pre">0</span> <span class="pre">),</span> <span class="pre">make_point(</span> <span class="pre">5,</span> <span class="pre">10,</span> <span class="pre">5</span> <span class="pre">)</span> <span class="pre">)</span></code> → 0.0</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">inclination(</span> <span class="pre">make_point(</span> <span class="pre">5,</span> <span class="pre">10,</span> <span class="pre">0</span> <span class="pre">),</span> <span class="pre">make_point(</span> <span class="pre">5,</span> <span class="pre">10,</span> <span class="pre">0</span> <span class="pre">)</span> <span class="pre">)</span></code> → 90.0</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">inclination(</span> <span class="pre">make_point(</span> <span class="pre">5,</span> <span class="pre">10,</span> <span class="pre">0</span> <span class="pre">),</span> <span class="pre">make_point(</span> <span class="pre">50,</span> <span class="pre">100,</span> <span class="pre">0</span> <span class="pre">)</span> <span class="pre">)</span></code> → 90.0</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">inclination(</span> <span class="pre">make_point(</span> <span class="pre">5,</span> <span class="pre">10,</span> <span class="pre">0</span> <span class="pre">),</span> <span class="pre">make_point(</span> <span class="pre">5,</span> <span class="pre">10,</span> <span class="pre">-5</span> <span class="pre">)</span> <span class="pre">)</span></code> → 180.0</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="interior-ring-n">
<span id="expression-function-geometrygroup-interior-ring-n"></span><h3><a class="toc-backref" href="#id283"><span class="section-number">12.2.13.41. </span>interior_ring_n</a><a class="headerlink" href="#interior-ring-n" title="Permalink to this headline"></a></h3>
<p>Returns a specific interior ring from a polygon geometry, or NULL if the geometry is not a polygon.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>interior_ring_n(geometry, index)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - polygon geometry</p></li>
<li><p><strong>index</strong> - index of interior to return, where 1 is the first interior ring</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(interior_ring_n(geom_from_wkt('POLYGON((-1</span> <span class="pre">-1,</span> <span class="pre">4</span> <span class="pre">0,</span> <span class="pre">4</span> <span class="pre">2,</span> <span class="pre">0</span> <span class="pre">2,</span> <span class="pre">-1</span> <span class="pre">-1),(-0.1</span> <span class="pre">-0.1,</span> <span class="pre">0.4</span> <span class="pre">0,</span> <span class="pre">0.4</span> <span class="pre">0.2,</span> <span class="pre">0</span> <span class="pre">0.2,</span> <span class="pre">-0.1</span> <span class="pre">-0.1),(-1</span> <span class="pre">-1,</span> <span class="pre">4</span> <span class="pre">0,</span> <span class="pre">4</span> <span class="pre">2,</span> <span class="pre">0</span> <span class="pre">2,</span> <span class="pre">-1</span> <span class="pre">-1))'),1))</span></code> → ‘LineString (-0.1 -0.1, 0.4 0, 0.4 0.2, 0 0.2, -0.1 -0.1))’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="intersection">
<span id="expression-function-geometrygroup-intersection"></span><h3><a class="toc-backref" href="#id284"><span class="section-number">12.2.13.42. </span>intersection</a><a class="headerlink" href="#intersection" title="Permalink to this headline"></a></h3>
<p>Returns a geometry that represents the shared portion of two geometries.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>intersection(geometry1, geometry2)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry1</strong> - a geometry</p></li>
<li><p><strong>geometry2</strong> - a geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(</span> <span class="pre">intersection(</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'LINESTRING(3</span> <span class="pre">3,</span> <span class="pre">4</span> <span class="pre">4,</span> <span class="pre">5</span> <span class="pre">5)'</span> <span class="pre">),</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'LINESTRING(3</span> <span class="pre">3,</span> <span class="pre">4</span> <span class="pre">4)'</span> <span class="pre">)</span> <span class="pre">)</span> <span class="pre">)</span></code> → ‘LINESTRING(3 3, 4 4)’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(</span> <span class="pre">intersection(</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'LINESTRING(3</span> <span class="pre">3,</span> <span class="pre">4</span> <span class="pre">4,</span> <span class="pre">5</span> <span class="pre">5)'</span> <span class="pre">),</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'MULTIPOINT(3.5</span> <span class="pre">3.5,</span> <span class="pre">4</span> <span class="pre">5)'</span> <span class="pre">)</span> <span class="pre">)</span> <span class="pre">)</span></code> → ‘POINT(3.5 3.5)’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="../processing_algs/qgis/vectoroverlay.html#qgisintersection"><span class="std std-ref">Intersection</span></a> algorithm</p>
</section>
<section id="intersects">
<span id="expression-function-geometrygroup-intersects"></span><h3><a class="toc-backref" href="#id285"><span class="section-number">12.2.13.43. </span>intersects</a><a class="headerlink" href="#intersects" title="Permalink to this headline"></a></h3>
<p>Tests whether a geometry intersects another. Returns true if the geometries spatially intersect (share any portion of space) and false if they do not.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>intersects(geometry1, geometry2)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry1</strong> - a geometry</p></li>
<li><p><strong>geometry2</strong> - a geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">intersects(</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'POINT(4</span> <span class="pre">4)'</span> <span class="pre">),</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'LINESTRING(3</span> <span class="pre">3,</span> <span class="pre">4</span> <span class="pre">4,</span> <span class="pre">5</span> <span class="pre">5)'</span> <span class="pre">)</span> <span class="pre">)</span></code> → true</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">intersects(</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'POINT(4</span> <span class="pre">5)'</span> <span class="pre">),</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'POINT(5</span> <span class="pre">5)'</span> <span class="pre">)</span> <span class="pre">)</span></code> → false</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="#expression-function-geometrygroup-overlay-intersects"><span class="std std-ref">overlay_intersects</span></a></p>
</section>
<section id="intersects-bbox">
<span id="expression-function-geometrygroup-intersects-bbox"></span><h3><a class="toc-backref" href="#id286"><span class="section-number">12.2.13.44. </span>intersects_bbox</a><a class="headerlink" href="#intersects-bbox" title="Permalink to this headline"></a></h3>
<p>Tests whether a geometry’s bounding box overlaps another geometry’s bounding box. Returns true if the geometries spatially intersect the bounding box defined and false if they do not.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>intersects_bbox(geometry1, geometry2)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry1</strong> - a geometry</p></li>
<li><p><strong>geometry2</strong> - a geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">intersects_bbox(</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'POINT(4</span> <span class="pre">5)'</span> <span class="pre">),</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'LINESTRING(3</span> <span class="pre">3,</span> <span class="pre">4</span> <span class="pre">4,</span> <span class="pre">5</span> <span class="pre">5)'</span> <span class="pre">)</span> <span class="pre">)</span></code> → true</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">intersects_bbox(</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'POINT(6</span> <span class="pre">5)'</span> <span class="pre">),</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'POLYGON((3</span> <span class="pre">3,</span> <span class="pre">4</span> <span class="pre">4,</span> <span class="pre">5</span> <span class="pre">5,</span> <span class="pre">3</span> <span class="pre">3))'</span> <span class="pre">)</span> <span class="pre">)</span></code> → false</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="is-closed">
<span id="expression-function-geometrygroup-is-closed"></span><h3><a class="toc-backref" href="#id287"><span class="section-number">12.2.13.45. </span>is_closed</a><a class="headerlink" href="#is-closed" title="Permalink to this headline"></a></h3>
<p>Returns true if a line string is closed (start and end points are coincident), or false if a line string is not closed. If the geometry is not a line string then the result will be NULL.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>is_closed(geometry)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a line string geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">is_closed(geom_from_wkt('LINESTRING(0</span> <span class="pre">0,</span> <span class="pre">1</span> <span class="pre">1,</span> <span class="pre">2</span> <span class="pre">2)'))</span></code> → false</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">is_closed(geom_from_wkt('LINESTRING(0</span> <span class="pre">0,</span> <span class="pre">1</span> <span class="pre">1,</span> <span class="pre">2</span> <span class="pre">2,</span> <span class="pre">0</span> <span class="pre">0)'))</span></code> → true</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="is-empty">
<span id="expression-function-geometrygroup-is-empty"></span><h3><a class="toc-backref" href="#id288"><span class="section-number">12.2.13.46. </span>is_empty</a><a class="headerlink" href="#is-empty" title="Permalink to this headline"></a></h3>
<p>Returns true if a geometry is empty (without coordinates), false if the geometry is not empty and NULL if there is no geometry. See also is_empty_or_null.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>is_empty(geometry)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">is_empty(geom_from_wkt('LINESTRING(0</span> <span class="pre">0,</span> <span class="pre">1</span> <span class="pre">1,</span> <span class="pre">2</span> <span class="pre">2)'))</span></code> → false</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">is_empty(geom_from_wkt('LINESTRING</span> <span class="pre">EMPTY'))</span></code> → true</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">is_empty(geom_from_wkt('POINT(7</span> <span class="pre">4)'))</span></code> → false</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">is_empty(geom_from_wkt('POINT</span> <span class="pre">EMPTY'))</span></code> → true</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="is-empty-or-null">
<span id="expression-function-geometrygroup-is-empty-or-null"></span><h3><a class="toc-backref" href="#id289"><span class="section-number">12.2.13.47. </span>is_empty_or_null</a><a class="headerlink" href="#is-empty-or-null" title="Permalink to this headline"></a></h3>
<p>Returns true if a geometry is NULL or empty (without coordinates) or false otherwise. This function is like the expression ‘$geometry IS NULL or is_empty($geometry)’</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>is_empty_or_null(geometry)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">is_empty_or_null(NULL)</span></code> → true</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">is_empty_or_null(geom_from_wkt('LINESTRING(0</span> <span class="pre">0,</span> <span class="pre">1</span> <span class="pre">1,</span> <span class="pre">2</span> <span class="pre">2)'))</span></code> → false</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">is_empty_or_null(geom_from_wkt('LINESTRING</span> <span class="pre">EMPTY'))</span></code> → true</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">is_empty_or_null(geom_from_wkt('POINT(7</span> <span class="pre">4)'))</span></code> → false</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">is_empty_or_null(geom_from_wkt('POINT</span> <span class="pre">EMPTY'))</span></code> → true</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="is-multipart">
<span id="expression-function-geometrygroup-is-multipart"></span><h3><a class="toc-backref" href="#id290"><span class="section-number">12.2.13.48. </span>is_multipart</a><a class="headerlink" href="#is-multipart" title="Permalink to this headline"></a></h3>
<p>Returns true if the geometry is of Multi type.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>is_multipart(geometry)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">is_multipart(geom_from_wkt('MULTIPOINT</span> <span class="pre">((0</span> <span class="pre">0),(1</span> <span class="pre">1),(2</span> <span class="pre">2))'))</span></code> → true</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">is_multipart(geom_from_wkt('POINT</span> <span class="pre">(0</span> <span class="pre">0)'))</span></code> → false</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="is-valid">
<span id="expression-function-geometrygroup-is-valid"></span><h3><a class="toc-backref" href="#id291"><span class="section-number">12.2.13.49. </span>is_valid</a><a class="headerlink" href="#is-valid" title="Permalink to this headline"></a></h3>
<p>Returns true if a geometry is valid; if it is well-formed in 2D according to the OGC rules.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>is_valid(geometry)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">is_valid(geom_from_wkt('LINESTRING(0</span> <span class="pre">0,</span> <span class="pre">1</span> <span class="pre">1,</span> <span class="pre">2</span> <span class="pre">2,</span> <span class="pre">0</span> <span class="pre">0)'))</span></code> → true</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">is_valid(geom_from_wkt('LINESTRING(0</span> <span class="pre">0)'))</span></code> → false</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="length">
<span id="expression-function-geometrygroup-length"></span><h3><a class="toc-backref" href="#id292"><span class="section-number">12.2.13.50. </span>$length</a><a class="headerlink" href="#length" title="Permalink to this headline"></a></h3>
<p>Returns the length of a linestring. If you need the length of a border of a polygon, use $perimeter instead. The length calculated by this function respects both the current project’s ellipsoid setting and distance unit settings. For example, if an ellipsoid has been set for the project then the calculated length will be ellipsoidal, and if no ellipsoid is set then the calculated length will be planimetric.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>$length</p></td>
</tr>
<tr class="row-even"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$length</span></code> → 42.4711</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="id29">
<span id="id30"></span><h3><a class="toc-backref" href="#id293"><span class="section-number">12.2.13.51. </span>length</a><a class="headerlink" href="#id29" title="Permalink to this headline"></a></h3>
<p>Returns the number of characters in a string or the length of a geometry linestring.</p>
<p><strong>String variant</strong></p>
<p>Returns the number of characters in a string.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>length(string)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>string</strong> - string to count length of</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">length('hello')</span></code> → 5</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Geometry variant</strong></p>
<p>Calculate the length of a geometry line object. Calculations are always planimetric in the Spatial Reference System (SRS) of this geometry, and the units of the returned length will match the units for the SRS. This differs from the calculations performed by the $length function, which will perform ellipsoidal calculations based on the project’s ellipsoid and distance unit settings.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>length(geometry)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - line geometry object</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">length(geom_from_wkt('LINESTRING(0</span> <span class="pre">0,</span> <span class="pre">4</span> <span class="pre">0)'))</span></code> → 4.0</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="#expression-function-geometrygroup-straight-distance-2d"><span class="std std-ref">straight_distance_2d</span></a></p>
</section>
<section id="length3d">
<span id="expression-function-geometrygroup-length3d"></span><h3><a class="toc-backref" href="#id294"><span class="section-number">12.2.13.52. </span>length3D</a><a class="headerlink" href="#length3d" title="Permalink to this headline"></a></h3>
<p>Calculates the 3D length of a geometry line object. If the geometry is not a 3D line object, it returns its 2D length. Calculations are always planimetric in the Spatial Reference System (SRS) of this geometry, and the units of the returned length will match the units for the SRS. This differs from the calculations performed by the $length function, which will perform ellipsoidal calculations based on the project’s ellipsoid and distance unit settings.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>length3D(geometry)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - line geometry object</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">length3D(geom_from_wkt('LINESTRINGZ(0</span> <span class="pre">0</span> <span class="pre">0,</span> <span class="pre">3</span> <span class="pre">0</span> <span class="pre">4)'))</span></code> → 5.0</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="line-interpolate-angle">
<span id="expression-function-geometrygroup-line-interpolate-angle"></span><h3><a class="toc-backref" href="#id295"><span class="section-number">12.2.13.53. </span>line_interpolate_angle</a><a class="headerlink" href="#line-interpolate-angle" title="Permalink to this headline"></a></h3>
<p>Returns the angle parallel to the geometry at a specified distance along a linestring geometry. Angles are in degrees clockwise from north.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>line_interpolate_angle(geometry, distance)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a linestring geometry</p></li>
<li><p><strong>distance</strong> - distance along line to interpolate angle at</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">line_interpolate_angle(geometry:=geom_from_wkt('LineString(0</span> <span class="pre">0,</span> <span class="pre">10</span> <span class="pre">0)'),distance:=5)</span></code> → 90.0</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="line-interpolate-point">
<span id="expression-function-geometrygroup-line-interpolate-point"></span><h3><a class="toc-backref" href="#id296"><span class="section-number">12.2.13.54. </span>line_interpolate_point</a><a class="headerlink" href="#line-interpolate-point" title="Permalink to this headline"></a></h3>
<p>Returns the point interpolated by a specified distance along a linestring geometry.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>line_interpolate_point(geometry, distance)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a linestring geometry</p></li>
<li><p><strong>distance</strong> - distance along line to interpolate</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(line_interpolate_point(geometry:=geom_from_wkt('LineString(0</span> <span class="pre">0,</span> <span class="pre">10</span> <span class="pre">0)'),distance:=5))</span></code> → ‘Point (5 0)’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="../processing_algs/qgis/vectorgeometry.html#qgisinterpolatepoint"><span class="std std-ref">Interpolate point on line</span></a> algorithm</p>
</section>
<section id="line-locate-point">
<span id="expression-function-geometrygroup-line-locate-point"></span><h3><a class="toc-backref" href="#id297"><span class="section-number">12.2.13.55. </span>line_locate_point</a><a class="headerlink" href="#line-locate-point" title="Permalink to this headline"></a></h3>
<p>Returns the distance along a linestring corresponding to the closest position the linestring comes to a specified point geometry.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>line_locate_point(geometry, point)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a linestring geometry</p></li>
<li><p><strong>point</strong> - point geometry to locate closest position on linestring to</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">line_locate_point(geometry:=geom_from_wkt('LineString(0</span> <span class="pre">0,</span> <span class="pre">10</span> <span class="pre">0)'),point:=geom_from_wkt('Point(5</span> <span class="pre">0)'))</span></code> → 5.0</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="line-merge">
<span id="expression-function-geometrygroup-line-merge"></span><h3><a class="toc-backref" href="#id298"><span class="section-number">12.2.13.56. </span>line_merge</a><a class="headerlink" href="#line-merge" title="Permalink to this headline"></a></h3>
<p>Returns a LineString or MultiLineString geometry, where any connected LineStrings from the input geometry have been merged into a single linestring. This function will return NULL if passed a geometry which is not a LineString/MultiLineString.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>line_merge(geometry)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a LineString/MultiLineString geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(line_merge(geom_from_wkt('MULTILINESTRING((0</span> <span class="pre">0,</span> <span class="pre">1</span> <span class="pre">1),(1</span> <span class="pre">1,</span> <span class="pre">2</span> <span class="pre">2))')))</span></code> → ‘LineString(0 0,1 1,2 2)’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(line_merge(geom_from_wkt('MULTILINESTRING((0</span> <span class="pre">0,</span> <span class="pre">1</span> <span class="pre">1),(11</span> <span class="pre">1,</span> <span class="pre">21</span> <span class="pre">2))')))</span></code> → ‘MultiLineString((0 0, 1 1),(11 1, 21 2)’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="line-substring">
<span id="expression-function-geometrygroup-line-substring"></span><h3><a class="toc-backref" href="#id299"><span class="section-number">12.2.13.57. </span>line_substring</a><a class="headerlink" href="#line-substring" title="Permalink to this headline"></a></h3>
<p>Returns the portion of a line (or curve) geometry which falls between the specified start and end distances (measured from the beginning of the line). Z and M values are linearly interpolated from existing values.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>line_substring(geometry, start_distance, end_distance)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a linestring or curve geometry</p></li>
<li><p><strong>start_distance</strong> - distance to start of substring</p></li>
<li><p><strong>end_distance</strong> - distance to end of substring</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(line_substring(geometry:=geom_from_wkt('LineString(0</span> <span class="pre">0,</span> <span class="pre">10</span> <span class="pre">0)'),start_distance:=2,end_distance:=6))</span></code> → ‘LineString (2 0,6 0)’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="../processing_algs/qgis/vectorgeometry.html#qgislinesubstring"><span class="std std-ref">Line substring</span></a> algorithm</p>
</section>
<section id="m">
<span id="expression-function-geometrygroup-m"></span><h3><a class="toc-backref" href="#id300"><span class="section-number">12.2.13.58. </span>m</a><a class="headerlink" href="#m" title="Permalink to this headline"></a></h3>
<p>Returns the m value of a point geometry.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>m(geometry)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a point geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m(</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'POINTM(2</span> <span class="pre">5</span> <span class="pre">4)'</span> <span class="pre">)</span> <span class="pre">)</span></code> → 4</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="m-max">
<span id="expression-function-geometrygroup-m-max"></span><h3><a class="toc-backref" href="#id301"><span class="section-number">12.2.13.59. </span>m_max</a><a class="headerlink" href="#m-max" title="Permalink to this headline"></a></h3>
<p>Returns the maximum m (measure) value of a geometry.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>m_max(geometry)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a geometry containing m values</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_max(</span> <span class="pre">make_point_m(</span> <span class="pre">0,0,1</span> <span class="pre">)</span> <span class="pre">)</span></code> → 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_max(make_line(</span> <span class="pre">make_point_m(</span> <span class="pre">0,0,1</span> <span class="pre">),</span> <span class="pre">make_point_m(</span> <span class="pre">-1,-1,2</span> <span class="pre">),</span> <span class="pre">make_point_m(</span> <span class="pre">-2,-2,0</span> <span class="pre">)</span> <span class="pre">)</span> <span class="pre">)</span></code> → 2</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="m-min">
<span id="expression-function-geometrygroup-m-min"></span><h3><a class="toc-backref" href="#id302"><span class="section-number">12.2.13.60. </span>m_min</a><a class="headerlink" href="#m-min" title="Permalink to this headline"></a></h3>
<p>Returns the minimum m (measure) value of a geometry.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>m_min(geometry)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a geometry containing m values</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_min(</span> <span class="pre">make_point_m(</span> <span class="pre">0,0,1</span> <span class="pre">)</span> <span class="pre">)</span></code> → 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_min(make_line(</span> <span class="pre">make_point_m(</span> <span class="pre">0,0,1</span> <span class="pre">),</span> <span class="pre">make_point_m(</span> <span class="pre">-1,-1,2</span> <span class="pre">),</span> <span class="pre">make_point_m(</span> <span class="pre">-2,-2,0</span> <span class="pre">)</span> <span class="pre">)</span> <span class="pre">)</span></code> → 0</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="main-angle">
<span id="expression-function-geometrygroup-main-angle"></span><h3><a class="toc-backref" href="#id303"><span class="section-number">12.2.13.61. </span>main_angle</a><a class="headerlink" href="#main-angle" title="Permalink to this headline"></a></h3>
<p>Returns the angle of the long axis (clockwise, in degrees from North) of the oriented minimal bounding rectangle, which completely covers the geometry.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>main_angle(geometry)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">main_angle(geom_from_wkt('Polygon</span> <span class="pre">((321577</span> <span class="pre">129614,</span> <span class="pre">321581</span> <span class="pre">129618,</span> <span class="pre">321585</span> <span class="pre">129615,</span> <span class="pre">321581</span> <span class="pre">129610,</span> <span class="pre">321577</span> <span class="pre">129614))'))</span></code> → 38.66</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="make-circle">
<span id="expression-function-geometrygroup-make-circle"></span><h3><a class="toc-backref" href="#id304"><span class="section-number">12.2.13.62. </span>make_circle</a><a class="headerlink" href="#make-circle" title="Permalink to this headline"></a></h3>
<p>Creates a circular polygon.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>make_circle(center, radius, [segments=36])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>center</strong> - center point of the circle</p></li>
<li><p><strong>radius</strong> - radius of the circle</p></li>
<li><p><strong>segments</strong> - optional argument for polygon segmentation. By default this value is 36</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(make_circle(make_point(10,10),</span> <span class="pre">5,</span> <span class="pre">4))</span></code> → ‘Polygon ((10 15, 15 10, 10 5, 5 10, 10 15))’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(make_circle(make_point(10,10,5),</span> <span class="pre">5,</span> <span class="pre">4))</span></code> → ‘PolygonZ ((10 15 5, 15 10 5, 10 5 5, 5 10 5, 10 15 5))’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(make_circle(make_point(10,10,5,30),</span> <span class="pre">5,</span> <span class="pre">4))</span></code> → ‘PolygonZM ((10 15 5 30, 15 10 5 30, 10 5 5 30, 5 10 5 30, 10 15 5 30))’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="make-ellipse">
<span id="expression-function-geometrygroup-make-ellipse"></span><h3><a class="toc-backref" href="#id305"><span class="section-number">12.2.13.63. </span>make_ellipse</a><a class="headerlink" href="#make-ellipse" title="Permalink to this headline"></a></h3>
<p>Creates an elliptical polygon.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>make_ellipse(center, semi_major_axis, semi_minor_axis, azimuth, [segments=36])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>center</strong> - center point of the ellipse</p></li>
<li><p><strong>semi_major_axis</strong> - semi-major axis of the ellipse</p></li>
<li><p><strong>semi_minor_axis</strong> - semi-minor axis of the ellipse</p></li>
<li><p><strong>azimuth</strong> - orientation of the ellipse</p></li>
<li><p><strong>segments</strong> - optional argument for polygon segmentation. By default this value is 36</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(make_ellipse(make_point(10,10),</span> <span class="pre">5,</span> <span class="pre">2,</span> <span class="pre">90,</span> <span class="pre">4))</span></code> → ‘Polygon ((15 10, 10 8, 5 10, 10 12, 15 10))’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(make_ellipse(make_point(10,10,5),</span> <span class="pre">5,</span> <span class="pre">2,</span> <span class="pre">90,</span> <span class="pre">4))</span></code> → ‘PolygonZ ((15 10 5, 10 8 5, 5 10 5, 10 12 5, 15 10 5))’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(make_ellipse(make_point(10,10,5,30),</span> <span class="pre">5,</span> <span class="pre">2,</span> <span class="pre">90,</span> <span class="pre">4))</span></code> → ‘PolygonZM ((15 10 5 30, 10 8 5 30, 5 10 5 30, 10 12 5 30, 15 10 5 30))’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="make-line">
<span id="expression-function-geometrygroup-make-line"></span><h3><a class="toc-backref" href="#id306"><span class="section-number">12.2.13.64. </span>make_line</a><a class="headerlink" href="#make-line" title="Permalink to this headline"></a></h3>
<p>Creates a line geometry from a series of point geometries.</p>
<p><strong>List of arguments variant</strong></p>
<p>Line vertices are specified as separate arguments to the function.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>make_line(point1, point2, …)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>point</strong> - a point geometry (or array of points)</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(make_line(make_point(2,4),make_point(3,5)))</span></code> → ‘LineString (2 4, 3 5)’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(make_line(make_point(2,4),make_point(3,5),make_point(9,7)))</span></code> → ‘LineString (2 4, 3 5, 9 7)’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Array variant</strong></p>
<p>Line vertices are specified as an array of points.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>make_line(array)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>array</strong> - array of points</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(make_line(array(make_point(2,4),make_point(3,5),make_point(9,7))))</span></code> → ‘LineString (2 4, 3 5, 9 7)’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="make-point">
<span id="expression-function-geometrygroup-make-point"></span><h3><a class="toc-backref" href="#id307"><span class="section-number">12.2.13.65. </span>make_point</a><a class="headerlink" href="#make-point" title="Permalink to this headline"></a></h3>
<p>Creates a point geometry from an x and y (and optional z and m) value.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>make_point(x, y, [z], [m])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>x</strong> - x coordinate of point</p></li>
<li><p><strong>y</strong> - y coordinate of point</p></li>
<li><p><strong>z</strong> - optional z coordinate of point</p></li>
<li><p><strong>m</strong> - optional m value of point</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(make_point(2,4))</span></code> → ‘Point (2 4)’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(make_point(2,4,6))</span></code> → ‘PointZ (2 4 6)’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(make_point(2,4,6,8))</span></code> → ‘PointZM (2 4 6 8)’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="make-point-m">
<span id="expression-function-geometrygroup-make-point-m"></span><h3><a class="toc-backref" href="#id308"><span class="section-number">12.2.13.66. </span>make_point_m</a><a class="headerlink" href="#make-point-m" title="Permalink to this headline"></a></h3>
<p>Creates a point geometry from an x, y coordinate and m value.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>make_point_m(x, y, m)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>x</strong> - x coordinate of point</p></li>
<li><p><strong>y</strong> - y coordinate of point</p></li>
<li><p><strong>m</strong> - m value of point</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(make_point_m(2,4,6))</span></code> → ‘PointM (2 4 6)’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="make-polygon">
<span id="expression-function-geometrygroup-make-polygon"></span><h3><a class="toc-backref" href="#id309"><span class="section-number">12.2.13.67. </span>make_polygon</a><a class="headerlink" href="#make-polygon" title="Permalink to this headline"></a></h3>
<p>Creates a polygon geometry from an outer ring and optional series of inner ring geometries.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>make_polygon(outerRing, [innerRing1], [innerRing2], …)</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>outerRing</strong> - closed line geometry for polygon’s outer ring</p></li>
<li><p><strong>innerRing</strong> - optional closed line geometry for inner ring</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(make_polygon(geom_from_wkt('LINESTRING(</span> <span class="pre">0</span> <span class="pre">0,</span> <span class="pre">0</span> <span class="pre">1,</span> <span class="pre">1</span> <span class="pre">1,</span> <span class="pre">1</span> <span class="pre">0,</span> <span class="pre">0</span> <span class="pre">0</span> <span class="pre">)')))</span></code> → ‘Polygon ((0 0, 0 1, 1 1, 1 0, 0 0))’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(make_polygon(geom_from_wkt('LINESTRING(</span> <span class="pre">0</span> <span class="pre">0,</span> <span class="pre">0</span> <span class="pre">1,</span> <span class="pre">1</span> <span class="pre">1,</span> <span class="pre">1</span> <span class="pre">0,</span> <span class="pre">0</span> <span class="pre">0</span> <span class="pre">)'),geom_from_wkt('LINESTRING(</span> <span class="pre">0.1</span> <span class="pre">0.1,</span> <span class="pre">0.1</span> <span class="pre">0.2,</span> <span class="pre">0.2</span> <span class="pre">0.2,</span> <span class="pre">0.2</span> <span class="pre">0.1,</span> <span class="pre">0.1</span> <span class="pre">0.1</span> <span class="pre">)'),geom_from_wkt('LINESTRING(</span> <span class="pre">0.8</span> <span class="pre">0.8,</span> <span class="pre">0.8</span> <span class="pre">0.9,</span> <span class="pre">0.9</span> <span class="pre">0.9,</span> <span class="pre">0.9</span> <span class="pre">0.8,</span> <span class="pre">0.8</span> <span class="pre">0.8</span> <span class="pre">)')))</span></code> → ‘Polygon ((0 0, 0 1, 1 1, 1 0, 0 0),(0.1 0.1, 0.1 0.2, 0.2 0.2, 0.2 0.1, 0.1 0.1),(0.8 0.8, 0.8 0.9, 0.9 0.9, 0.9 0.8, 0.8 0.8))’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="make-rectangle-3points">
<span id="expression-function-geometrygroup-make-rectangle-3points"></span><h3><a class="toc-backref" href="#id310"><span class="section-number">12.2.13.68. </span>make_rectangle_3points</a><a class="headerlink" href="#make-rectangle-3points" title="Permalink to this headline"></a></h3>
<p>Creates a rectangle from 3 points.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>make_rectangle_3points(point1, point2, point3, [option=0])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>point1</strong> - First point.</p></li>
<li><p><strong>point2</strong> - Second point.</p></li>
<li><p><strong>point3</strong> - Third point.</p></li>
<li><p><strong>option</strong> - An optional argument to construct the rectangle. By default this value is 0. Value can be 0 (distance) or 1 (projected). Option distance: Second distance is equal to the distance between 2nd and 3rd point. Option projected: Second distance is equal to the distance of the perpendicular projection of the 3rd point on the segment or its extension.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(make_rectangle_3points(make_point(0,</span> <span class="pre">0),</span> <span class="pre">make_point(0,5),</span> <span class="pre">make_point(5,</span> <span class="pre">5),</span> <span class="pre">0)))</span></code> → ‘Polygon ((0 0, 0 5, 5 5, 5 0, 0 0))’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(make_rectangle_3points(make_point(0,</span> <span class="pre">0),</span> <span class="pre">make_point(0,5),</span> <span class="pre">make_point(5,</span> <span class="pre">3),</span> <span class="pre">1)))</span></code> → ‘Polygon ((0 0, 0 5, 5 5, 5 0, 0 0))’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="make-regular-polygon">
<span id="expression-function-geometrygroup-make-regular-polygon"></span><h3><a class="toc-backref" href="#id311"><span class="section-number">12.2.13.69. </span>make_regular_polygon</a><a class="headerlink" href="#make-regular-polygon" title="Permalink to this headline"></a></h3>
<p>Creates a regular polygon.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>make_regular_polygon(center, radius, number_sides, [circle=0])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>center</strong> - center of the regular polygon</p></li>
<li><p><strong>radius</strong> - second point. The first if the regular polygon is inscribed. The midpoint of the first side if the regular polygon is circumscribed.</p></li>
<li><p><strong>number_sides</strong> - Number of sides/edges of the regular polygon</p></li>
<li><p><strong>circle</strong> - Optional argument to construct the regular polygon. By default this value is 0. Value can be 0 (inscribed) or 1 (circumscribed)</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(make_regular_polygon(make_point(0,0),</span> <span class="pre">make_point(0,5),</span> <span class="pre">5))</span></code> → ‘Polygon ((0 5, 4.76 1.55, 2.94 -4.05, -2.94 -4.05, -4.76 1.55, 0 5))’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(make_regular_polygon(make_point(0,0),</span> <span class="pre">project(make_point(0,0),</span> <span class="pre">4.0451,</span> <span class="pre">radians(36)),</span> <span class="pre">5))</span></code> → ‘Polygon ((0 5, 4.76 1.55, 2.94 -4.05, -2.94 -4.05, -4.76 1.55, 0 5))’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="make-square">
<span id="expression-function-geometrygroup-make-square"></span><h3><a class="toc-backref" href="#id312"><span class="section-number">12.2.13.70. </span>make_square</a><a class="headerlink" href="#make-square" title="Permalink to this headline"></a></h3>
<p>Creates a square from a diagonal.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>make_square(point1, point2)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>point1</strong> - First point of the diagonal</p></li>
<li><p><strong>point2</strong> - Last point of the diagonal</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(make_square(</span> <span class="pre">make_point(0,0),</span> <span class="pre">make_point(5,5)))</span></code> → ‘Polygon ((0 0, -0 5, 5 5, 5 0, 0 0))’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(make_square(</span> <span class="pre">make_point(5,0),</span> <span class="pre">make_point(5,5)))</span></code> → ‘Polygon ((5 0, 2.5 2.5, 5 5, 7.5 2.5, 5 0))’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="make-triangle">
<span id="expression-function-geometrygroup-make-triangle"></span><h3><a class="toc-backref" href="#id313"><span class="section-number">12.2.13.71. </span>make_triangle</a><a class="headerlink" href="#make-triangle" title="Permalink to this headline"></a></h3>
<p>Creates a triangle polygon.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>make_triangle(point1, point2, point3)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>point1</strong> - first point of the triangle</p></li>
<li><p><strong>point2</strong> - second point of the triangle</p></li>
<li><p><strong>point3</strong> - third point of the triangle</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(make_triangle(make_point(0,0),</span> <span class="pre">make_point(5,5),</span> <span class="pre">make_point(0,10)))</span></code> → ‘Triangle ((0 0, 5 5, 0 10, 0 0))’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(boundary(make_triangle(make_point(0,0),</span> <span class="pre">make_point(5,5),</span> <span class="pre">make_point(0,10))))</span></code> → ‘LineString (0 0, 5 5, 0 10, 0 0)’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="minimal-circle">
<span id="expression-function-geometrygroup-minimal-circle"></span><h3><a class="toc-backref" href="#id314"><span class="section-number">12.2.13.72. </span>minimal_circle</a><a class="headerlink" href="#minimal-circle" title="Permalink to this headline"></a></h3>
<p>Returns the minimal enclosing circle of a geometry. It represents the minimum circle that encloses all geometries within the set.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>minimal_circle(geometry, [segments=36])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a geometry</p></li>
<li><p><strong>segments</strong> - optional argument for polygon segmentation. By default this value is 36</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(</span> <span class="pre">minimal_circle(</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'LINESTRING(0</span> <span class="pre">5,</span> <span class="pre">0</span> <span class="pre">-5,</span> <span class="pre">2</span> <span class="pre">1)'</span> <span class="pre">),</span> <span class="pre">4</span> <span class="pre">)</span> <span class="pre">)</span></code> → ‘Polygon ((0 5, 5 -0, -0 -5, -5 0, 0 5))’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(</span> <span class="pre">minimal_circle(</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'MULTIPOINT(1</span> <span class="pre">2,</span> <span class="pre">3</span> <span class="pre">4,</span> <span class="pre">3</span> <span class="pre">2)'</span> <span class="pre">),</span> <span class="pre">4</span> <span class="pre">)</span> <span class="pre">)</span></code> → ‘Polygon ((3 4, 3 2, 1 2, 1 4, 3 4))’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="../processing_algs/qgis/vectorgeometry.html#qgisminimumenclosingcircle"><span class="std std-ref">Minimum enclosing circles</span></a> algorithm</p>
</section>
<section id="nodes-to-points">
<span id="expression-function-geometrygroup-nodes-to-points"></span><h3><a class="toc-backref" href="#id315"><span class="section-number">12.2.13.73. </span>nodes_to_points</a><a class="headerlink" href="#nodes-to-points" title="Permalink to this headline"></a></h3>
<p>Returns a multipoint geometry consisting of every node in the input geometry.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>nodes_to_points(geometry, [ignore_closing_nodes=false])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - geometry object</p></li>
<li><p><strong>ignore_closing_nodes</strong> - optional argument specifying whether to include duplicate nodes which close lines or polygons rings. Defaults to false, set to true to avoid including these duplicate nodes in the output collection.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(nodes_to_points(geom_from_wkt('LINESTRING(0</span> <span class="pre">0,</span> <span class="pre">1</span> <span class="pre">1,</span> <span class="pre">2</span> <span class="pre">2)')))</span></code> → ‘MultiPoint ((0 0),(1 1),(2 2))’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(nodes_to_points(geom_from_wkt('POLYGON((-1</span> <span class="pre">-1,</span> <span class="pre">4</span> <span class="pre">0,</span> <span class="pre">4</span> <span class="pre">2,</span> <span class="pre">0</span> <span class="pre">2,</span> <span class="pre">-1</span> <span class="pre">-1))'),true))</span></code> → ‘MultiPoint ((-1 -1),(4 0),(4 2),(0 2))’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="../processing_algs/qgis/vectorgeometry.html#qgisextractvertices"><span class="std std-ref">Extract vertices</span></a> algorithm</p>
</section>
<section id="num-geometries">
<span id="expression-function-geometrygroup-num-geometries"></span><h3><a class="toc-backref" href="#id316"><span class="section-number">12.2.13.74. </span>num_geometries</a><a class="headerlink" href="#num-geometries" title="Permalink to this headline"></a></h3>
<p>Returns the number of geometries in a geometry collection, or NULL if the input geometry is not a collection.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>num_geometries(geometry)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - geometry collection</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">num_geometries(geom_from_wkt('GEOMETRYCOLLECTION(POINT(0</span> <span class="pre">1),</span> <span class="pre">POINT(0</span> <span class="pre">0),</span> <span class="pre">POINT(1</span> <span class="pre">0),</span> <span class="pre">POINT(1</span> <span class="pre">1))'))</span></code> → 4</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="num-interior-rings">
<span id="expression-function-geometrygroup-num-interior-rings"></span><h3><a class="toc-backref" href="#id317"><span class="section-number">12.2.13.75. </span>num_interior_rings</a><a class="headerlink" href="#num-interior-rings" title="Permalink to this headline"></a></h3>
<p>Returns the number of interior rings in a polygon or geometry collection, or NULL if the input geometry is not a polygon or collection.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>num_interior_rings(geometry)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - input geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">num_interior_rings(geom_from_wkt('POLYGON((-1</span> <span class="pre">-1,</span> <span class="pre">4</span> <span class="pre">0,</span> <span class="pre">4</span> <span class="pre">2,</span> <span class="pre">0</span> <span class="pre">2,</span> <span class="pre">-1</span> <span class="pre">-1),(-0.1</span> <span class="pre">-0.1,</span> <span class="pre">0.4</span> <span class="pre">0,</span> <span class="pre">0.4</span> <span class="pre">0.2,</span> <span class="pre">0</span> <span class="pre">0.2,</span> <span class="pre">-0.1</span> <span class="pre">-0.1))'))</span></code> → 1</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="num-points">
<span id="expression-function-geometrygroup-num-points"></span><h3><a class="toc-backref" href="#id318"><span class="section-number">12.2.13.76. </span>num_points</a><a class="headerlink" href="#num-points" title="Permalink to this headline"></a></h3>
<p>Returns the number of vertices in a geometry.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>num_points(geometry)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">num_points($geometry)</span></code> → number of vertices in the current feature’s geometry</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="num-rings">
<span id="expression-function-geometrygroup-num-rings"></span><h3><a class="toc-backref" href="#id319"><span class="section-number">12.2.13.77. </span>num_rings</a><a class="headerlink" href="#num-rings" title="Permalink to this headline"></a></h3>
<p>Returns the number of rings (including exterior rings) in a polygon or geometry collection, or NULL if the input geometry is not a polygon or collection.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>num_rings(geometry)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - input geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">num_rings(geom_from_wkt('POLYGON((-1</span> <span class="pre">-1,</span> <span class="pre">4</span> <span class="pre">0,</span> <span class="pre">4</span> <span class="pre">2,</span> <span class="pre">0</span> <span class="pre">2,</span> <span class="pre">-1</span> <span class="pre">-1),(-0.1</span> <span class="pre">-0.1,</span> <span class="pre">0.4</span> <span class="pre">0,</span> <span class="pre">0.4</span> <span class="pre">0.2,</span> <span class="pre">0</span> <span class="pre">0.2,</span> <span class="pre">-0.1</span> <span class="pre">-0.1))'))</span></code> → 2</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="offset-curve">
<span id="expression-function-geometrygroup-offset-curve"></span><h3><a class="toc-backref" href="#id320"><span class="section-number">12.2.13.78. </span>offset_curve</a><a class="headerlink" href="#offset-curve" title="Permalink to this headline"></a></h3>
<p>Returns a geometry formed by offsetting a linestring geometry to the side. Distances are in the Spatial Reference System of this geometry.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>offset_curve(geometry, distance, [segments=8], [join=1], [miter_limit=2.0])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a (multi)linestring geometry</p></li>
<li><p><strong>distance</strong> - offset distance. Positive values will be buffered to the left of lines, negative values to the right</p></li>
<li><p><strong>segments</strong> - number of segments to use to represent a quarter circle when a round join style is used. A larger number results in a smoother line with more nodes.</p></li>
<li><p><strong>join</strong> - join style for corners, where 1 = round, 2 = miter and 3 = bevel</p></li>
<li><p><strong>miter_limit</strong> - limit on the miter ratio used for very sharp corners (when using miter joins only)</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">offset_curve($geometry,</span> <span class="pre">10.5)</span></code> → line offset to the left by 10.5 units</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">offset_curve($geometry,</span> <span class="pre">-10.5)</span></code> → line offset to the right by 10.5 units</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">offset_curve($geometry,</span> <span class="pre">10.5,</span> <span class="pre">segments:=16,</span> <span class="pre">join:=1)</span></code> → line offset to the left by 10.5 units, using more segments to result in a smoother curve</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">offset_curve($geometry,</span> <span class="pre">10.5,</span> <span class="pre">join:=3)</span></code> → line offset to the left by 10.5 units, using a beveled join</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="../processing_algs/qgis/vectorgeometry.html#qgisoffsetline"><span class="std std-ref">Offset lines</span></a> algorithm</p>
</section>
<section id="order-parts">
<span id="expression-function-geometrygroup-order-parts"></span><h3><a class="toc-backref" href="#id321"><span class="section-number">12.2.13.79. </span>order_parts</a><a class="headerlink" href="#order-parts" title="Permalink to this headline"></a></h3>
<p>Orders the parts of a MultiGeometry by a given criteria</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>order_parts(geometry, orderby, [ascending=true])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a multi-type geometry</p></li>
<li><p><strong>orderby</strong> - an expression string defining the order criteria</p></li>
<li><p><strong>ascending</strong> - boolean, True for ascending, False for descending</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(order_parts(geom_from_wkt('MultiPolygon</span> <span class="pre">(((1</span> <span class="pre">1,</span> <span class="pre">5</span> <span class="pre">1,</span> <span class="pre">5</span> <span class="pre">5,</span> <span class="pre">1</span> <span class="pre">5,</span> <span class="pre">1</span> <span class="pre">1)),((1</span> <span class="pre">1,</span> <span class="pre">9</span> <span class="pre">1,</span> <span class="pre">9</span> <span class="pre">9,</span> <span class="pre">1</span> <span class="pre">9,</span> <span class="pre">1</span> <span class="pre">1)))'),</span> <span class="pre">'area($geometry)',</span> <span class="pre">False))</span></code> → ‘MultiPolygon (((1 1, 9 1, 9 9, 1 9, 1 1)),((1 1, 5 1, 5 5, 1 5, 1 1)))’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(order_parts(geom_from_wkt('LineString(1</span> <span class="pre">2,</span> <span class="pre">3</span> <span class="pre">2,</span> <span class="pre">4</span> <span class="pre">3)'),</span> <span class="pre">'1',</span> <span class="pre">True))</span></code> → ‘LineString(1 2, 3 2, 4 3)’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="oriented-bbox">
<span id="expression-function-geometrygroup-oriented-bbox"></span><h3><a class="toc-backref" href="#id322"><span class="section-number">12.2.13.80. </span>oriented_bbox</a><a class="headerlink" href="#oriented-bbox" title="Permalink to this headline"></a></h3>
<p>Returns a geometry which represents the minimal oriented bounding box of an input geometry.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>oriented_bbox(geometry)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(</span> <span class="pre">oriented_bbox(</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'MULTIPOINT(1</span> <span class="pre">2,</span> <span class="pre">3</span> <span class="pre">4,</span> <span class="pre">3</span> <span class="pre">2)'</span> <span class="pre">)</span> <span class="pre">)</span> <span class="pre">)</span></code> → ‘Polygon ((3 2, 3 4, 1 4, 1 2, 3 2))’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="../processing_algs/qgis/vectorgeometry.html#qgisorientedminimumboundingbox"><span class="std std-ref">Oriented minimum bounding box</span></a> algorithm</p>
</section>
<section id="overlaps">
<span id="expression-function-geometrygroup-overlaps"></span><h3><a class="toc-backref" href="#id323"><span class="section-number">12.2.13.81. </span>overlaps</a><a class="headerlink" href="#overlaps" title="Permalink to this headline"></a></h3>
<p>Tests whether a geometry overlaps another. Returns true if the geometries share space, are of the same dimension, but are not completely contained by each other.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>overlaps(geometry1, geometry2)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry1</strong> - a geometry</p></li>
<li><p><strong>geometry2</strong> - a geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">overlaps(</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'LINESTRING(3</span> <span class="pre">5,</span> <span class="pre">4</span> <span class="pre">4,</span> <span class="pre">5</span> <span class="pre">5,</span> <span class="pre">5</span> <span class="pre">3)'</span> <span class="pre">),</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'LINESTRING(3</span> <span class="pre">3,</span> <span class="pre">4</span> <span class="pre">4,</span> <span class="pre">5</span> <span class="pre">5)'</span> <span class="pre">)</span> <span class="pre">)</span></code> → true</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">overlaps(</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'LINESTRING(0</span> <span class="pre">0,</span> <span class="pre">1</span> <span class="pre">1)'</span> <span class="pre">),</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'LINESTRING(3</span> <span class="pre">3,</span> <span class="pre">4</span> <span class="pre">4,</span> <span class="pre">5</span> <span class="pre">5)'</span> <span class="pre">)</span> <span class="pre">)</span></code> → false</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="overlay-contains">
<span id="expression-function-geometrygroup-overlay-contains"></span><h3><a class="toc-backref" href="#id324"><span class="section-number">12.2.13.82. </span>overlay_contains</a><a class="headerlink" href="#overlay-contains" title="Permalink to this headline"></a></h3>
<p>Returns whether the current feature spatially contains at least one feature from a target layer, or an array of expression-based results for the features in the target layer contained in the current feature.</p>
<p>Read more on the underlying GEOS “Contains” predicate, as described in PostGIS <a class="reference external" href="https://postgis.net/docs/ST_Contains.html">ST_Contains</a> function.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>overlay_contains(layer, [expression], [filter], [limit], [cache=false])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>layer</strong> - the layer whose overlay is checked</p></li>
<li><p><strong>expression</strong> - an optional expression to evaluate on the features from the target layer. If not set, the function will just return a boolean indicating whether there is at least one match.</p></li>
<li><p><strong>filter</strong> - an optional expression to filter the target features to check. If not set, all the features will be checked.</p></li>
<li><p><strong>limit</strong> - an optional integer to limit the number of matching features. If not set, all the matching features will be returned.</p></li>
<li><p><strong>cache</strong> - set this to true to build a local spatial index (most of the time, this is unwanted, unless you are working with a particularly slow data provider)</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">overlay_contains('regions')</span></code> → true if the current feature spatially contains a region</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">overlay_contains('regions',</span> <span class="pre">filter:=</span> <span class="pre">population</span> <span class="pre">&gt;</span> <span class="pre">10000)</span></code> → true if the current feature spatially contains a region with a population greater than 10000</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">overlay_contains('regions',</span> <span class="pre">name)</span></code> → an array of names, for the regions contained in the current feature</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">array_to_string(overlay_contains('regions',</span> <span class="pre">name))</span></code> → a string as a comma separated list of names, for the regions contained in the current feature</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">array_sort(overlay_contains(layer:='regions',</span> <span class="pre">expression:=&quot;name&quot;,</span> <span class="pre">filter:=</span> <span class="pre">population</span> <span class="pre">&gt;</span> <span class="pre">10000))</span></code> → an ordered array of names, for the regions contained in the current feature and with a population greater than 10000</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">overlay_contains(layer:='regions',</span> <span class="pre">expression:=</span> <span class="pre">geom_to_wkt($geometry),</span> <span class="pre">limit:=2)</span></code> → an array of geometries (in WKT), for up to two regions contained in the current feature</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="#expression-function-geometrygroup-contains"><span class="std std-ref">contains</span></a>,
<a class="reference internal" href="#array-functions"><span class="std std-ref">array manipulation</span></a>, <a class="reference internal" href="../processing_algs/qgis/vectorselection.html#qgisselectbylocation"><span class="std std-ref">Select by location</span></a>
algorithm</p>
</section>
<section id="overlay-crosses">
<span id="expression-function-geometrygroup-overlay-crosses"></span><h3><a class="toc-backref" href="#id325"><span class="section-number">12.2.13.83. </span>overlay_crosses</a><a class="headerlink" href="#overlay-crosses" title="Permalink to this headline"></a></h3>
<p>Returns whether the current feature spatially crosses at least one feature from a target layer, or an array of expression-based results for the features in the target layer crossed by the current feature.</p>
<p>Read more on the underlying GEOS “Crosses” predicate, as described in PostGIS <a class="reference external" href="https://postgis.net/docs/ST_Crosses.html">ST_Crosses</a> function.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>overlay_crosses(layer, [expression], [filter], [limit], [cache=false])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>layer</strong> - the layer whose overlay is checked</p></li>
<li><p><strong>expression</strong> - an optional expression to evaluate on the features from the target layer. If not set, the function will just return a boolean indicating whether there is at least one match.</p></li>
<li><p><strong>filter</strong> - an optional expression to filter the target features to check. If not set, all the features will be checked.</p></li>
<li><p><strong>limit</strong> - an optional integer to limit the number of matching features. If not set, all the matching features will be returned.</p></li>
<li><p><strong>cache</strong> - set this to true to build a local spatial index (most of the time, this is unwanted, unless you are working with a particularly slow data provider)</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">overlay_crosses('regions')</span></code> → true if the current feature spatially crosses a region</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">overlay_crosses('regions',</span> <span class="pre">filter:=</span> <span class="pre">population</span> <span class="pre">&gt;</span> <span class="pre">10000)</span></code> → true if the current feature spatially crosses a region with a population greater than 10000</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">overlay_crosses('regions',</span> <span class="pre">name)</span></code> → an array of names, for the regions crossed by the current feature</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">array_to_string(overlay_crosses('regions',</span> <span class="pre">name))</span></code> → a string as a comma separated list of names, for the regions crossed by the current feature</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">array_sort(overlay_crosses(layer:='regions',</span> <span class="pre">expression:=&quot;name&quot;,</span> <span class="pre">filter:=</span> <span class="pre">population</span> <span class="pre">&gt;</span> <span class="pre">10000))</span></code> → an ordered array of names, for the regions crossed by the current feature and with a population greater than 10000</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">overlay_crosses(layer:='regions',</span> <span class="pre">expression:=</span> <span class="pre">geom_to_wkt($geometry),</span> <span class="pre">limit:=2)</span></code> → an array of geometries (in WKT), for up to two regions crossed by the current feature</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="#expression-function-geometrygroup-crosses"><span class="std std-ref">crosses</span></a>,
<a class="reference internal" href="#array-functions"><span class="std std-ref">array manipulation</span></a>, <a class="reference internal" href="../processing_algs/qgis/vectorselection.html#qgisselectbylocation"><span class="std std-ref">Select by location</span></a>
algorithm</p>
</section>
<section id="overlay-disjoint">
<span id="expression-function-geometrygroup-overlay-disjoint"></span><h3><a class="toc-backref" href="#id326"><span class="section-number">12.2.13.84. </span>overlay_disjoint</a><a class="headerlink" href="#overlay-disjoint" title="Permalink to this headline"></a></h3>
<p>Returns whether the current feature is spatially disjoint from all the features of a target layer, or an array of expression-based results for the features in the target layer that are disjoint from the current feature.</p>
<p>Read more on the underlying GEOS “Disjoint” predicate, as described in PostGIS <a class="reference external" href="https://postgis.net/docs/ST_Disjoint.html">ST_Disjoint</a> function.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>overlay_disjoint(layer, [expression], [filter], [limit], [cache=false])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>layer</strong> - the layer whose overlay is checked</p></li>
<li><p><strong>expression</strong> - an optional expression to evaluate on the features from the target layer. If not set, the function will just return a boolean indicating whether there is at least one match.</p></li>
<li><p><strong>filter</strong> - an optional expression to filter the target features to check. If not set, all the features will be checked.</p></li>
<li><p><strong>limit</strong> - an optional integer to limit the number of matching features. If not set, all the matching features will be returned.</p></li>
<li><p><strong>cache</strong> - set this to true to build a local spatial index (most of the time, this is unwanted, unless you are working with a particularly slow data provider)</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">overlay_disjoint('regions')</span></code> → true if the current feature is spatially disjoint from all the regions</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">overlay_disjoint('regions',</span> <span class="pre">filter:=</span> <span class="pre">population</span> <span class="pre">&gt;</span> <span class="pre">10000)</span></code> → true if the current feature is spatially disjoint from all the regions with a population greater than 10000</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">overlay_disjoint('regions',</span> <span class="pre">name)</span></code> → an array of names, for the regions spatially disjoint from the current feature</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">array_to_string(overlay_disjoint('regions',</span> <span class="pre">name))</span></code> → a string as a comma separated list of names, for the regions spatially disjoint from the current feature</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">array_sort(overlay_disjoint(layer:='regions',</span> <span class="pre">expression:=&quot;name&quot;,</span> <span class="pre">filter:=</span> <span class="pre">population</span> <span class="pre">&gt;</span> <span class="pre">10000))</span></code> → an ordered array of names, for the regions spatially disjoint from the current feature and with a population greater than 10000</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">overlay_disjoint(layer:='regions',</span> <span class="pre">expression:=</span> <span class="pre">geom_to_wkt($geometry),</span> <span class="pre">limit:=2)</span></code> → an array of geometries (in WKT), for up to two regions spatially disjoint from the current feature</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="#expression-function-geometrygroup-disjoint"><span class="std std-ref">disjoint</span></a>,
<a class="reference internal" href="#array-functions"><span class="std std-ref">array manipulation</span></a>, <a class="reference internal" href="../processing_algs/qgis/vectorselection.html#qgisselectbylocation"><span class="std std-ref">Select by location</span></a>
algorithm</p>
</section>
<section id="overlay-equals">
<span id="expression-function-geometrygroup-overlay-equals"></span><h3><a class="toc-backref" href="#id327"><span class="section-number">12.2.13.85. </span>overlay_equals</a><a class="headerlink" href="#overlay-equals" title="Permalink to this headline"></a></h3>
<p>Returns whether the current feature spatially equals to at least one feature from a target layer, or an array of expression-based results for the features in the target layer that are spatially equal to the current feature.</p>
<p>Read more on the underlying GEOS “Equals” predicate, as described in PostGIS <a class="reference external" href="https://postgis.net/docs/ST_Equals.html">ST_Equals</a> function.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>overlay_equals(layer, [expression], [filter], [limit], [cache=false])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>layer</strong> - the layer whose overlay is checked</p></li>
<li><p><strong>expression</strong> - an optional expression to evaluate on the features from the target layer. If not set, the function will just return a boolean indicating whether there is at least one match.</p></li>
<li><p><strong>filter</strong> - an optional expression to filter the target features to check. If not set, all the features will be checked.</p></li>
<li><p><strong>limit</strong> - an optional integer to limit the number of matching features. If not set, all the matching features will be returned.</p></li>
<li><p><strong>cache</strong> - set this to true to build a local spatial index (most of the time, this is unwanted, unless you are working with a particularly slow data provider)</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">overlay_equals('regions')</span></code> → true if the current feature is spatially equal to a region</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">overlay_equals('regions',</span> <span class="pre">filter:=</span> <span class="pre">population</span> <span class="pre">&gt;</span> <span class="pre">10000)</span></code> → true if the current feature is spatially equal to a region with a population greater than 10000</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">overlay_equals('regions',</span> <span class="pre">name)</span></code> → an array of names, for the regions spatially equal to the current feature</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">array_to_string(overlay_equals('regions',</span> <span class="pre">name))</span></code> → a string as a comma separated list of names, for the regions spatially equal to the current feature</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">array_sort(overlay_equals(layer:='regions',</span> <span class="pre">expression:=&quot;name&quot;,</span> <span class="pre">filter:=</span> <span class="pre">population</span> <span class="pre">&gt;</span> <span class="pre">10000))</span></code> → an ordered array of names, for the regions spatially equal to the current feature and with a population greater than 10000</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">overlay_equals(layer:='regions',</span> <span class="pre">expression:=</span> <span class="pre">geom_to_wkt($geometry),</span> <span class="pre">limit:=2)</span></code> → an array of geometries (in WKT), for up to two regions spatially equal to the current feature</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="#array-functions"><span class="std std-ref">array manipulation</span></a>,
<a class="reference internal" href="../processing_algs/qgis/vectorselection.html#qgisselectbylocation"><span class="std std-ref">Select by location</span></a> algorithm</p>
</section>
<section id="overlay-intersects">
<span id="expression-function-geometrygroup-overlay-intersects"></span><h3><a class="toc-backref" href="#id328"><span class="section-number">12.2.13.86. </span>overlay_intersects</a><a class="headerlink" href="#overlay-intersects" title="Permalink to this headline"></a></h3>
<p>Returns whether the current feature spatially intersects at least one feature from a target layer, or an array of expression-based results for the features in the target layer intersected by the current feature.</p>
<p>Read more on the underlying GEOS “Intersects” predicate, as described in PostGIS <a class="reference external" href="https://postgis.net/docs/ST_Intersects.html">ST_Intersects</a> function.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>overlay_intersects(layer, [expression], [filter], [limit], [cache=false])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>layer</strong> - the layer whose overlay is checked</p></li>
<li><p><strong>expression</strong> - an optional expression to evaluate on the features from the target layer. If not set, the function will just return a boolean indicating whether there is at least one match.</p></li>
<li><p><strong>filter</strong> - an optional expression to filter the target features to check. If not set, all the features will be checked.</p></li>
<li><p><strong>limit</strong> - an optional integer to limit the number of matching features. If not set, all the matching features will be returned.</p></li>
<li><p><strong>cache</strong> - set this to true to build a local spatial index (most of the time, this is unwanted, unless you are working with a particularly slow data provider)</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">overlay_intersects('regions')</span></code> → true if the current feature spatially intersects a region</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">overlay_intersects('regions',</span> <span class="pre">filter:=</span> <span class="pre">population</span> <span class="pre">&gt;</span> <span class="pre">10000)</span></code> → true if the current feature spatially intersects a region with a population greater than 10000</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">overlay_intersects('regions',</span> <span class="pre">name)</span></code> → an array of names, for the regions intersected by the current feature</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">array_to_string(overlay_intersects('regions',</span> <span class="pre">name))</span></code> → a string as a comma separated list of names, for the regions intersected by the current feature</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">array_sort(overlay_intersects(layer:='regions',</span> <span class="pre">expression:=&quot;name&quot;,</span> <span class="pre">filter:=</span> <span class="pre">population</span> <span class="pre">&gt;</span> <span class="pre">10000))</span></code> → an ordered array of names, for the regions intersected by the current feature and with a population greater than 10000</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">overlay_intersects(layer:='regions',</span> <span class="pre">expression:=</span> <span class="pre">geom_to_wkt($geometry),</span> <span class="pre">limit:=2)</span></code> → an array of geometries (in WKT), for up to two regions intersected by the current feature</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="#expression-function-geometrygroup-intersects"><span class="std std-ref">intersects</span></a>,
<a class="reference internal" href="#array-functions"><span class="std std-ref">array manipulation</span></a>, <a class="reference internal" href="../processing_algs/qgis/vectorselection.html#qgisselectbylocation"><span class="std std-ref">Select by location</span></a>
algorithm</p>
</section>
<section id="overlay-nearest">
<span id="expression-function-geometrygroup-overlay-nearest"></span><h3><a class="toc-backref" href="#id329"><span class="section-number">12.2.13.87. </span>overlay_nearest</a><a class="headerlink" href="#overlay-nearest" title="Permalink to this headline"></a></h3>
<p>Returns whether the current feature has feature(s) from a target layer within a given distance, or an array of expression-based results for the features in the target layer within a distance from the current feature.</p>
<p>Note: This function can be slow and consume a lot of memory for large layers.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>overlay_nearest(layer, [expression], [filter], [limit=1], [max_distance], [cache=false])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>layer</strong> - the target layer</p></li>
<li><p><strong>expression</strong> - an optional expression to evaluate on the features from the target layer. If not set, the function will just return a boolean indicating whether there is at least one match.</p></li>
<li><p><strong>filter</strong> - an optional expression to filter the target features to check. If not set, all the features in the target layer will be used.</p></li>
<li><p><strong>limit</strong> - an optional integer to limit the number of matching features. If not set, only the nearest feature will be returned. If set to -1, returns all the matching features.</p></li>
<li><p><strong>max_distance</strong> - an optional distance to limit the search of matching features. If not set, all the features in the target layer will be used.</p></li>
<li><p><strong>cache</strong> - set this to true to build a local spatial index (most of the time, this is unwanted, unless you are working with a particularly slow data provider)</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">overlay_nearest('airports')</span></code> → true if the “airports” layer has at least one feature</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">overlay_nearest('airports',</span> <span class="pre">max_distance:=</span> <span class="pre">5000)</span></code> → true if there is an airport within a distance of 5000 map units from the current feature</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">overlay_nearest('airports',</span> <span class="pre">name)</span></code> → the name of the closest airport to the current feature, as an array</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">array_to_string(overlay_nearest('airports',</span> <span class="pre">name))</span></code> → the name of the closest airport to the current feature, as a string</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">overlay_nearest(layer:='airports',</span> <span class="pre">expression:=</span> <span class="pre">name,</span> <span class="pre">max_distance:=</span> <span class="pre">5000)</span></code> → the name of the closest airport within a distance of 5000 map units from the current feature, as an array</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">overlay_nearest(layer:='airports',</span> <span class="pre">expression:=&quot;name&quot;,</span> <span class="pre">filter:=</span> <span class="pre">&quot;Use&quot;='Civilian',</span> <span class="pre">limit:=3)</span></code> → an array of names, for up to the three closest civilian airports ordered by distance</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">overlay_nearest(layer:='airports',</span> <span class="pre">expression:=&quot;name&quot;,</span> <span class="pre">limit:=</span> <span class="pre">-1,</span> <span class="pre">max_distance:=</span> <span class="pre">5000)</span></code> → an array of names, for all the airports within a distance of 5000 map units from the current feature, ordered by distance</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="#array-functions"><span class="std std-ref">array manipulation</span></a>,
<a class="reference internal" href="../processing_algs/qgis/vectorgeneral.html#qgisjoinbynearest"><span class="std std-ref">Join attributes by nearest</span></a> algorithm</p>
</section>
<section id="overlay-touches">
<span id="expression-function-geometrygroup-overlay-touches"></span><h3><a class="toc-backref" href="#id330"><span class="section-number">12.2.13.88. </span>overlay_touches</a><a class="headerlink" href="#overlay-touches" title="Permalink to this headline"></a></h3>
<p>Returns whether the current feature spatially touches at least one feature from a target layer, or an array of expression-based results for the features in the target layer touched by the current feature.</p>
<p>Read more on the underlying GEOS “Touches” predicate, as described in PostGIS <a class="reference external" href="https://postgis.net/docs/ST_Touches.html">ST_Touches</a> function.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>overlay_touches(layer, [expression], [filter], [limit], [cache=false])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>layer</strong> - the layer whose overlay is checked</p></li>
<li><p><strong>expression</strong> - an optional expression to evaluate on the features from the target layer. If not set, the function will just return a boolean indicating whether there is at least one match.</p></li>
<li><p><strong>filter</strong> - an optional expression to filter the target features to check. If not set, all the features will be checked.</p></li>
<li><p><strong>limit</strong> - an optional integer to limit the number of matching features. If not set, all the matching features will be returned.</p></li>
<li><p><strong>cache</strong> - set this to true to build a local spatial index (most of the time, this is unwanted, unless you are working with a particularly slow data provider)</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">overlay_touches('regions')</span></code> → true if the current feature spatially touches a region</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">overlay_touches('regions',</span> <span class="pre">filter:=</span> <span class="pre">population</span> <span class="pre">&gt;</span> <span class="pre">10000)</span></code> → true if the current feature spatially touches a region with a population greater than 10000</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">overlay_touches('regions',</span> <span class="pre">name)</span></code> → an array of names, for the regions touched by the current feature</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">string_to_array(overlay_touches('regions',</span> <span class="pre">name))</span></code> → a string as a comma separated list of names, for the regions touched by the current feature</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">array_sort(overlay_touches(layer:='regions',</span> <span class="pre">expression:=&quot;name&quot;,</span> <span class="pre">filter:=</span> <span class="pre">population</span> <span class="pre">&gt;</span> <span class="pre">10000))</span></code> → an ordered array of names, for the regions touched by the current feature and with a population greater than 10000</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">overlay_touches(layer:='regions',</span> <span class="pre">expression:=</span> <span class="pre">geom_to_wkt($geometry),</span> <span class="pre">limit:=2)</span></code> → an array of geometries (in WKT), for up to two regions touched by the current feature</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="#expression-function-geometrygroup-touches"><span class="std std-ref">touches</span></a>,
<a class="reference internal" href="#array-functions"><span class="std std-ref">array manipulation</span></a>, <a class="reference internal" href="../processing_algs/qgis/vectorselection.html#qgisselectbylocation"><span class="std std-ref">Select by location</span></a>
algorithm</p>
</section>
<section id="overlay-within">
<span id="expression-function-geometrygroup-overlay-within"></span><h3><a class="toc-backref" href="#id331"><span class="section-number">12.2.13.89. </span>overlay_within</a><a class="headerlink" href="#overlay-within" title="Permalink to this headline"></a></h3>
<p>Returns whether the current feature is spatially within at least one feature from a target layer, or an array of expression-based results for the features in the target layer that contain the current feature.</p>
<p>Read more on the underlying GEOS “Within” predicate, as described in PostGIS <a class="reference external" href="https://postgis.net/docs/ST_Within.html">ST_Within</a> function.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>overlay_within(layer, [expression], [filter], [limit], [cache=false])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>layer</strong> - the layer whose overlay is checked</p></li>
<li><p><strong>expression</strong> - an optional expression to evaluate on the features from the target layer. If not set, the function will just return a boolean indicating whether there is at least one match.</p></li>
<li><p><strong>filter</strong> - an optional expression to filter the target features to check. If not set, all the features will be checked.</p></li>
<li><p><strong>limit</strong> - an optional integer to limit the number of matching features. If not set, all the matching features will be returned.</p></li>
<li><p><strong>cache</strong> - set this to true to build a local spatial index (most of the time, this is unwanted, unless you are working with a particularly slow data provider)</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">overlay_within('regions')</span></code> → true if the current feature is spatially within a region</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">overlay_within('regions',</span> <span class="pre">filter:=</span> <span class="pre">population</span> <span class="pre">&gt;</span> <span class="pre">10000)</span></code> → true if the current feature is spatially within a region with a population greater than 10000</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">overlay_within('regions',</span> <span class="pre">name)</span></code> → an array of names, for the regions containing the current feature</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">array_to_string(overlay_within('regions',</span> <span class="pre">name))</span></code> → a string as a comma separated list of names, for the regions containing the current feature</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">array_sort(overlay_within(layer:='regions',</span> <span class="pre">expression:=&quot;name&quot;,</span> <span class="pre">filter:=</span> <span class="pre">population</span> <span class="pre">&gt;</span> <span class="pre">10000))</span></code> → an ordered array of names, for the regions containing the current feature and with a population greater than 10000</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">overlay_within(layer:='regions',</span> <span class="pre">expression:=</span> <span class="pre">geom_to_wkt($geometry),</span> <span class="pre">limit:=2)</span></code> → an array of geometries (in WKT), for up to two regions containing the current feature</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="#expression-function-geometrygroup-within"><span class="std std-ref">within</span></a>,
<a class="reference internal" href="#array-functions"><span class="std std-ref">array manipulation</span></a>, <a class="reference internal" href="../processing_algs/qgis/vectorselection.html#qgisselectbylocation"><span class="std std-ref">Select by location</span></a>
algorithm</p>
</section>
<section id="perimeter">
<span id="expression-function-geometrygroup-perimeter"></span><h3><a class="toc-backref" href="#id332"><span class="section-number">12.2.13.90. </span>$perimeter</a><a class="headerlink" href="#perimeter" title="Permalink to this headline"></a></h3>
<p>Returns the perimeter length of the current feature. The perimeter calculated by this function respects both the current project’s ellipsoid setting and distance unit settings. For example, if an ellipsoid has been set for the project then the calculated perimeter will be ellipsoidal, and if no ellipsoid is set then the calculated perimeter will be planimetric.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>$perimeter</p></td>
</tr>
<tr class="row-even"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$perimeter</span></code> → 42</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="id31">
<span id="id32"></span><h3><a class="toc-backref" href="#id333"><span class="section-number">12.2.13.91. </span>perimeter</a><a class="headerlink" href="#id31" title="Permalink to this headline"></a></h3>
<p>Returns the perimeter of a geometry polygon object. Calculations are always planimetric in the Spatial Reference System (SRS) of this geometry, and the units of the returned perimeter will match the units for the SRS. This differs from the calculations performed by the $perimeter function, which will perform ellipsoidal calculations based on the project’s ellipsoid and distance unit settings.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>perimeter(geometry)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - polygon geometry object</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">perimeter(geom_from_wkt('POLYGON((0</span> <span class="pre">0,</span> <span class="pre">4</span> <span class="pre">0,</span> <span class="pre">4</span> <span class="pre">2,</span> <span class="pre">0</span> <span class="pre">2,</span> <span class="pre">0</span> <span class="pre">0))'))</span></code> → 12.0</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="point-n">
<span id="expression-function-geometrygroup-point-n"></span><h3><a class="toc-backref" href="#id334"><span class="section-number">12.2.13.92. </span>point_n</a><a class="headerlink" href="#point-n" title="Permalink to this headline"></a></h3>
<p>Returns a specific node from a geometry.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>point_n(geometry, index)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - geometry object</p></li>
<li><p><strong>index</strong> - index of node to return, where 1 is the first node; if the value is negative, the selected vertex index will be its total count minus the absolute value</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(point_n(geom_from_wkt('POLYGON((0</span> <span class="pre">0,</span> <span class="pre">4</span> <span class="pre">0,</span> <span class="pre">4</span> <span class="pre">2,</span> <span class="pre">0</span> <span class="pre">2,</span> <span class="pre">0</span> <span class="pre">0))'),2))</span></code> → ‘Point (4 0)’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="../processing_algs/qgis/vectorgeometry.html#qgisextractspecificvertices"><span class="std std-ref">Extract specific vertices</span></a> algorithm</p>
</section>
<section id="point-on-surface">
<span id="expression-function-geometrygroup-point-on-surface"></span><h3><a class="toc-backref" href="#id335"><span class="section-number">12.2.13.93. </span>point_on_surface</a><a class="headerlink" href="#point-on-surface" title="Permalink to this headline"></a></h3>
<p>Returns a point guaranteed to lie on the surface of a geometry.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>point_on_surface(geometry)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">point_on_surface($geometry)</span></code> → a point geometry</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="../processing_algs/qgis/vectorgeometry.html#qgispointonsurface"><span class="std std-ref">Point on Surface</span></a> algorithm</p>
</section>
<section id="pole-of-inaccessibility">
<span id="expression-function-geometrygroup-pole-of-inaccessibility"></span><h3><a class="toc-backref" href="#id336"><span class="section-number">12.2.13.94. </span>pole_of_inaccessibility</a><a class="headerlink" href="#pole-of-inaccessibility" title="Permalink to this headline"></a></h3>
<p>Calculates the approximate pole of inaccessibility for a surface, which is the most distant internal point from the boundary of the surface. This function uses the ‘polylabel’ algorithm (Vladimir Agafonkin, 2016), which is an iterative approach guaranteed to find the true pole of inaccessibility within a specified tolerance. More precise tolerances require more iterations and will take longer to calculate.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>pole_of_inaccessibility(geometry, tolerance)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a geometry</p></li>
<li><p><strong>tolerance</strong> - maximum distance between the returned point and the true pole location</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(pole_of_inaccessibility(</span> <span class="pre">geom_from_wkt('POLYGON((0</span> <span class="pre">1,</span> <span class="pre">0</span> <span class="pre">9,</span> <span class="pre">3</span> <span class="pre">10,</span> <span class="pre">3</span> <span class="pre">3,</span> <span class="pre">10</span> <span class="pre">3,</span> <span class="pre">10</span> <span class="pre">1,</span> <span class="pre">0</span> <span class="pre">1))'),</span> <span class="pre">0.1))'</span></code> → ‘Point(1.546875 2.546875)’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="../processing_algs/qgis/vectorgeometry.html#qgispoleofinaccessibility"><span class="std std-ref">Pole of inaccessibility</span></a> algorithm</p>
</section>
<section id="project">
<span id="expression-function-geometrygroup-project"></span><h3><a class="toc-backref" href="#id337"><span class="section-number">12.2.13.95. </span>project</a><a class="headerlink" href="#project" title="Permalink to this headline"></a></h3>
<p>Returns a point projected from a start point using a distance, a bearing (azimuth) and an elevation in radians.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>project(point, distance, azimuth, [elevation])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>point</strong> - start point</p></li>
<li><p><strong>distance</strong> - distance to project</p></li>
<li><p><strong>azimuth</strong> - azimuth in radians clockwise, where 0 corresponds to north</p></li>
<li><p><strong>elevation</strong> - angle of inclination in radians</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(project(make_point(1,</span> <span class="pre">2),</span> <span class="pre">3,</span> <span class="pre">radians(270)))</span></code> → ‘Point(-2, 2)’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="../processing_algs/qgis/vectorgeometry.html#qgisprojectpointcartesian"><span class="std std-ref">Project points (Cartesian)</span></a> algorithm</p>
</section>
<section id="relate">
<span id="expression-function-geometrygroup-relate"></span><h3><a class="toc-backref" href="#id338"><span class="section-number">12.2.13.96. </span>relate</a><a class="headerlink" href="#relate" title="Permalink to this headline"></a></h3>
<p>Tests the Dimensional Extended 9 Intersection Model (DE-9IM) representation of the relationship between two geometries.</p>
<p><strong>Relationship variant</strong></p>
<p>Returns the Dimensional Extended 9 Intersection Model (DE-9IM) representation of the relationship between two geometries.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>relate(geometry, geometry)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a geometry</p></li>
<li><p><strong>geometry</strong> - a geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">relate(</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'LINESTRING(40</span> <span class="pre">40,120</span> <span class="pre">120)'</span> <span class="pre">),</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'LINESTRING(40</span> <span class="pre">40,60</span> <span class="pre">120)'</span> <span class="pre">)</span> <span class="pre">)</span></code> → ‘FF1F00102’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Pattern match variant</strong></p>
<p>Tests whether the DE-9IM relationship between two geometries matches a specified pattern.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>relate(geometry, geometry, pattern)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a geometry</p></li>
<li><p><strong>geometry</strong> - a geometry</p></li>
<li><p><strong>pattern</strong> - DE-9IM pattern to match</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">relate(</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'LINESTRING(40</span> <span class="pre">40,120</span> <span class="pre">120)'</span> <span class="pre">),</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'LINESTRING(40</span> <span class="pre">40,60</span> <span class="pre">120)'</span> <span class="pre">),</span> <span class="pre">'**1F001**'</span> <span class="pre">)</span></code> → True</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="reverse">
<span id="expression-function-geometrygroup-reverse"></span><h3><a class="toc-backref" href="#id339"><span class="section-number">12.2.13.97. </span>reverse</a><a class="headerlink" href="#reverse" title="Permalink to this headline"></a></h3>
<p>Reverses the direction of a line string by reversing the order of its vertices.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>reverse(geometry)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(reverse(geom_from_wkt('LINESTRING(0</span> <span class="pre">0,</span> <span class="pre">1</span> <span class="pre">1,</span> <span class="pre">2</span> <span class="pre">2)')))</span></code> → ‘LINESTRING(2 2, 1 1, 0 0)’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="../processing_algs/qgis/vectorgeometry.html#qgisreverselinedirection"><span class="std std-ref">Reverse line direction</span></a> algorithm</p>
</section>
<section id="rotate">
<span id="expression-function-geometrygroup-rotate"></span><h3><a class="toc-backref" href="#id340"><span class="section-number">12.2.13.98. </span>rotate</a><a class="headerlink" href="#rotate" title="Permalink to this headline"></a></h3>
<p>Returns a rotated version of a geometry. Calculations are in the Spatial Reference System of this geometry.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>rotate(geometry, rotation, [center])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a geometry</p></li>
<li><p><strong>rotation</strong> - clockwise rotation in degrees</p></li>
<li><p><strong>center</strong> - rotation center point. If not specified, the center of the geometry’s bounding box is used.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rotate($geometry,</span> <span class="pre">45,</span> <span class="pre">make_point(4,</span> <span class="pre">5))</span></code> → geometry rotated 45 degrees clockwise around the (4, 5) point</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rotate($geometry,</span> <span class="pre">45)</span></code> → geometry rotated 45 degrees clockwise around the center of its bounding box</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="segments-to-lines">
<span id="expression-function-geometrygroup-segments-to-lines"></span><h3><a class="toc-backref" href="#id341"><span class="section-number">12.2.13.99. </span>segments_to_lines</a><a class="headerlink" href="#segments-to-lines" title="Permalink to this headline"></a></h3>
<p>Returns a multi line geometry consisting of a line for every segment in the input geometry.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>segments_to_lines(geometry)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - geometry object</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(segments_to_lines(geom_from_wkt('LINESTRING(0</span> <span class="pre">0,</span> <span class="pre">1</span> <span class="pre">1,</span> <span class="pre">2</span> <span class="pre">2)')))</span></code> → ‘MultiLineString ((0 0, 1 1),(1 1, 2 2))’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="../processing_algs/qgis/vectorgeometry.html#qgisexplodelines"><span class="std std-ref">Explode lines</span></a> algorithm</p>
</section>
<section id="shortest-line">
<span id="expression-function-geometrygroup-shortest-line"></span><h3><a class="toc-backref" href="#id342"><span class="section-number">12.2.13.100. </span>shortest_line</a><a class="headerlink" href="#shortest-line" title="Permalink to this headline"></a></h3>
<p>Returns the shortest line joining geometry1 to geometry2. The resultant line will start at geometry1 and end at geometry2.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>shortest_line(geometry1, geometry2)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry1</strong> - geometry to find shortest line from</p></li>
<li><p><strong>geometry2</strong> - geometry to find shortest line to</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(shortest_line(geom_from_wkt('LINESTRING</span> <span class="pre">(20</span> <span class="pre">80,</span> <span class="pre">98</span> <span class="pre">190,</span> <span class="pre">110</span> <span class="pre">180,</span> <span class="pre">50</span> <span class="pre">75</span> <span class="pre">)'),geom_from_wkt('POINT(100</span> <span class="pre">100)')))</span></code> → ‘LineString(73.0769 115.384, 100 100)’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="simplify">
<span id="expression-function-geometrygroup-simplify"></span><h3><a class="toc-backref" href="#id343"><span class="section-number">12.2.13.101. </span>simplify</a><a class="headerlink" href="#simplify" title="Permalink to this headline"></a></h3>
<p>Simplifies a geometry by removing nodes using a distance based threshold (ie, the Douglas Peucker algorithm). The algorithm preserves large deviations in geometries and reduces the number of vertices in nearly straight segments.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>simplify(geometry, tolerance)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a geometry</p></li>
<li><p><strong>tolerance</strong> - maximum deviation from straight segments for points to be removed</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(simplify(geometry:=geom_from_wkt('LineString(0</span> <span class="pre">0,</span> <span class="pre">5</span> <span class="pre">0.1,</span> <span class="pre">10</span> <span class="pre">0)'),tolerance:=5))</span></code> → ‘LineString(0 0, 10 0)’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="../processing_algs/qgis/vectorgeometry.html#qgissimplifygeometries"><span class="std std-ref">Simplify</span></a> algorithm</p>
</section>
<section id="simplify-vw">
<span id="expression-function-geometrygroup-simplify-vw"></span><h3><a class="toc-backref" href="#id344"><span class="section-number">12.2.13.102. </span>simplify_vw</a><a class="headerlink" href="#simplify-vw" title="Permalink to this headline"></a></h3>
<p>Simplifies a geometry by removing nodes using an area based threshold (ie, the Visvalingam-Whyatt algorithm). The algorithm removes vertices which create small areas in geometries, e.g., narrow spikes or nearly straight segments.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>simplify_vw(geometry, tolerance)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a geometry</p></li>
<li><p><strong>tolerance</strong> - a measure of the maximum area created by a node for the node to be removed</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(simplify_vw(geometry:=geom_from_wkt('LineString(0</span> <span class="pre">0,</span> <span class="pre">5</span> <span class="pre">0,</span> <span class="pre">5.01</span> <span class="pre">10,</span> <span class="pre">5.02</span> <span class="pre">0,</span> <span class="pre">10</span> <span class="pre">0)'),tolerance:=5))</span></code> → ‘LineString(0 0, 10 0)’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="../processing_algs/qgis/vectorgeometry.html#qgissimplifygeometries"><span class="std std-ref">Simplify</span></a> algorithm</p>
</section>
<section id="single-sided-buffer">
<span id="expression-function-geometrygroup-single-sided-buffer"></span><h3><a class="toc-backref" href="#id345"><span class="section-number">12.2.13.103. </span>single_sided_buffer</a><a class="headerlink" href="#single-sided-buffer" title="Permalink to this headline"></a></h3>
<p>Returns a geometry formed by buffering out just one side of a linestring geometry. Distances are in the Spatial Reference System of this geometry.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>single_sided_buffer(geometry, distance, [segments=8], [join=1], [miter_limit=2.0])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a (multi)linestring geometry</p></li>
<li><p><strong>distance</strong> - buffer distance. Positive values will be buffered to the left of lines, negative values to the right</p></li>
<li><p><strong>segments</strong> - number of segments to use to represent a quarter circle when a round join style is used. A larger number results in a smoother buffer with more nodes.</p></li>
<li><p><strong>join</strong> - join style for corners, where 1 = round, 2 = miter and 3 = bevel</p></li>
<li><p><strong>miter_limit</strong> - limit on the miter ratio used for very sharp corners (when using miter joins only)</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">single_sided_buffer($geometry,</span> <span class="pre">10.5)</span></code> → line buffered to the left by 10.5 units</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">single_sided_buffer($geometry,</span> <span class="pre">-10.5)</span></code> → line buffered to the right by 10.5 units</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">single_sided_buffer($geometry,</span> <span class="pre">10.5,</span> <span class="pre">segments:=16,</span> <span class="pre">join:=1)</span></code> → line buffered to the left by 10.5 units, using more segments to result in a smoother buffer</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">single_sided_buffer($geometry,</span> <span class="pre">10.5,</span> <span class="pre">join:=3)</span></code> → line buffered to the left by 10.5 units, using a beveled join</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="../processing_algs/qgis/vectorgeometry.html#qgissinglesidedbuffer"><span class="std std-ref">Single sided buffer</span></a> algorithm</p>
</section>
<section id="sinuosity">
<span id="expression-function-geometrygroup-sinuosity"></span><h3><a class="toc-backref" href="#id346"><span class="section-number">12.2.13.104. </span>sinuosity</a><a class="headerlink" href="#sinuosity" title="Permalink to this headline"></a></h3>
<p>Returns the sinuosity of a curve, which is the ratio of the curve length to the straight (2D) distance between its endpoints.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>sinuosity(geometry)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - Input curve (circularstring, linestring)</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">round(sinuosity(geom_from_wkt('LINESTRING(2</span> <span class="pre">0,</span> <span class="pre">2</span> <span class="pre">2,</span> <span class="pre">3</span> <span class="pre">2,</span> <span class="pre">3</span> <span class="pre">3)')),</span> <span class="pre">3)</span></code> → 1.265</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sinuosity(geom_from_wkt('LINESTRING(</span> <span class="pre">3</span> <span class="pre">1,</span> <span class="pre">5</span> <span class="pre">1)'))</span></code> → 1.0</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="smooth">
<span id="expression-function-geometrygroup-smooth"></span><h3><a class="toc-backref" href="#id347"><span class="section-number">12.2.13.105. </span>smooth</a><a class="headerlink" href="#smooth" title="Permalink to this headline"></a></h3>
<p>Smooths a geometry by adding extra nodes which round off corners in the geometry. If input geometries contain Z or M values, these will also be smoothed and the output geometry will retain the same dimensionality as the input geometry.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>smooth(geometry, [iterations=1], [offset=0.25], [min_length=-1], [max_angle=180])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a geometry</p></li>
<li><p><strong>iterations</strong> - number of smoothing iterations to apply. Larger numbers result in smoother but more complex geometries.</p></li>
<li><p><strong>offset</strong> - value between 0 and 0.5 which controls how tightly the smoothed geometry follow the original geometry. Smaller values result in a tighter smoothing, larger values result in looser smoothing.</p></li>
<li><p><strong>min_length</strong> - minimum length of segments to apply smoothing to. This parameter can be used to avoid placing excessive additional nodes in shorter segments of the geometry.</p></li>
<li><p><strong>max_angle</strong> - maximum angle at node for smoothing to be applied (0-180). By lowering the maximum angle intentionally sharp corners in the geometry can be preserved. For instance, a value of 80 degrees will retain right angles in the geometry.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(smooth(geometry:=geom_from_wkt('LineString(0</span> <span class="pre">0,</span> <span class="pre">5</span> <span class="pre">0,</span> <span class="pre">5</span> <span class="pre">5)'),iterations:=1,offset:=0.2,min_length:=-1,max_angle:=180))</span></code> → ‘LineString (0 0, 4 0, 5 1, 5 5)’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="../processing_algs/qgis/vectorgeometry.html#qgissmoothgeometry"><span class="std std-ref">Smooth</span></a> algorithm</p>
</section>
<section id="start-point">
<span id="expression-function-geometrygroup-start-point"></span><h3><a class="toc-backref" href="#id348"><span class="section-number">12.2.13.106. </span>start_point</a><a class="headerlink" href="#start-point" title="Permalink to this headline"></a></h3>
<p>Returns the first node from a geometry.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>start_point(geometry)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - geometry object</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(start_point(geom_from_wkt('LINESTRING(4</span> <span class="pre">0,</span> <span class="pre">4</span> <span class="pre">2,</span> <span class="pre">0</span> <span class="pre">2)')))</span></code> → ‘Point (4 0)’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="../processing_algs/qgis/vectorgeometry.html#qgisextractspecificvertices"><span class="std std-ref">Extract specific vertices</span></a> algorithm</p>
</section>
<section id="straight-distance-2d">
<span id="expression-function-geometrygroup-straight-distance-2d"></span><h3><a class="toc-backref" href="#id349"><span class="section-number">12.2.13.107. </span>straight_distance_2d</a><a class="headerlink" href="#straight-distance-2d" title="Permalink to this headline"></a></h3>
<p>Returns the direct/euclidean distance between the first and last vertex of a geometry. The geometry must be a curve (circularstring, linestring).</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>straight_distance_2d(geometry)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - The geometry.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">straight_distance_2d(geom_from_wkt('LINESTRING(1</span> <span class="pre">0,</span> <span class="pre">1</span> <span class="pre">1)'))</span></code> → 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">round(straight_distance_2d(geom_from_wkt('LINESTRING(1</span> <span class="pre">4,</span> <span class="pre">3</span> <span class="pre">5,</span> <span class="pre">5</span> <span class="pre">0)')),</span> <span class="pre">3)</span></code> → 5.657</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="#id29"><span class="std std-ref">length</span></a></p>
</section>
<section id="sym-difference">
<span id="expression-function-geometrygroup-sym-difference"></span><h3><a class="toc-backref" href="#id350"><span class="section-number">12.2.13.108. </span>sym_difference</a><a class="headerlink" href="#sym-difference" title="Permalink to this headline"></a></h3>
<p>Returns a geometry that represents the portions of two geometries that do not intersect.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>sym_difference(geometry1, geometry2)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry1</strong> - a geometry</p></li>
<li><p><strong>geometry2</strong> - a geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(</span> <span class="pre">sym_difference(</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'LINESTRING(3</span> <span class="pre">3,</span> <span class="pre">4</span> <span class="pre">4,</span> <span class="pre">5</span> <span class="pre">5)'</span> <span class="pre">),</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'LINESTRING(3</span> <span class="pre">3,</span> <span class="pre">8</span> <span class="pre">8)'</span> <span class="pre">)</span> <span class="pre">)</span> <span class="pre">)</span></code> → ‘LINESTRING(5 5, 8 8)’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="../processing_algs/qgis/vectoroverlay.html#qgissymmetricaldifference"><span class="std std-ref">Symmetrical difference</span></a> algorithm</p>
</section>
<section id="tapered-buffer">
<span id="expression-function-geometrygroup-tapered-buffer"></span><h3><a class="toc-backref" href="#id351"><span class="section-number">12.2.13.109. </span>tapered_buffer</a><a class="headerlink" href="#tapered-buffer" title="Permalink to this headline"></a></h3>
<p>Creates a buffer along a line geometry where the buffer diameter varies evenly over the length of the line.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>tapered_buffer(geometry, start_width, end_width, [segments=8])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - input geometry. Must be a (multi)line geometry.</p></li>
<li><p><strong>start_width</strong> - width of buffer at start of line,</p></li>
<li><p><strong>end_width</strong> - width of buffer at end of line.</p></li>
<li><p><strong>segments</strong> - number of segments to approximate quarter-circle curves in the buffer.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">tapered_buffer(geometry:=geom_from_wkt('LINESTRING(1</span> <span class="pre">2,</span> <span class="pre">4</span> <span class="pre">2)'),start_width:=1,end_width:=2,segments:=8)</span></code> → A tapered buffer starting with a diameter of 1 and ending with a diameter of 2 along the linestring geometry.</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="../processing_algs/qgis/vectorgeometry.html#qgistaperedbuffer"><span class="std std-ref">Tapered buffers</span></a> algorithm</p>
</section>
<section id="touches">
<span id="expression-function-geometrygroup-touches"></span><h3><a class="toc-backref" href="#id352"><span class="section-number">12.2.13.110. </span>touches</a><a class="headerlink" href="#touches" title="Permalink to this headline"></a></h3>
<p>Tests whether a geometry touches another. Returns true if the geometries have at least one point in common, but their interiors do not intersect.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>touches(geometry1, geometry2)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry1</strong> - a geometry</p></li>
<li><p><strong>geometry2</strong> - a geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">touches(</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'LINESTRING(5</span> <span class="pre">3,</span> <span class="pre">4</span> <span class="pre">4)'</span> <span class="pre">),</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'LINESTRING(3</span> <span class="pre">3,</span> <span class="pre">4</span> <span class="pre">4,</span> <span class="pre">5</span> <span class="pre">5)'</span> <span class="pre">)</span> <span class="pre">)</span></code> → true</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">touches(</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'POINT(4</span> <span class="pre">4)'</span> <span class="pre">),</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'POINT(5</span> <span class="pre">5)'</span> <span class="pre">)</span> <span class="pre">)</span></code> → false</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="#expression-function-geometrygroup-overlay-touches"><span class="std std-ref">overlay_touches</span></a></p>
</section>
<section id="transform">
<span id="expression-function-geometrygroup-transform"></span><h3><a class="toc-backref" href="#id353"><span class="section-number">12.2.13.111. </span>transform</a><a class="headerlink" href="#transform" title="Permalink to this headline"></a></h3>
<p>Returns the geometry transformed from a source CRS to a destination CRS.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>transform(geometry, source_auth_id, dest_auth_id)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a geometry</p></li>
<li><p><strong>source_auth_id</strong> - the source auth CRS ID</p></li>
<li><p><strong>dest_auth_id</strong> - the destination auth CRS ID</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(</span> <span class="pre">transform(</span> <span class="pre">make_point(488995.53240249,</span> <span class="pre">7104473.38600835),</span> <span class="pre">'EPSG:2154',</span> <span class="pre">'EPSG:4326'</span> <span class="pre">)</span> <span class="pre">)</span></code> → ‘POINT(0 51)’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="../processing_algs/qgis/vectorgeneral.html#qgisreprojectlayer"><span class="std std-ref">Reproject layer</span></a> algorithm</p>
</section>
<section id="translate">
<span id="expression-function-geometrygroup-translate"></span><h3><a class="toc-backref" href="#id354"><span class="section-number">12.2.13.112. </span>translate</a><a class="headerlink" href="#translate" title="Permalink to this headline"></a></h3>
<p>Returns a translated version of a geometry. Calculations are in the Spatial Reference System of this geometry.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>translate(geometry, dx, dy)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a geometry</p></li>
<li><p><strong>dx</strong> - delta x</p></li>
<li><p><strong>dy</strong> - delta y</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">translate($geometry,</span> <span class="pre">5,</span> <span class="pre">10)</span></code> → a geometry of the same type like the original one</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="../processing_algs/qgis/vectorgeometry.html#qgistranslategeometry"><span class="std std-ref">Translate</span></a> algorithm</p>
</section>
<section id="union">
<span id="expression-function-geometrygroup-union"></span><h3><a class="toc-backref" href="#id355"><span class="section-number">12.2.13.113. </span>union</a><a class="headerlink" href="#union" title="Permalink to this headline"></a></h3>
<p>Returns a geometry that represents the point set union of the geometries.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>union(geometry1, geometry2)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry1</strong> - a geometry</p></li>
<li><p><strong>geometry2</strong> - a geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(</span> <span class="pre">union(</span> <span class="pre">make_point(4,</span> <span class="pre">4),</span> <span class="pre">make_point(5,</span> <span class="pre">5)</span> <span class="pre">)</span> <span class="pre">)</span></code> → ‘MULTIPOINT(4 4, 5 5)’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="wedge-buffer">
<span id="expression-function-geometrygroup-wedge-buffer"></span><h3><a class="toc-backref" href="#id356"><span class="section-number">12.2.13.114. </span>wedge_buffer</a><a class="headerlink" href="#wedge-buffer" title="Permalink to this headline"></a></h3>
<p>Returns a wedge shaped buffer originating from a point geometry.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>wedge_buffer(center, azimuth, width, outer_radius, [inner_radius=0.0])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>center</strong> - center point (origin) of buffer. Must be a point geometry.</p></li>
<li><p><strong>azimuth</strong> - angle (in degrees) for the middle of the wedge to point.</p></li>
<li><p><strong>width</strong> - buffer width (in degrees). Note that the wedge will extend to half of the angular width either side of the azimuth direction.</p></li>
<li><p><strong>outer_radius</strong> - outer radius for buffers</p></li>
<li><p><strong>inner_radius</strong> - optional inner radius for buffers</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">wedge_buffer(center:=geom_from_wkt('POINT(1</span> <span class="pre">2)'),azimuth:=90,width:=180,outer_radius:=1)</span></code> → A wedge shaped buffer centered on the point (1,2), facing to the East, with a width of 180 degrees and outer radius of 1.</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="../processing_algs/qgis/vectorgeometry.html#qgiswedgebuffers"><span class="std std-ref">Create wedge buffers</span></a> algorithm</p>
</section>
<section id="within">
<span id="expression-function-geometrygroup-within"></span><h3><a class="toc-backref" href="#id357"><span class="section-number">12.2.13.115. </span>within</a><a class="headerlink" href="#within" title="Permalink to this headline"></a></h3>
<p>Tests whether a geometry is within another. Returns true if the geometry1 is completely within geometry2.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>within(geometry1, geometry2)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry1</strong> - a geometry</p></li>
<li><p><strong>geometry2</strong> - a geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">within(</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'POINT(</span> <span class="pre">0.5</span> <span class="pre">0.5)'</span> <span class="pre">),</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'POLYGON((0</span> <span class="pre">0,</span> <span class="pre">0</span> <span class="pre">1,</span> <span class="pre">1</span> <span class="pre">1,</span> <span class="pre">1</span> <span class="pre">0,</span> <span class="pre">0</span> <span class="pre">0))'</span> <span class="pre">)</span> <span class="pre">)</span></code> → true</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">within(</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'POINT(</span> <span class="pre">5</span> <span class="pre">5</span> <span class="pre">)'</span> <span class="pre">),</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'POLYGON((0</span> <span class="pre">0,</span> <span class="pre">0</span> <span class="pre">1,</span> <span class="pre">1</span> <span class="pre">1,</span> <span class="pre">1</span> <span class="pre">0,</span> <span class="pre">0</span> <span class="pre">0</span> <span class="pre">))'</span> <span class="pre">)</span> <span class="pre">)</span></code> → false</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="#expression-function-geometrygroup-overlay-within"><span class="std std-ref">overlay_within</span></a></p>
</section>
<section id="x">
<span id="expression-function-geometrygroup-x"></span><h3><a class="toc-backref" href="#id358"><span class="section-number">12.2.13.116. </span>$x</a><a class="headerlink" href="#x" title="Permalink to this headline"></a></h3>
<p>Returns the x coordinate of the current point feature. If the feature is a multipoint feature, then the x-coordinate of the first point will be returned.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>$x</p></td>
</tr>
<tr class="row-even"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$x</span></code> → 42</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="id33">
<span id="id34"></span><h3><a class="toc-backref" href="#id359"><span class="section-number">12.2.13.117. </span>x</a><a class="headerlink" href="#id33" title="Permalink to this headline"></a></h3>
<p>Returns the x coordinate of a point geometry, or the x coordinate of the centroid for a non-point geometry.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>x(geometry)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x(</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'POINT(2</span> <span class="pre">5)'</span> <span class="pre">)</span> <span class="pre">)</span></code> → 2</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x(</span> <span class="pre">$geometry</span> <span class="pre">)</span></code> → x coordinate of the current feature’s centroid</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="x-at">
<span id="expression-function-geometrygroup-x-at"></span><h3><a class="toc-backref" href="#id360"><span class="section-number">12.2.13.118. </span>$x_at</a><a class="headerlink" href="#x-at" title="Permalink to this headline"></a></h3>
<p>Retrieves a x coordinate of the current feature’s geometry.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>$x_at(i)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>i</strong> - index of point of a line (indices start at 0; negative values apply from the last index, starting at -1)</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$x_at(1)</span></code> → 5</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="x-max">
<span id="expression-function-geometrygroup-x-max"></span><h3><a class="toc-backref" href="#id361"><span class="section-number">12.2.13.119. </span>x_max</a><a class="headerlink" href="#x-max" title="Permalink to this headline"></a></h3>
<p>Returns the maximum x coordinate of a geometry. Calculations are in the spatial reference system of this geometry.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>x_max(geometry)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x_max(</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'LINESTRING(2</span> <span class="pre">5,</span> <span class="pre">3</span> <span class="pre">6,</span> <span class="pre">4</span> <span class="pre">8)')</span> <span class="pre">)</span></code> → 4</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="x-min">
<span id="expression-function-geometrygroup-x-min"></span><h3><a class="toc-backref" href="#id362"><span class="section-number">12.2.13.120. </span>x_min</a><a class="headerlink" href="#x-min" title="Permalink to this headline"></a></h3>
<p>Returns the minimum x coordinate of a geometry. Calculations are in the spatial reference system of this geometry.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>x_min(geometry)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x_min(</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'LINESTRING(2</span> <span class="pre">5,</span> <span class="pre">3</span> <span class="pre">6,</span> <span class="pre">4</span> <span class="pre">8)')</span> <span class="pre">)</span></code> → 2</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="y">
<span id="expression-function-geometrygroup-y"></span><h3><a class="toc-backref" href="#id363"><span class="section-number">12.2.13.121. </span>$y</a><a class="headerlink" href="#y" title="Permalink to this headline"></a></h3>
<p>Returns the y coordinate of the current point feature. If the feature is a multipoint feature, then the y-coordinate of the first point will be returned.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>$y</p></td>
</tr>
<tr class="row-even"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$y</span></code> → 42</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="id35">
<span id="id36"></span><h3><a class="toc-backref" href="#id364"><span class="section-number">12.2.13.122. </span>y</a><a class="headerlink" href="#id35" title="Permalink to this headline"></a></h3>
<p>Returns the y coordinate of a point geometry, or the y coordinate of the centroid for a non-point geometry.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>y(geometry)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">y(</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'POINT(2</span> <span class="pre">5)'</span> <span class="pre">)</span> <span class="pre">)</span></code> → 5</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">y(</span> <span class="pre">$geometry</span> <span class="pre">)</span></code> → y coordinate of the current feature’s centroid</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="y-at">
<span id="expression-function-geometrygroup-y-at"></span><h3><a class="toc-backref" href="#id365"><span class="section-number">12.2.13.123. </span>$y_at</a><a class="headerlink" href="#y-at" title="Permalink to this headline"></a></h3>
<p>Retrieves a y coordinate of the current feature’s geometry.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>$y_at(i)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>i</strong> - index of point of a line (indices start at 0; negative values apply from the last index, starting at -1)</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$y_at(1)</span></code> → 2</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="y-max">
<span id="expression-function-geometrygroup-y-max"></span><h3><a class="toc-backref" href="#id366"><span class="section-number">12.2.13.124. </span>y_max</a><a class="headerlink" href="#y-max" title="Permalink to this headline"></a></h3>
<p>Returns the maximum y coordinate of a geometry. Calculations are in the spatial reference system of this geometry.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>y_max(geometry)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">y_max(</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'LINESTRING(2</span> <span class="pre">5,</span> <span class="pre">3</span> <span class="pre">6,</span> <span class="pre">4</span> <span class="pre">8)')</span> <span class="pre">)</span></code> → 8</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="y-min">
<span id="expression-function-geometrygroup-y-min"></span><h3><a class="toc-backref" href="#id367"><span class="section-number">12.2.13.125. </span>y_min</a><a class="headerlink" href="#y-min" title="Permalink to this headline"></a></h3>
<p>Returns the minimum y coordinate of a geometry. Calculations are in the spatial reference system of this geometry.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>y_min(geometry)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">y_min(</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'LINESTRING(2</span> <span class="pre">5,</span> <span class="pre">3</span> <span class="pre">6,</span> <span class="pre">4</span> <span class="pre">8)')</span> <span class="pre">)</span></code> → 5</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="z">
<span id="expression-function-geometrygroup-z"></span><h3><a class="toc-backref" href="#id368"><span class="section-number">12.2.13.126. </span>$z</a><a class="headerlink" href="#z" title="Permalink to this headline"></a></h3>
<p>Returns the z value of the current point feature if it is 3D. If the feature is a multipoint feature, then the z value of the first point will be returned.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>$z</p></td>
</tr>
<tr class="row-even"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$z</span></code> → 123</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="id37">
<span id="id38"></span><h3><a class="toc-backref" href="#id369"><span class="section-number">12.2.13.127. </span>z</a><a class="headerlink" href="#id37" title="Permalink to this headline"></a></h3>
<p>Returns the z coordinate of a point geometry, or NULL if the geometry has no z value.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>z(geometry)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a point geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">z(</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'POINTZ(2</span> <span class="pre">5</span> <span class="pre">7)'</span> <span class="pre">)</span> <span class="pre">)</span></code> → 7</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="z-max">
<span id="expression-function-geometrygroup-z-max"></span><h3><a class="toc-backref" href="#id370"><span class="section-number">12.2.13.128. </span>z_max</a><a class="headerlink" href="#z-max" title="Permalink to this headline"></a></h3>
<p>Returns the maximum z coordinate of a geometry, or NULL if the geometry has no z value.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>z_max(geometry)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a geometry with z coordinate</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">z_max(</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'POINT</span> <span class="pre">(</span> <span class="pre">0</span> <span class="pre">0</span> <span class="pre">1</span> <span class="pre">)'</span> <span class="pre">)</span> <span class="pre">)</span></code> → 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">z_max(</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'MULTIPOINT</span> <span class="pre">(</span> <span class="pre">0</span> <span class="pre">0</span> <span class="pre">1</span> <span class="pre">,</span> <span class="pre">1</span> <span class="pre">1</span> <span class="pre">3</span> <span class="pre">)'</span> <span class="pre">)</span> <span class="pre">)</span></code> → 3</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">z_max(</span> <span class="pre">make_line(</span> <span class="pre">make_point(</span> <span class="pre">0,0,0</span> <span class="pre">),</span> <span class="pre">make_point(</span> <span class="pre">-1,-1,-2</span> <span class="pre">)</span> <span class="pre">)</span> <span class="pre">)</span></code> → 0</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">z_max(</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'LINESTRING(</span> <span class="pre">0</span> <span class="pre">0</span> <span class="pre">0,</span> <span class="pre">1</span> <span class="pre">0</span> <span class="pre">2,</span> <span class="pre">1</span> <span class="pre">1</span> <span class="pre">-1</span> <span class="pre">)'</span> <span class="pre">)</span> <span class="pre">)</span></code> → 2</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">z_max(</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'POINT</span> <span class="pre">(</span> <span class="pre">0</span> <span class="pre">0</span> <span class="pre">)'</span> <span class="pre">)</span> <span class="pre">)</span></code> → NULL</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="z-min">
<span id="expression-function-geometrygroup-z-min"></span><h3><a class="toc-backref" href="#id371"><span class="section-number">12.2.13.129. </span>z_min</a><a class="headerlink" href="#z-min" title="Permalink to this headline"></a></h3>
<p>Returns the minimum z coordinate of a geometry, or NULL if the geometry has no z value.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>z_min(geometry)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - a geometry with z coordinate</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">z_min(</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'POINT</span> <span class="pre">(</span> <span class="pre">0</span> <span class="pre">0</span> <span class="pre">1</span> <span class="pre">)'</span> <span class="pre">)</span> <span class="pre">)</span></code> → 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">z_min(</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'MULTIPOINT</span> <span class="pre">(</span> <span class="pre">0</span> <span class="pre">0</span> <span class="pre">1</span> <span class="pre">,</span> <span class="pre">1</span> <span class="pre">1</span> <span class="pre">3</span> <span class="pre">)'</span> <span class="pre">)</span> <span class="pre">)</span></code> → 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">z_min(</span> <span class="pre">make_line(</span> <span class="pre">make_point(</span> <span class="pre">0,0,0</span> <span class="pre">),</span> <span class="pre">make_point(</span> <span class="pre">-1,-1,-2</span> <span class="pre">)</span> <span class="pre">)</span> <span class="pre">)</span></code> → -2</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">z_min(</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'LINESTRING(</span> <span class="pre">0</span> <span class="pre">0</span> <span class="pre">0,</span> <span class="pre">1</span> <span class="pre">0</span> <span class="pre">2,</span> <span class="pre">1</span> <span class="pre">1</span> <span class="pre">-1</span> <span class="pre">)'</span> <span class="pre">)</span> <span class="pre">)</span></code> → -1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">z_min(</span> <span class="pre">geom_from_wkt(</span> <span class="pre">'POINT</span> <span class="pre">(</span> <span class="pre">0</span> <span class="pre">0</span> <span class="pre">)'</span> <span class="pre">)</span> <span class="pre">)</span></code> → NULL</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="layout-functions">
<h2><a class="toc-backref" href="#id89"><span class="section-number">12.2.14. </span>Layout Functions</a><a class="headerlink" href="#layout-functions" title="Permalink to this headline"></a></h2>
<p>This group contains functions to manipulate print layout items properties.</p>
<div class="contents toc-columns local topic" id="id39">
<ul class="simple">
<li><p><a class="reference internal" href="#item-variables" id="id372">item_variables</a></p></li>
<li><p><a class="reference internal" href="#map-credits" id="id373">map_credits</a></p></li>
</ul>
</div>
<section id="item-variables">
<span id="expression-function-layout-item-variables"></span><h3><a class="toc-backref" href="#id372"><span class="section-number">12.2.14.1. </span>item_variables</a><a class="headerlink" href="#item-variables" title="Permalink to this headline"></a></h3>
<p>Returns a map of variables from a layout item inside this print layout.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>item_variables(id)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>id</strong> - layout item ID</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">map_get(</span> <span class="pre">item_variables('Map</span> <span class="pre">0'),</span> <span class="pre">'map_scale')</span></code> → scale of the item ‘Map 0’ in the current print layout</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: List of default <a class="reference internal" href="#expression-variables"><span class="std std-ref">variables</span></a></p>
</section>
<section id="map-credits">
<span id="expression-function-layout-map-credits"></span><h3><a class="toc-backref" href="#id373"><span class="section-number">12.2.14.2. </span>map_credits</a><a class="headerlink" href="#map-credits" title="Permalink to this headline"></a></h3>
<p>Returns a list of credit (usage rights) strings for the layers shown in a layout map item.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>map_credits(id, [include_layer_names=false], [layer_name_separator=’: ‘])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>id</strong> - map item ID</p></li>
<li><p><strong>include_layer_names</strong> - Set to true to include layer names before their credit strings</p></li>
<li><p><strong>layer_name_separator</strong> - String to insert between layer names and their credit strings, if include_layer_names is true</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">array_to_string(</span> <span class="pre">map_credits(</span> <span class="pre">'Main</span> <span class="pre">Map'</span> <span class="pre">)</span> <span class="pre">)</span></code> → comma separated list of layer credits for layers shown in the ‘Main Map’ layout item, e.g ‘CC-BY-NC, CC-BY-SA’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">array_to_string(</span> <span class="pre">map_credits(</span> <span class="pre">'Main</span> <span class="pre">Map',</span> <span class="pre">include_layer_names</span> <span class="pre">:=</span> <span class="pre">true,</span> <span class="pre">layer_name_separator</span> <span class="pre">:=</span> <span class="pre">':</span> <span class="pre">'</span> <span class="pre">)</span> <span class="pre">)</span></code> → comma separated list of layer names and their credits for layers shown in the ‘Main Map’ layout item, e.g. ‘Railway lines: CC-BY-NC, Basemap: CC-BY-SA’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="map-layers">
<h2><a class="toc-backref" href="#id90"><span class="section-number">12.2.15. </span>Map Layers</a><a class="headerlink" href="#map-layers" title="Permalink to this headline"></a></h2>
<p>This group contains a list of the available layers in the current project.
This offers a convenient way to write expressions referring to multiple layers,
such as when performing <a class="reference internal" href="#aggregates-function"><span class="std std-ref">aggregates</span></a>, <a class="reference internal" href="#record-attributes"><span class="std std-ref">attribute</span></a> or <a class="reference internal" href="#geometry-functions"><span class="std std-ref">spatial</span></a> queries.</p>
<p>It also provides some convenient functions to manipulate layers.</p>
<div class="contents toc-columns local topic" id="id40">
<ul class="simple">
<li><p><a class="reference internal" href="#decode-uri" id="id374">decode_uri</a></p></li>
<li><p><a class="reference internal" href="#layer-property" id="id375">layer_property</a></p></li>
</ul>
</div>
<section id="decode-uri">
<span id="expression-function-map-layers-decode-uri"></span><h3><a class="toc-backref" href="#id374"><span class="section-number">12.2.15.1. </span>decode_uri</a><a class="headerlink" href="#decode-uri" title="Permalink to this headline"></a></h3>
<p>Takes a layer and decodes the uri of the underlying data provider. It depends on the dataprovider, which data is available.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>decode_uri(layer, [part])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>layer</strong> - The layer for which the uri should be decoded.</p></li>
<li><p><strong>part</strong> - The part of the uri to return. If unspecified, a map with all uri parts will be returned.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">decode_uri(&#64;layer)</span></code> → {‘layerId’: ‘0’, ‘layerName’: ‘’, ‘path’: ‘/home/qgis/shapefile.shp’}</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">decode_uri(&#64;layer)</span></code> → {‘layerId’: NULL, ‘layerName’: ‘layer’, ‘path’: ‘/home/qgis/geopackage.gpkg’}</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">decode_uri(&#64;layer,</span> <span class="pre">'path')</span></code> → ‘C:\my_data\qgis\shape.shp’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="layer-property">
<span id="expression-function-map-layers-layer-property"></span><h3><a class="toc-backref" href="#id375"><span class="section-number">12.2.15.2. </span>layer_property</a><a class="headerlink" href="#layer-property" title="Permalink to this headline"></a></h3>
<p>Returns a matching layer property or metadata value.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>layer_property(layer, property)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>layer</strong> - a string, representing either a layer name or layer ID</p></li>
<li><p><strong>property</strong> - a string corresponding to the property to return. Valid options are:</p>
<ul>
<li><p>name: layer name</p></li>
<li><p>id: layer ID</p></li>
<li><p>title: metadata title string</p></li>
<li><p>abstract: metadata abstract string</p></li>
<li><p>keywords: metadata keywords</p></li>
<li><p>data_url: metadata URL</p></li>
<li><p>attribution: metadata attribution string</p></li>
<li><p>attribution_url: metadata attribution URL</p></li>
<li><p>source: layer source</p></li>
<li><p>min_scale: minimum display scale for layer</p></li>
<li><p>max_scale: maximum display scale for layer</p></li>
<li><p>is_editable: if layer is in edit mode</p></li>
<li><p>crs: layer CRS</p></li>
<li><p>crs_definition: layer CRS full definition</p></li>
<li><p>crs_description: layer CRS description</p></li>
<li><p>extent: layer extent (as a geometry object)</p></li>
<li><p>distance_units: layer distance units</p></li>
<li><p>type: layer type, e.g., Vector or Raster</p></li>
<li><p>storage_type: storage format (vector layers only)</p></li>
<li><p>geometry_type: geometry type, e.g., Point (vector layers only)</p></li>
<li><p>feature_count: approximate feature count for layer (vector layers only)</p></li>
<li><p>path: File path to the layer data source. Only available for file based layers.</p></li>
</ul>
</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">layer_property('streets','title')</span></code> → ‘Basemap Streets’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">layer_property('airports','feature_count')</span></code> → 120</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">layer_property('landsat','crs')</span></code> → ‘EPSG:4326’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="../working_with_vector/vector_properties.html#vectorinformationmenu"><span class="std std-ref">vector</span></a>, <a class="reference internal" href="../working_with_raster/raster_properties.html#raster-information"><span class="std std-ref">raster</span></a>
and <a class="reference internal" href="../working_with_mesh/mesh_properties.html#mesh-information"><span class="std std-ref">mesh</span></a> layer properties</p>
</section>
</section>
<section id="maps-functions">
<span id="index-3"></span><span id="id41"></span><h2><a class="toc-backref" href="#id91"><span class="section-number">12.2.16. </span>Maps Functions</a><a class="headerlink" href="#maps-functions" title="Permalink to this headline"></a></h2>
<p>This group contains functions to create or manipulate keys and values of map
data structures (also known as dictionary objects, key-value pairs, or associative
arrays). Unlike the <a class="reference internal" href="#array-functions"><span class="std std-ref">list data structure</span></a> where values
order matters, the order of the key-value pairs in the map object is not relevant
and values are identified by their keys.</p>
<div class="contents toc-columns local topic" id="id42">
<ul class="simple">
<li><p><a class="reference internal" href="#from-json" id="id376">from_json</a></p></li>
<li><p><a class="reference internal" href="#hstore-to-map" id="id377">hstore_to_map</a></p></li>
<li><p><a class="reference internal" href="#map" id="id378">map</a></p></li>
<li><p><a class="reference internal" href="#map-akeys" id="id379">map_akeys</a></p></li>
<li><p><a class="reference internal" href="#map-avals" id="id380">map_avals</a></p></li>
<li><p><a class="reference internal" href="#map-concat" id="id381">map_concat</a></p></li>
<li><p><a class="reference internal" href="#map-delete" id="id382">map_delete</a></p></li>
<li><p><a class="reference internal" href="#map-exist" id="id383">map_exist</a></p></li>
<li><p><a class="reference internal" href="#map-get" id="id384">map_get</a></p></li>
<li><p><a class="reference internal" href="#map-insert" id="id385">map_insert</a></p></li>
<li><p><a class="reference internal" href="#map-to-hstore" id="id386">map_to_hstore</a></p></li>
<li><p><a class="reference internal" href="#to-json" id="id387">to_json</a></p></li>
</ul>
</div>
<section id="from-json">
<span id="expression-function-maps-from-json"></span><h3><a class="toc-backref" href="#id376"><span class="section-number">12.2.16.1. </span>from_json</a><a class="headerlink" href="#from-json" title="Permalink to this headline"></a></h3>
<p>Loads a JSON formatted string.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>from_json(string)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>string</strong> - JSON string</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">from_json('{&quot;qgis&quot;:&quot;rocks&quot;}')</span></code> → { ‘qgis’: ‘rocks’ }</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">from_json('[1,2,3]')</span></code> → [1,2,3]</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="hstore-to-map">
<span id="expression-function-maps-hstore-to-map"></span><h3><a class="toc-backref" href="#id377"><span class="section-number">12.2.16.2. </span>hstore_to_map</a><a class="headerlink" href="#hstore-to-map" title="Permalink to this headline"></a></h3>
<p>Creates a map from a hstore-formatted string.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>hstore_to_map(string)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>string</strong> - the input string</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">hstore_to_map('qgis=&gt;rocks')</span></code> → { ‘qgis’: ‘rocks’ }</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="map">
<span id="expression-function-maps-map"></span><h3><a class="toc-backref" href="#id378"><span class="section-number">12.2.16.3. </span>map</a><a class="headerlink" href="#map" title="Permalink to this headline"></a></h3>
<p>Returns a map containing all the keys and values passed as pair of parameters.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>map(key1, value1, key2, value2, …)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>key</strong> - a key (string)</p></li>
<li><p><strong>value</strong> - a value</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">map('1','one','2',</span> <span class="pre">'two')</span></code> → { ‘1’: ‘one’, ‘2’: ‘two’ }</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="map-akeys">
<span id="expression-function-maps-map-akeys"></span><h3><a class="toc-backref" href="#id379"><span class="section-number">12.2.16.4. </span>map_akeys</a><a class="headerlink" href="#map-akeys" title="Permalink to this headline"></a></h3>
<p>Returns all the keys of a map as an array.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>map_akeys(map)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>map</strong> - a map</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">map_akeys(map('1','one','2','two'))</span></code> → [ ‘1’, ‘2’ ]</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="map-avals">
<span id="expression-function-maps-map-avals"></span><h3><a class="toc-backref" href="#id380"><span class="section-number">12.2.16.5. </span>map_avals</a><a class="headerlink" href="#map-avals" title="Permalink to this headline"></a></h3>
<p>Returns all the values of a map as an array.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>map_avals(map)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>map</strong> - a map</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">map_avals(map('1','one','2','two'))</span></code> → [ ‘one’, ‘two’ ]</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="map-concat">
<span id="expression-function-maps-map-concat"></span><h3><a class="toc-backref" href="#id381"><span class="section-number">12.2.16.6. </span>map_concat</a><a class="headerlink" href="#map-concat" title="Permalink to this headline"></a></h3>
<p>Returns a map containing all the entries of the given maps. If two maps contain the same key, the value of the second map is taken.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>map_concat(map1, map2, …)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>map</strong> - a map</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">map_concat(map('1','one',</span> <span class="pre">'2','overridden'),map('2','two',</span> <span class="pre">'3','three'))</span></code> → { ‘1’: ‘one’, ‘2’: ‘two’, ‘3’: ‘three’ }</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="map-delete">
<span id="expression-function-maps-map-delete"></span><h3><a class="toc-backref" href="#id382"><span class="section-number">12.2.16.7. </span>map_delete</a><a class="headerlink" href="#map-delete" title="Permalink to this headline"></a></h3>
<p>Returns a map with the given key and its corresponding value deleted.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>map_delete(map, key)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>map</strong> - a map</p></li>
<li><p><strong>key</strong> - the key to delete</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">map_delete(map('1','one','2','two'),'2')</span></code> → { ‘1’: ‘one’ }</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="map-exist">
<span id="expression-function-maps-map-exist"></span><h3><a class="toc-backref" href="#id383"><span class="section-number">12.2.16.8. </span>map_exist</a><a class="headerlink" href="#map-exist" title="Permalink to this headline"></a></h3>
<p>Returns true if the given key exists in the map.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>map_exist(map, key)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>map</strong> - a map</p></li>
<li><p><strong>key</strong> - the key to lookup</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">map_exist(map('1','one','2','two'),'3')</span></code> → false</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="map-get">
<span id="expression-function-maps-map-get"></span><h3><a class="toc-backref" href="#id384"><span class="section-number">12.2.16.9. </span>map_get</a><a class="headerlink" href="#map-get" title="Permalink to this headline"></a></h3>
<p>Returns the value of a map, given its key. Returns NULL if the key does not exist.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>map_get(map, key)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>map</strong> - a map</p></li>
<li><p><strong>key</strong> - the key to lookup</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">map_get(map('1','one','2','two'),'2')</span></code> → ‘two’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">map_get(</span> <span class="pre">item_variables('Map</span> <span class="pre">0'),</span> <span class="pre">'map_scale')</span></code> → scale of the item ‘Map 0’ (if it exists) in the current print layout</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="#expression-function-operators-index"><span class="std std-ref">[]</span></a></p>
</section>
<section id="map-insert">
<span id="expression-function-maps-map-insert"></span><h3><a class="toc-backref" href="#id385"><span class="section-number">12.2.16.10. </span>map_insert</a><a class="headerlink" href="#map-insert" title="Permalink to this headline"></a></h3>
<p>Returns a map with an added key/value. If the key already exists, its value is overridden.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>map_insert(map, key, value)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>map</strong> - a map</p></li>
<li><p><strong>key</strong> - the key to add</p></li>
<li><p><strong>value</strong> - the value to add</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">map_insert(map('1','one'),'3','three')</span></code> → { ‘1’: ‘one’, ‘3’: ‘three’ }</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">map_insert(map('1','one','2','overridden'),'2','two')</span></code> → { ‘1’: ‘one’, ‘2’: ‘two’ }</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="map-to-hstore">
<span id="expression-function-maps-map-to-hstore"></span><h3><a class="toc-backref" href="#id386"><span class="section-number">12.2.16.11. </span>map_to_hstore</a><a class="headerlink" href="#map-to-hstore" title="Permalink to this headline"></a></h3>
<p>Merge map elements into a hstore-formatted string.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>map_to_hstore(map)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>map</strong> - the input map</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">map_to_hstore(map('qgis','rocks'))</span></code> → ‘“qgis”=&gt;”rocks”’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="to-json">
<span id="expression-function-maps-to-json"></span><h3><a class="toc-backref" href="#id387"><span class="section-number">12.2.16.12. </span>to_json</a><a class="headerlink" href="#to-json" title="Permalink to this headline"></a></h3>
<p>Create a JSON formatted string from a map, array or other value.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>to_json(value)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>value</strong> - The input value</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">to_json(map('qgis','rocks'))</span></code> → {“qgis”:”rocks”}</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">to_json(array(1,2,3))</span></code> → [1,2,3]</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="mathematical-functions">
<h2><a class="toc-backref" href="#id92"><span class="section-number">12.2.17. </span>Mathematical Functions</a><a class="headerlink" href="#mathematical-functions" title="Permalink to this headline"></a></h2>
<p>This group contains math functions (e.g., square root, sin and cos).</p>
<div class="contents toc-columns local topic" id="id43">
<ul class="simple">
<li><p><a class="reference internal" href="#abs" id="id388">abs</a></p></li>
<li><p><a class="reference internal" href="#acos" id="id389">acos</a></p></li>
<li><p><a class="reference internal" href="#asin" id="id390">asin</a></p></li>
<li><p><a class="reference internal" href="#atan" id="id391">atan</a></p></li>
<li><p><a class="reference internal" href="#atan2" id="id392">atan2</a></p></li>
<li><p><a class="reference internal" href="#expression-function-math-azimuth" id="id393">azimuth</a></p></li>
<li><p><a class="reference internal" href="#ceil" id="id394">ceil</a></p></li>
<li><p><a class="reference internal" href="#clamp" id="id395">clamp</a></p></li>
<li><p><a class="reference internal" href="#cos" id="id396">cos</a></p></li>
<li><p><a class="reference internal" href="#degrees" id="id397">degrees</a></p></li>
<li><p><a class="reference internal" href="#exp" id="id398">exp</a></p></li>
<li><p><a class="reference internal" href="#floor" id="id399">floor</a></p></li>
<li><p><a class="reference internal" href="#expression-function-math-inclination" id="id400">inclination</a></p></li>
<li><p><a class="reference internal" href="#ln" id="id401">ln</a></p></li>
<li><p><a class="reference internal" href="#log" id="id402">log</a></p></li>
<li><p><a class="reference internal" href="#log10" id="id403">log10</a></p></li>
<li><p><a class="reference internal" href="#max" id="id404">max</a></p></li>
<li><p><a class="reference internal" href="#min" id="id405">min</a></p></li>
<li><p><a class="reference internal" href="#pi" id="id406">pi</a></p></li>
<li><p><a class="reference internal" href="#radians" id="id407">radians</a></p></li>
<li><p><a class="reference internal" href="#rand" id="id408">rand</a></p></li>
<li><p><a class="reference internal" href="#randf" id="id409">randf</a></p></li>
<li><p><a class="reference internal" href="#round" id="id410">round</a></p></li>
<li><p><a class="reference internal" href="#scale-exp" id="id411">scale_exp</a></p></li>
<li><p><a class="reference internal" href="#scale-linear" id="id412">scale_linear</a></p></li>
<li><p><a class="reference internal" href="#sin" id="id413">sin</a></p></li>
<li><p><a class="reference internal" href="#sqrt" id="id414">sqrt</a></p></li>
<li><p><a class="reference internal" href="#tan" id="id415">tan</a></p></li>
</ul>
</div>
<section id="abs">
<span id="expression-function-math-abs"></span><h3><a class="toc-backref" href="#id388"><span class="section-number">12.2.17.1. </span>abs</a><a class="headerlink" href="#abs" title="Permalink to this headline"></a></h3>
<p>Returns the absolute value of a number.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>abs(value)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>value</strong> - a number</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">abs(-2)</span></code> → 2</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="acos">
<span id="expression-function-math-acos"></span><h3><a class="toc-backref" href="#id389"><span class="section-number">12.2.17.2. </span>acos</a><a class="headerlink" href="#acos" title="Permalink to this headline"></a></h3>
<p>Returns the inverse cosine of a value in radians.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>acos(value)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>value</strong> - cosine of an angle in radians</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">acos(0.5)</span></code> → 1.0471975511966</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="asin">
<span id="expression-function-math-asin"></span><h3><a class="toc-backref" href="#id390"><span class="section-number">12.2.17.3. </span>asin</a><a class="headerlink" href="#asin" title="Permalink to this headline"></a></h3>
<p>Returns the inverse sine of a value in radians.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>asin(value)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>value</strong> - sine of an angle in radians</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">asin(1.0)</span></code> → 1.5707963267949</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="atan">
<span id="expression-function-math-atan"></span><h3><a class="toc-backref" href="#id391"><span class="section-number">12.2.17.4. </span>atan</a><a class="headerlink" href="#atan" title="Permalink to this headline"></a></h3>
<p>Returns the inverse tangent of a value in radians.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>atan(value)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>value</strong> - tan of an angle in radians</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">atan(0.5)</span></code> → 0.463647609000806</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="atan2">
<span id="expression-function-math-atan2"></span><h3><a class="toc-backref" href="#id392"><span class="section-number">12.2.17.5. </span>atan2</a><a class="headerlink" href="#atan2" title="Permalink to this headline"></a></h3>
<p>Returns the inverse tangent of dy/dx by using the signs of the two arguments to determine the quadrant of the result.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>atan2(dy, dx)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>dy</strong> - y coordinate difference</p></li>
<li><p><strong>dx</strong> - x coordinate difference</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">atan2(1.0,</span> <span class="pre">1.732)</span></code> → 0.523611477769969</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="expression-function-math-azimuth">
<span id="id44"></span><h3><a class="toc-backref" href="#id393"><span class="section-number">12.2.17.6. </span>azimuth</a><a class="headerlink" href="#expression-function-math-azimuth" title="Permalink to this headline"></a></h3>
<p>Returns the north-based azimuth as the angle in radians measured clockwise from the vertical on point_a to point_b.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>azimuth(point_a, point_b)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>point_a</strong> - point geometry</p></li>
<li><p><strong>point_b</strong> - point geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">degrees(</span> <span class="pre">azimuth(</span> <span class="pre">make_point(25,</span> <span class="pre">45),</span> <span class="pre">make_point(75,</span> <span class="pre">100)</span> <span class="pre">)</span> <span class="pre">)</span></code> → 42.273689</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">degrees(</span> <span class="pre">azimuth(</span> <span class="pre">make_point(75,</span> <span class="pre">100),</span> <span class="pre">make_point(25,45)</span> <span class="pre">)</span> <span class="pre">)</span></code> → 222.273689</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="ceil">
<span id="expression-function-math-ceil"></span><h3><a class="toc-backref" href="#id394"><span class="section-number">12.2.17.7. </span>ceil</a><a class="headerlink" href="#ceil" title="Permalink to this headline"></a></h3>
<p>Rounds a number upwards.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>ceil(value)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>value</strong> - a number</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ceil(4.9)</span></code> → 5</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ceil(-4.9)</span></code> → -4</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="clamp">
<span id="expression-function-math-clamp"></span><h3><a class="toc-backref" href="#id395"><span class="section-number">12.2.17.8. </span>clamp</a><a class="headerlink" href="#clamp" title="Permalink to this headline"></a></h3>
<p>Restricts an input value to a specified range.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>clamp(minimum, input, maximum)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>minimum</strong> - the smallest value <em>input</em> is allowed to take.</p></li>
<li><p><strong>input</strong> - a value which will be restricted to the range specified by <em>minimum</em> and <em>maximum</em></p></li>
<li><p><strong>maximum</strong> - the largest value <em>input</em> is allowed to take</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">clamp(1,5,10)</span></code> → 5</p>
<p><em>input</em> is between 1 and 10 so is returned unchanged</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">clamp(1,0,10)</span></code> → 1</p>
<p><em>input</em> is less than minimum value of 1, so function returns 1</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">clamp(1,11,10)</span></code> → 10</p>
<p><em>input</em> is greater than maximum value of 10, so function returns 10</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="cos">
<span id="expression-function-math-cos"></span><h3><a class="toc-backref" href="#id396"><span class="section-number">12.2.17.9. </span>cos</a><a class="headerlink" href="#cos" title="Permalink to this headline"></a></h3>
<p>Returns cosine of an angle.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>cos(angle)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>angle</strong> - angle in radians</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cos(1.571)</span></code> → 0.000796326710733263</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="degrees">
<span id="expression-function-math-degrees"></span><h3><a class="toc-backref" href="#id397"><span class="section-number">12.2.17.10. </span>degrees</a><a class="headerlink" href="#degrees" title="Permalink to this headline"></a></h3>
<p>Converts from radians to degrees.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>degrees(radians)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>radians</strong> - numeric value</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">degrees(3.14159)</span></code> → 180</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">degrees(1)</span></code> → 57.2958</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="exp">
<span id="expression-function-math-exp"></span><h3><a class="toc-backref" href="#id398"><span class="section-number">12.2.17.11. </span>exp</a><a class="headerlink" href="#exp" title="Permalink to this headline"></a></h3>
<p>Returns exponential of an value.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>exp(value)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>value</strong> - number to return exponent of</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">exp(1.0)</span></code> → 2.71828182845905</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="floor">
<span id="expression-function-math-floor"></span><h3><a class="toc-backref" href="#id399"><span class="section-number">12.2.17.12. </span>floor</a><a class="headerlink" href="#floor" title="Permalink to this headline"></a></h3>
<p>Rounds a number downwards.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>floor(value)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>value</strong> - a number</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">floor(4.9)</span></code> → 4</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">floor(-4.9)</span></code> → -5</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="expression-function-math-inclination">
<span id="id45"></span><h3><a class="toc-backref" href="#id400"><span class="section-number">12.2.17.13. </span>inclination</a><a class="headerlink" href="#expression-function-math-inclination" title="Permalink to this headline"></a></h3>
<p>Returns the inclination measured from the zenith (0) to the nadir (180) on point_a to point_b.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>inclination(point_a, point_b)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>point_a</strong> - point geometry</p></li>
<li><p><strong>point_b</strong> - point geometry</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">inclination(</span> <span class="pre">make_point(</span> <span class="pre">5,</span> <span class="pre">10,</span> <span class="pre">0</span> <span class="pre">),</span> <span class="pre">make_point(</span> <span class="pre">5,</span> <span class="pre">10,</span> <span class="pre">5</span> <span class="pre">)</span> <span class="pre">)</span></code> → 0.0</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">inclination(</span> <span class="pre">make_point(</span> <span class="pre">5,</span> <span class="pre">10,</span> <span class="pre">0</span> <span class="pre">),</span> <span class="pre">make_point(</span> <span class="pre">5,</span> <span class="pre">10,</span> <span class="pre">0</span> <span class="pre">)</span> <span class="pre">)</span></code> → 90.0</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">inclination(</span> <span class="pre">make_point(</span> <span class="pre">5,</span> <span class="pre">10,</span> <span class="pre">0</span> <span class="pre">),</span> <span class="pre">make_point(</span> <span class="pre">50,</span> <span class="pre">100,</span> <span class="pre">0</span> <span class="pre">)</span> <span class="pre">)</span></code> → 90.0</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">inclination(</span> <span class="pre">make_point(</span> <span class="pre">5,</span> <span class="pre">10,</span> <span class="pre">0</span> <span class="pre">),</span> <span class="pre">make_point(</span> <span class="pre">5,</span> <span class="pre">10,</span> <span class="pre">-5</span> <span class="pre">)</span> <span class="pre">)</span></code> → 180.0</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="ln">
<span id="expression-function-math-ln"></span><h3><a class="toc-backref" href="#id401"><span class="section-number">12.2.17.14. </span>ln</a><a class="headerlink" href="#ln" title="Permalink to this headline"></a></h3>
<p>Returns the natural logarithm of a value.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>ln(value)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>value</strong> - numeric value</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ln(1)</span></code> → 0</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ln(2.7182818284590452354)</span></code> → 1</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="log">
<span id="expression-function-math-log"></span><h3><a class="toc-backref" href="#id402"><span class="section-number">12.2.17.15. </span>log</a><a class="headerlink" href="#log" title="Permalink to this headline"></a></h3>
<p>Returns the value of the logarithm of the passed value and base.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>log(base, value)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>base</strong> - any positive number</p></li>
<li><p><strong>value</strong> - any positive number</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">log(2,</span> <span class="pre">32)</span></code> → 5</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">log(0.5,</span> <span class="pre">32)</span></code> → -5</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="log10">
<span id="expression-function-math-log10"></span><h3><a class="toc-backref" href="#id403"><span class="section-number">12.2.17.16. </span>log10</a><a class="headerlink" href="#log10" title="Permalink to this headline"></a></h3>
<p>Returns the value of the base 10 logarithm of the passed expression.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>log10(value)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>value</strong> - any positive number</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">log10(1)</span></code> → 0</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">log10(100)</span></code> → 2</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="max">
<span id="expression-function-math-max"></span><h3><a class="toc-backref" href="#id404"><span class="section-number">12.2.17.17. </span>max</a><a class="headerlink" href="#max" title="Permalink to this headline"></a></h3>
<p>Returns the largest value in a set of values.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>max(value1, value2, …)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>value</strong> - a number</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">max(2,10.2,5.5)</span></code> → 10.2</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">max(20.5,NULL,6.2)</span></code> → 20.5</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="min">
<span id="expression-function-math-min"></span><h3><a class="toc-backref" href="#id405"><span class="section-number">12.2.17.18. </span>min</a><a class="headerlink" href="#min" title="Permalink to this headline"></a></h3>
<p>Returns the smallest value in a set of values.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>min(value1, value2, …)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>value</strong> - a number</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">min(20.5,10,6.2)</span></code> → 6.2</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">min(2,-10.3,NULL)</span></code> → -10.3</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="pi">
<span id="expression-function-math-pi"></span><h3><a class="toc-backref" href="#id406"><span class="section-number">12.2.17.19. </span>pi</a><a class="headerlink" href="#pi" title="Permalink to this headline"></a></h3>
<p>Returns value of pi for calculations.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>pi()</p></td>
</tr>
<tr class="row-even"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pi()</span></code> → 3.14159265358979</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="radians">
<span id="expression-function-math-radians"></span><h3><a class="toc-backref" href="#id407"><span class="section-number">12.2.17.20. </span>radians</a><a class="headerlink" href="#radians" title="Permalink to this headline"></a></h3>
<p>Converts from degrees to radians.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>radians(degrees)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>degrees</strong> - numeric value</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">radians(180)</span></code> → 3.14159</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radians(57.2958)</span></code> → 1</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="rand">
<span id="expression-function-math-rand"></span><h3><a class="toc-backref" href="#id408"><span class="section-number">12.2.17.21. </span>rand</a><a class="headerlink" href="#rand" title="Permalink to this headline"></a></h3>
<p>Returns a random integer within the range specified by the minimum and maximum argument (inclusive). If a seed is provided, the returned will always be the same, depending on the seed.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>rand(min, max, [seed=NULL])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>min</strong> - an integer representing the smallest possible random number desired</p></li>
<li><p><strong>max</strong> - an integer representing the largest possible random number desired</p></li>
<li><p><strong>seed</strong> - any value to use as seed</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rand(1,</span> <span class="pre">10)</span></code> → 8</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="randf">
<span id="expression-function-math-randf"></span><h3><a class="toc-backref" href="#id409"><span class="section-number">12.2.17.22. </span>randf</a><a class="headerlink" href="#randf" title="Permalink to this headline"></a></h3>
<p>Returns a random float within the range specified by the minimum and maximum argument (inclusive). If a seed is provided, the returned will always be the same, depending on the seed.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>randf([min=0.0], [max=1.0], [seed=NULL])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>min</strong> - an float representing the smallest possible random number desired</p></li>
<li><p><strong>max</strong> - an float representing the largest possible random number desired</p></li>
<li><p><strong>seed</strong> - any value to use as seed</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">randf(1,</span> <span class="pre">10)</span></code> → 4.59258286403147</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="round">
<span id="expression-function-math-round"></span><h3><a class="toc-backref" href="#id410"><span class="section-number">12.2.17.23. </span>round</a><a class="headerlink" href="#round" title="Permalink to this headline"></a></h3>
<p>Rounds a number to number of decimal places.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>round(value, [places=0])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>value</strong> - decimal number to be rounded</p></li>
<li><p><strong>places</strong> - Optional integer representing number of places to round decimals to. Can be negative.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">round(1234.567,</span> <span class="pre">2)</span></code> → 1234.57</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">round(1234.567)</span></code> → 1235</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="scale-exp">
<span id="expression-function-math-scale-exp"></span><h3><a class="toc-backref" href="#id411"><span class="section-number">12.2.17.24. </span>scale_exp</a><a class="headerlink" href="#scale-exp" title="Permalink to this headline"></a></h3>
<p>Transforms a given value from an input domain to an output range using an exponential curve. This function can be used to ease values in or out of the specified output range.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>scale_exp(value, domain_min, domain_max, range_min, range_max, exponent)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>value</strong> - A value in the input domain. The function will return a corresponding scaled value in the output range.</p></li>
<li><p><strong>domain_min</strong> - Specifies the minimum value in the input domain, the smallest value the input value should take.</p></li>
<li><p><strong>domain_max</strong> - Specifies the maximum value in the input domain, the largest value the input value should take.</p></li>
<li><p><strong>range_min</strong> - Specifies the minimum value in the output range, the smallest value which should be output by the function.</p></li>
<li><p><strong>range_max</strong> - Specifies the maximum value in the output range, the largest value which should be output by the function.</p></li>
<li><p><strong>exponent</strong> - A positive value (greater than 0), which dictates the way input values are mapped to the output range. Large exponents will cause the output values to ‘ease in’, starting slowly before accelerating as the input values approach the domain maximum. Smaller exponents (less than 1) will cause output values to ‘ease out’, where the mapping starts quickly but slows as it approaches the domain maximum.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">scale_exp(5,0,10,0,100,2)</span></code> → 25</p>
<p>easing in, using an exponent of 2</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">scale_exp(3,0,10,0,100,0.5)</span></code> → 54.772</p>
<p>easing out, using an exponent of 0.5</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="scale-linear">
<span id="expression-function-math-scale-linear"></span><h3><a class="toc-backref" href="#id412"><span class="section-number">12.2.17.25. </span>scale_linear</a><a class="headerlink" href="#scale-linear" title="Permalink to this headline"></a></h3>
<p>Transforms a given value from an input domain to an output range using linear interpolation.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>scale_linear(value, domain_min, domain_max, range_min, range_max)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>value</strong> - A value in the input domain. The function will return a corresponding scaled value in the output range.</p></li>
<li><p><strong>domain_min</strong> - Specifies the minimum value in the input domain, the smallest value the input value should take.</p></li>
<li><p><strong>domain_max</strong> - Specifies the maximum value in the input domain, the largest value the input value should take.</p></li>
<li><p><strong>range_min</strong> - Specifies the minimum value in the output range, the smallest value which should be output by the function.</p></li>
<li><p><strong>range_max</strong> - Specifies the maximum value in the output range, the largest value which should be output by the function.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">scale_linear(5,0,10,0,100)</span></code> → 50</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">scale_linear(0.2,0,1,0,360)</span></code> → 72</p>
<p>scaling a value between 0 and 1 to an angle between 0 and 360</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">scale_linear(1500,1000,10000,9,20)</span></code> → 9.6111111</p>
<p>scaling a population which varies between 1000 and 10000 to a font size between 9 and 20</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="sin">
<span id="expression-function-math-sin"></span><h3><a class="toc-backref" href="#id413"><span class="section-number">12.2.17.26. </span>sin</a><a class="headerlink" href="#sin" title="Permalink to this headline"></a></h3>
<p>Returns the sine of an angle.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>sin(angle)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>angle</strong> - angle in radians</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">sin(1.571)</span></code> → 0.999999682931835</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="sqrt">
<span id="expression-function-math-sqrt"></span><h3><a class="toc-backref" href="#id414"><span class="section-number">12.2.17.27. </span>sqrt</a><a class="headerlink" href="#sqrt" title="Permalink to this headline"></a></h3>
<p>Returns square root of a value.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>sqrt(value)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>value</strong> - a number</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">sqrt(9)</span></code> → 3</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="tan">
<span id="expression-function-math-tan"></span><h3><a class="toc-backref" href="#id415"><span class="section-number">12.2.17.28. </span>tan</a><a class="headerlink" href="#tan" title="Permalink to this headline"></a></h3>
<p>Returns the tangent of an angle.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>tan(angle)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>angle</strong> - angle in radians</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">tan(1.0)</span></code> → 1.5574077246549</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="meshes-functions">
<h2><a class="toc-backref" href="#id93"><span class="section-number">12.2.18. </span>Meshes Functions</a><a class="headerlink" href="#meshes-functions" title="Permalink to this headline"></a></h2>
<p>This group contains functions which calculate or return mesh related values.</p>
<div class="contents toc-columns local topic" id="id46">
<ul class="simple">
<li><p><a class="reference internal" href="#face-area" id="id416">$face_area</a></p></li>
<li><p><a class="reference internal" href="#face-index" id="id417">$face_index</a></p></li>
<li><p><a class="reference internal" href="#vertex-as-point" id="id418">$vertex_as_point</a></p></li>
<li><p><a class="reference internal" href="#vertex-index" id="id419">$vertex_index</a></p></li>
<li><p><a class="reference internal" href="#vertex-x" id="id420">$vertex_x</a></p></li>
<li><p><a class="reference internal" href="#vertex-y" id="id421">$vertex_y</a></p></li>
<li><p><a class="reference internal" href="#vertex-z" id="id422">$vertex_z</a></p></li>
</ul>
</div>
<section id="face-area">
<span id="expression-function-meshes-face-area"></span><h3><a class="toc-backref" href="#id416"><span class="section-number">12.2.18.1. </span>$face_area</a><a class="headerlink" href="#face-area" title="Permalink to this headline"></a></h3>
<p>Returns the area of the current mesh face. The area calculated by this function respects both the current project’s ellipsoid setting and area unit settings. For example, if an ellipsoid has been set for the project then the calculated area will be ellipsoidal, and if no ellipsoid is set then the calculated area will be planimetric.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>$face_area</p></td>
</tr>
<tr class="row-even"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$face_area</span></code> → 42</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="face-index">
<span id="expression-function-meshes-face-index"></span><h3><a class="toc-backref" href="#id417"><span class="section-number">12.2.18.2. </span>$face_index</a><a class="headerlink" href="#face-index" title="Permalink to this headline"></a></h3>
<p>Returns the index of the current mesh face.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>$face_index</p></td>
</tr>
<tr class="row-even"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$face_index</span></code> → 4581</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="vertex-as-point">
<span id="expression-function-meshes-vertex-as-point"></span><h3><a class="toc-backref" href="#id418"><span class="section-number">12.2.18.3. </span>$vertex_as_point</a><a class="headerlink" href="#vertex-as-point" title="Permalink to this headline"></a></h3>
<p>Returns the current vertex as a point geometry.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>$vertex_as_point</p></td>
</tr>
<tr class="row-even"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_to_wkt(</span> <span class="pre">$vertex_as_point</span> <span class="pre">)</span></code> → ‘POINT(800 1500 41)’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="vertex-index">
<span id="expression-function-meshes-vertex-index"></span><h3><a class="toc-backref" href="#id419"><span class="section-number">12.2.18.4. </span>$vertex_index</a><a class="headerlink" href="#vertex-index" title="Permalink to this headline"></a></h3>
<p>Returns the index of the current mesh vertex.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>$vertex_index</p></td>
</tr>
<tr class="row-even"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$vertex_index</span></code> → 9874</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="vertex-x">
<span id="expression-function-meshes-vertex-x"></span><h3><a class="toc-backref" href="#id420"><span class="section-number">12.2.18.5. </span>$vertex_x</a><a class="headerlink" href="#vertex-x" title="Permalink to this headline"></a></h3>
<p>Returns the X coordinate of the current mesh vertex.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>$vertex_x</p></td>
</tr>
<tr class="row-even"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$vertex_x</span></code> → 42.12</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="vertex-y">
<span id="expression-function-meshes-vertex-y"></span><h3><a class="toc-backref" href="#id421"><span class="section-number">12.2.18.6. </span>$vertex_y</a><a class="headerlink" href="#vertex-y" title="Permalink to this headline"></a></h3>
<p>Returns the Y coordinate of the current mesh vertex.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>$vertex_y</p></td>
</tr>
<tr class="row-even"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$vertex_y</span></code> → 12.24</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="vertex-z">
<span id="expression-function-meshes-vertex-z"></span><h3><a class="toc-backref" href="#id422"><span class="section-number">12.2.18.7. </span>$vertex_z</a><a class="headerlink" href="#vertex-z" title="Permalink to this headline"></a></h3>
<p>Returns the Z value of the current mesh vertex.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>$vertex_z</p></td>
</tr>
<tr class="row-even"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$vertex_z</span></code> → 42</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="operators">
<h2><a class="toc-backref" href="#id94"><span class="section-number">12.2.19. </span>Operators</a><a class="headerlink" href="#operators" title="Permalink to this headline"></a></h2>
<p>This group contains operators (e.g., +, -, *).
Note that for most of the mathematical functions below,
if one of the inputs is NULL then the result is NULL.</p>
<div class="contents toc-columns local topic" id="id47">
<ul class="simple">
<li><p><a class="reference internal" href="#id48" id="id423">%</a></p></li>
<li><p><a class="reference internal" href="#expression-function-operators-asterisk" id="id424">*</a></p></li>
<li><p><a class="reference internal" href="#expression-function-operators-plus" id="id425">+</a></p></li>
<li><p><a class="reference internal" href="#expression-function-operators-minus" id="id426">-</a></p></li>
<li><p><a class="reference internal" href="#id52" id="id427">/</a></p></li>
<li><p><a class="reference internal" href="#id53" id="id428">&lt;</a></p></li>
<li><p><a class="reference internal" href="#expression-function-operators-le" id="id429">&lt;=</a></p></li>
<li><p><a class="reference internal" href="#expression-function-operators-ne" id="id430">&lt;&gt;</a></p></li>
<li><p><a class="reference internal" href="#id56" id="id431">=</a></p></li>
<li><p><a class="reference internal" href="#id57" id="id432">&gt;</a></p></li>
<li><p><a class="reference internal" href="#expression-function-operators-ge" id="id433">&gt;=</a></p></li>
<li><p><a class="reference internal" href="#and" id="id434">AND</a></p></li>
<li><p><a class="reference internal" href="#ilike" id="id435">ILIKE</a></p></li>
<li><p><a class="reference internal" href="#in" id="id436">IN</a></p></li>
<li><p><a class="reference internal" href="#is" id="id437">IS</a></p></li>
<li><p><a class="reference internal" href="#is-not" id="id438">IS NOT</a></p></li>
<li><p><a class="reference internal" href="#like" id="id439">LIKE</a></p></li>
<li><p><a class="reference internal" href="#not" id="id440">NOT</a></p></li>
<li><p><a class="reference internal" href="#or" id="id441">OR</a></p></li>
<li><p><a class="reference internal" href="#expression-function-operators-index" id="id442">[]</a></p></li>
<li><p><a class="reference internal" href="#id60" id="id443">^</a></p></li>
<li><p><a class="reference internal" href="#expression-function-operators-concat" id="id444">||</a></p></li>
<li><p><a class="reference internal" href="#id62" id="id445">~</a></p></li>
</ul>
</div>
<section id="id48">
<h3><a class="toc-backref" href="#id423"><span class="section-number">12.2.19.1. </span>%</a><a class="headerlink" href="#id48" title="Permalink to this headline"></a></h3>
<p>Remainder of division</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>a % b</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>a</strong> - value</p></li>
<li><p><strong>b</strong> - value</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">5</span> <span class="pre">%</span> <span class="pre">4</span></code> → 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">5</span> <span class="pre">%</span> <span class="pre">NULL</span></code> → NULL</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="expression-function-operators-asterisk">
<span id="id49"></span><h3><a class="toc-backref" href="#id424"><span class="section-number">12.2.19.2. </span>*</a><a class="headerlink" href="#expression-function-operators-asterisk" title="Permalink to this headline"></a></h3>
<p>Multiplication of two values</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>a * b</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>a</strong> - value</p></li>
<li><p><strong>b</strong> - value</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">5</span> <span class="pre">*</span> <span class="pre">4</span></code> → 20</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">5</span> <span class="pre">*</span> <span class="pre">NULL</span></code> → NULL</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="expression-function-operators-plus">
<span id="id50"></span><h3><a class="toc-backref" href="#id425"><span class="section-number">12.2.19.3. </span>+</a><a class="headerlink" href="#expression-function-operators-plus" title="Permalink to this headline"></a></h3>
<p>Addition of two values. If one of the values is NULL the result will be NULL.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>a + b</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>a</strong> - value</p></li>
<li><p><strong>b</strong> - value</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">5</span> <span class="pre">+</span> <span class="pre">4</span></code> → 9</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">5</span> <span class="pre">+</span> <span class="pre">NULL</span></code> → NULL</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'QGIS</span> <span class="pre">'</span> <span class="pre">+</span> <span class="pre">'ROCKS'</span></code> → ‘QGIS ROCKS’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">to_datetime('2020-08-01</span> <span class="pre">12:00:00')</span> <span class="pre">+</span> <span class="pre">'1</span> <span class="pre">day</span> <span class="pre">2</span> <span class="pre">hours'</span></code> → 2020-08-02T14:00:00</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="#expression-function-string-concat"><span class="std std-ref">concat</span></a>,
<a class="reference internal" href="#expression-function-operators-concat"><span class="std std-ref">||</span></a></p>
</section>
<section id="expression-function-operators-minus">
<span id="id51"></span><h3><a class="toc-backref" href="#id426"><span class="section-number">12.2.19.4. </span>-</a><a class="headerlink" href="#expression-function-operators-minus" title="Permalink to this headline"></a></h3>
<p>Subtraction of two values. If one of the values is NULL the result will be NULL.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>a - b</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>a</strong> - value</p></li>
<li><p><strong>b</strong> - value</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">5</span> <span class="pre">-</span> <span class="pre">4</span></code> → 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">5</span> <span class="pre">-</span> <span class="pre">NULL</span></code> → NULL</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">to_datetime('2012-05-05</span> <span class="pre">12:00:00')</span> <span class="pre">-</span> <span class="pre">to_interval('1</span> <span class="pre">day</span> <span class="pre">2</span> <span class="pre">hours')</span></code> → 2012-05-04T10:00:00</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="id52">
<h3><a class="toc-backref" href="#id427"><span class="section-number">12.2.19.5. </span>/</a><a class="headerlink" href="#id52" title="Permalink to this headline"></a></h3>
<p>Division of two values</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>a / b</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>a</strong> - value</p></li>
<li><p><strong>b</strong> - value</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">5</span> <span class="pre">/</span> <span class="pre">4</span></code> → 1.25</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">5</span> <span class="pre">/</span> <span class="pre">NULL</span></code> → NULL</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="id53">
<h3><a class="toc-backref" href="#id428"><span class="section-number">12.2.19.6. </span>&lt;</a><a class="headerlink" href="#id53" title="Permalink to this headline"></a></h3>
<p>Compares two values and evaluates to 1 if the left value is less than the right value.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>a &lt; b</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>a</strong> - value</p></li>
<li><p><strong>b</strong> - value</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">5</span> <span class="pre">&lt;</span> <span class="pre">4</span></code> → 0</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">5</span> <span class="pre">&lt;</span> <span class="pre">5</span></code> → 0</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4</span> <span class="pre">&lt;</span> <span class="pre">5</span></code> → 1</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="expression-function-operators-le">
<span id="id54"></span><h3><a class="toc-backref" href="#id429"><span class="section-number">12.2.19.7. </span>&lt;=</a><a class="headerlink" href="#expression-function-operators-le" title="Permalink to this headline"></a></h3>
<p>Compares two values and evaluates to 1 if the left value is less or equal than the right value.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>a &lt;= b</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>a</strong> - value</p></li>
<li><p><strong>b</strong> - value</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">5</span> <span class="pre">&lt;=</span> <span class="pre">4</span></code> → 0</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">5</span> <span class="pre">&lt;=</span> <span class="pre">5</span></code> → 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4</span> <span class="pre">&lt;=</span> <span class="pre">5</span></code> → 1</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="expression-function-operators-ne">
<span id="id55"></span><h3><a class="toc-backref" href="#id430"><span class="section-number">12.2.19.8. </span>&lt;&gt;</a><a class="headerlink" href="#expression-function-operators-ne" title="Permalink to this headline"></a></h3>
<p>Compares two values and evaluates to 1 if they are not equal.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>a &lt;&gt; b</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>a</strong> - value</p></li>
<li><p><strong>b</strong> - value</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">5</span> <span class="pre">&lt;&gt;</span> <span class="pre">4</span></code> → 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4</span> <span class="pre">&lt;&gt;</span> <span class="pre">4</span></code> → 0</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">5</span> <span class="pre">&lt;&gt;</span> <span class="pre">NULL</span></code> → NULL</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NULL</span> <span class="pre">&lt;&gt;</span> <span class="pre">NULL</span></code> → NULL</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="id56">
<h3><a class="toc-backref" href="#id431"><span class="section-number">12.2.19.9. </span>=</a><a class="headerlink" href="#id56" title="Permalink to this headline"></a></h3>
<p>Compares two values and evaluates to 1 if they are equal.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>a = b</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>a</strong> - value</p></li>
<li><p><strong>b</strong> - value</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">5</span> <span class="pre">=</span> <span class="pre">4</span></code> → 0</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4</span> <span class="pre">=</span> <span class="pre">4</span></code> → 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">5</span> <span class="pre">=</span> <span class="pre">NULL</span></code> → NULL</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NULL</span> <span class="pre">=</span> <span class="pre">NULL</span></code> → NULL</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="id57">
<h3><a class="toc-backref" href="#id432"><span class="section-number">12.2.19.10. </span>&gt;</a><a class="headerlink" href="#id57" title="Permalink to this headline"></a></h3>
<p>Compares two values and evaluates to 1 if the left value is greater than the right value.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>a &gt; b</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>a</strong> - value</p></li>
<li><p><strong>b</strong> - value</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">5</span> <span class="pre">&gt;</span> <span class="pre">4</span></code> → 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">5</span> <span class="pre">&gt;</span> <span class="pre">5</span></code> → 0</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4</span> <span class="pre">&gt;</span> <span class="pre">5</span></code> → 0</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="expression-function-operators-ge">
<span id="id58"></span><h3><a class="toc-backref" href="#id433"><span class="section-number">12.2.19.11. </span>&gt;=</a><a class="headerlink" href="#expression-function-operators-ge" title="Permalink to this headline"></a></h3>
<p>Compares two values and evaluates to 1 if the left value is greater or equal than the right value.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>a &gt;= b</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>a</strong> - value</p></li>
<li><p><strong>b</strong> - value</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">5</span> <span class="pre">&gt;=</span> <span class="pre">4</span></code> → 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">5</span> <span class="pre">&gt;=</span> <span class="pre">5</span></code> → 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4</span> <span class="pre">&gt;=</span> <span class="pre">5</span></code> → 0</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="and">
<span id="expression-function-operators-and"></span><h3><a class="toc-backref" href="#id434"><span class="section-number">12.2.19.12. </span>AND</a><a class="headerlink" href="#and" title="Permalink to this headline"></a></h3>
<p>Returns 1 when condition a and b are true.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>a AND b</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>a</strong> - condition</p></li>
<li><p><strong>b</strong> - condition</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">TRUE</span> <span class="pre">AND</span> <span class="pre">TRUE</span></code> → 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TRUE</span> <span class="pre">AND</span> <span class="pre">FALSE</span></code> → 0</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4</span> <span class="pre">=</span> <span class="pre">2+2</span> <span class="pre">AND</span> <span class="pre">1</span> <span class="pre">=</span> <span class="pre">1</span></code> → 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4</span> <span class="pre">=</span> <span class="pre">2+2</span> <span class="pre">AND</span> <span class="pre">1</span> <span class="pre">=</span> <span class="pre">2</span></code> → 0</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="ilike">
<span id="expression-function-operators-ilike"></span><h3><a class="toc-backref" href="#id435"><span class="section-number">12.2.19.13. </span>ILIKE</a><a class="headerlink" href="#ilike" title="Permalink to this headline"></a></h3>
<p>Returns 1 if the first parameter matches case-insensitive the supplied pattern. LIKE can be used instead of ILIKE to make the match case-sensitive. Works with numbers also.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>string/number ILIKE pattern</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>string/number</strong> - string to search</p></li>
<li><p><strong>pattern</strong> - pattern to find, you can use ‘%’ as a wildcard, ‘_’ as a single char and ‘\’ to escape.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">'A'</span> <span class="pre">ILIKE</span> <span class="pre">'A'</span></code> → 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'A'</span> <span class="pre">ILIKE</span> <span class="pre">'a'</span></code> → 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'A'</span> <span class="pre">ILIKE</span> <span class="pre">'B'</span></code> → 0</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'ABC'</span> <span class="pre">ILIKE</span> <span class="pre">'b'</span></code> → 0</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'ABC'</span> <span class="pre">ILIKE</span> <span class="pre">'B'</span></code> → 0</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'ABC'</span> <span class="pre">ILIKE</span> <span class="pre">'_b_'</span></code> → 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'ABC'</span> <span class="pre">ILIKE</span> <span class="pre">'_B_'</span></code> → 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'ABCD'</span> <span class="pre">ILIKE</span> <span class="pre">'_b_'</span></code> → 0</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'ABCD'</span> <span class="pre">ILIKE</span> <span class="pre">'_B_'</span></code> → 0</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'ABCD'</span> <span class="pre">ILIKE</span> <span class="pre">'_b%'</span></code> → 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'ABCD'</span> <span class="pre">ILIKE</span> <span class="pre">'_B%'</span></code> → 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'ABCD'</span> <span class="pre">ILIKE</span> <span class="pre">'%b%'</span></code> → 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'ABCD'</span> <span class="pre">ILIKE</span> <span class="pre">'%B%'</span></code> → 1</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="in">
<span id="expression-function-operators-in"></span><h3><a class="toc-backref" href="#id436"><span class="section-number">12.2.19.14. </span>IN</a><a class="headerlink" href="#in" title="Permalink to this headline"></a></h3>
<p>Returns 1 if value is found within a list of values.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>a IN b</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>a</strong> - value</p></li>
<li><p><strong>b</strong> - list of values</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">'A'</span> <span class="pre">IN</span> <span class="pre">('A','B')</span></code> → 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'A'</span> <span class="pre">IN</span> <span class="pre">('C','B')</span></code> → 0</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="is">
<span id="expression-function-operators-is"></span><h3><a class="toc-backref" href="#id437"><span class="section-number">12.2.19.15. </span>IS</a><a class="headerlink" href="#is" title="Permalink to this headline"></a></h3>
<p>Returns 1 if a is the same as b.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>a IS b</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>a</strong> - any value</p></li>
<li><p><strong>b</strong> - any value</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">'A'</span> <span class="pre">IS</span> <span class="pre">'A'</span></code> → 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'A'</span> <span class="pre">IS</span> <span class="pre">'a'</span></code> → 0</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4</span> <span class="pre">IS</span> <span class="pre">4</span></code> → 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4</span> <span class="pre">IS</span> <span class="pre">2+2</span></code> → 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4</span> <span class="pre">IS</span> <span class="pre">2</span></code> → 0</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$geometry</span> <span class="pre">IS</span> <span class="pre">NULL</span></code> → 0, if your geometry is not NULL</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="is-not">
<span id="expression-function-operators-is-not"></span><h3><a class="toc-backref" href="#id438"><span class="section-number">12.2.19.16. </span>IS NOT</a><a class="headerlink" href="#is-not" title="Permalink to this headline"></a></h3>
<p>Returns 1 if a is not the same as b.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>a IS NOT b</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>a</strong> - value</p></li>
<li><p><strong>b</strong> - value</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">'a'</span> <span class="pre">IS</span> <span class="pre">NOT</span> <span class="pre">'b'</span></code> → 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'a'</span> <span class="pre">IS</span> <span class="pre">NOT</span> <span class="pre">'a'</span></code> → 0</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4</span> <span class="pre">IS</span> <span class="pre">NOT</span> <span class="pre">2+2</span></code> → 0</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="like">
<span id="expression-function-operators-like"></span><h3><a class="toc-backref" href="#id439"><span class="section-number">12.2.19.17. </span>LIKE</a><a class="headerlink" href="#like" title="Permalink to this headline"></a></h3>
<p>Returns 1 if the first parameter matches the supplied pattern. Works with numbers also.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>string/number LIKE pattern</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>string/number</strong> - value</p></li>
<li><p><strong>pattern</strong> - pattern to compare value with, you can use ‘%’ as a wildcard, ‘_’ as a single char and ‘\’ to escape.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">'A'</span> <span class="pre">LIKE</span> <span class="pre">'A'</span></code> → 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'A'</span> <span class="pre">LIKE</span> <span class="pre">'a'</span></code> → 0</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'A'</span> <span class="pre">LIKE</span> <span class="pre">'B'</span></code> → 0</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'ABC'</span> <span class="pre">LIKE</span> <span class="pre">'B'</span></code> → 0</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'ABC'</span> <span class="pre">LIKE</span> <span class="pre">'_B_'</span></code> → 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'ABCD'</span> <span class="pre">LIKE</span> <span class="pre">'_B_'</span></code> → 0</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'ABCD'</span> <span class="pre">LIKE</span> <span class="pre">'_B%'</span></code> → 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'ABCD'</span> <span class="pre">LIKE</span> <span class="pre">'%B%'</span></code> → 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'1%'</span> <span class="pre">LIKE</span> <span class="pre">'1\%'</span></code> → 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'1_'</span> <span class="pre">LIKE</span> <span class="pre">'1\%'</span></code> → 0</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="not">
<span id="expression-function-operators-not"></span><h3><a class="toc-backref" href="#id440"><span class="section-number">12.2.19.18. </span>NOT</a><a class="headerlink" href="#not" title="Permalink to this headline"></a></h3>
<p>Negates a condition.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>NOT a</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>a</strong> - condition</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">NOT</span> <span class="pre">1</span></code> → 0</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NOT</span> <span class="pre">0</span></code> → 1</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="or">
<span id="expression-function-operators-or"></span><h3><a class="toc-backref" href="#id441"><span class="section-number">12.2.19.19. </span>OR</a><a class="headerlink" href="#or" title="Permalink to this headline"></a></h3>
<p>Returns 1 when condition a or b is true.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>a OR b</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>a</strong> - condition</p></li>
<li><p><strong>b</strong> - condition</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">4</span> <span class="pre">=</span> <span class="pre">2+2</span> <span class="pre">OR</span> <span class="pre">1</span> <span class="pre">=</span> <span class="pre">1</span></code> → 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4</span> <span class="pre">=</span> <span class="pre">2+2</span> <span class="pre">OR</span> <span class="pre">1</span> <span class="pre">=</span> <span class="pre">2</span></code> → 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4</span> <span class="pre">=</span> <span class="pre">2</span>&#160;&#160; <span class="pre">OR</span> <span class="pre">1</span> <span class="pre">=</span> <span class="pre">2</span></code> → 0</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="expression-function-operators-index">
<span id="id59"></span><h3><a class="toc-backref" href="#id442"><span class="section-number">12.2.19.20. </span>[]</a><a class="headerlink" href="#expression-function-operators-index" title="Permalink to this headline"></a></h3>
<p>Index operator. Returns an element from an array or map value.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>[index]</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>index</strong> - array index or map key value</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">array(1,2,3)[0]</span></code> → 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">array(1,2,3)[2]</span></code> → 3</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">array(1,2,3)[-1]</span></code> → 3</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">map('a',1,'b',2)['a']</span></code> → 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">map('a',1,'b',2)['b']</span></code> → 2</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="#expression-function-arrays-array-get"><span class="std std-ref">array_get</span></a>,
<a class="reference internal" href="#expression-function-maps-map-get"><span class="std std-ref">map_get</span></a></p>
</section>
<section id="id60">
<h3><a class="toc-backref" href="#id443"><span class="section-number">12.2.19.21. </span>^</a><a class="headerlink" href="#id60" title="Permalink to this headline"></a></h3>
<p>Power of two values.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>a ^ b</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>a</strong> - value</p></li>
<li><p><strong>b</strong> - value</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">5</span> <span class="pre">^</span> <span class="pre">4</span></code> → 625</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">5</span> <span class="pre">^</span> <span class="pre">NULL</span></code> → NULL</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="expression-function-operators-concat">
<span id="id61"></span><h3><a class="toc-backref" href="#id444"><span class="section-number">12.2.19.22. </span>||</a><a class="headerlink" href="#expression-function-operators-concat" title="Permalink to this headline"></a></h3>
<p>Joins two values together into a string.</p>
<p>If one of the values is NULL the result will be NULL. See the CONCAT function for a different behavior.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>a || b</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>a</strong> - value</p></li>
<li><p><strong>b</strong> - value</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">'Here'</span> <span class="pre">||</span> <span class="pre">'</span> <span class="pre">and</span> <span class="pre">'</span> <span class="pre">||</span> <span class="pre">'there'</span></code> → ‘Here and there’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'Nothing'</span> <span class="pre">||</span> <span class="pre">NULL</span></code> → NULL</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'Dia:</span> <span class="pre">'</span> <span class="pre">||</span> <span class="pre">&quot;Diameter&quot;</span></code> → ‘Dia: 25’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">||</span> <span class="pre">2</span></code> → ‘12’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="#expression-function-string-concat"><span class="std std-ref">concat</span></a>,
<a class="reference internal" href="#expression-function-operators-plus"><span class="std std-ref">+</span></a></p>
</section>
<section id="id62">
<h3><a class="toc-backref" href="#id445"><span class="section-number">12.2.19.23. </span>~</a><a class="headerlink" href="#id62" title="Permalink to this headline"></a></h3>
<p>Performs a regular expression match on a string value. Backslash characters must be double escaped (e.g., “\\s” to match a white space character).</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>string ~ regex</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>string</strong> - A string value</p></li>
<li><p><strong>regex</strong> - A regular expression. Slashes must be escaped, eg \\d.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">'hello'</span> <span class="pre">~</span> <span class="pre">'ll'</span></code> → 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'hello'</span> <span class="pre">~</span> <span class="pre">'^ll'</span></code> → 0</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'hello'</span> <span class="pre">~</span> <span class="pre">'llo$'</span></code> → 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'abc123'</span> <span class="pre">~</span> <span class="pre">'\\d+'</span></code> → 1</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="#expression-function-string-regexp-match"><span class="std std-ref">regexp_match</span></a></p>
</section>
</section>
<section id="processing-functions">
<span id="id63"></span><h2><a class="toc-backref" href="#id95"><span class="section-number">12.2.20. </span>Processing Functions</a><a class="headerlink" href="#processing-functions" title="Permalink to this headline"></a></h2>
<p>This group contains functions that operate on processing algorithms.</p>
<div class="contents local topic" id="id64">
<ul class="simple">
<li><p><a class="reference internal" href="#parameter" id="id446">parameter</a></p></li>
</ul>
</div>
<section id="parameter">
<span id="expression-function-processing-parameter"></span><h3><a class="toc-backref" href="#id446"><span class="section-number">12.2.20.1. </span>parameter</a><a class="headerlink" href="#parameter" title="Permalink to this headline"></a></h3>
<p>Returns the value of a processing algorithm input parameter.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>parameter(name)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>name</strong> - name of the corresponding input parameter</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">parameter('BUFFER_SIZE')</span></code> → 5.6</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="rasters-functions">
<span id="raster-functions"></span><h2><a class="toc-backref" href="#id96"><span class="section-number">12.2.21. </span>Rasters Functions</a><a class="headerlink" href="#rasters-functions" title="Permalink to this headline"></a></h2>
<p>This group contains functions to operate on raster layer.</p>
<div class="contents local topic" id="id65">
<ul class="simple">
<li><p><a class="reference internal" href="#raster-statistic" id="id447">raster_statistic</a></p></li>
<li><p><a class="reference internal" href="#raster-value" id="id448">raster_value</a></p></li>
</ul>
</div>
<section id="raster-statistic">
<span id="expression-function-rasters-raster-statistic"></span><h3><a class="toc-backref" href="#id447"><span class="section-number">12.2.21.1. </span>raster_statistic</a><a class="headerlink" href="#raster-statistic" title="Permalink to this headline"></a></h3>
<p>Returns statistics from a raster layer.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>raster_statistic(layer, band, property)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>layer</strong> - a string, representing either a raster layer name or layer ID</p></li>
<li><p><strong>band</strong> - integer representing the band number from the raster layer, starting at 1</p></li>
<li><p><strong>property</strong> - a string corresponding to the property to return. Valid options are:</p>
<ul>
<li><p>min: minimum value</p></li>
<li><p>max: maximum value</p></li>
<li><p>avg: average (mean) value</p></li>
<li><p>stdev: standard deviation of values</p></li>
<li><p>range: range of values (max - min)</p></li>
<li><p>sum: sum of all values from raster</p></li>
</ul>
</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">raster_statistic('lc',1,'avg')</span></code> → Average value from band 1 from ‘lc’ raster layer</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">raster_statistic('ac2010',3,'min')</span></code> → Minimum value from band 3 from ‘ac2010’ raster layer</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="raster-value">
<span id="expression-function-rasters-raster-value"></span><h3><a class="toc-backref" href="#id448"><span class="section-number">12.2.21.2. </span>raster_value</a><a class="headerlink" href="#raster-value" title="Permalink to this headline"></a></h3>
<p>Returns the raster value found at the provided point.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>raster_value(layer, band, point)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>layer</strong> - the name or id of a raster layer</p></li>
<li><p><strong>band</strong> - the band number to sample the value from.</p></li>
<li><p><strong>point</strong> - point geometry (for multipart geometries having more than one part, a NULL value will be returned)</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">raster_value('dem',</span> <span class="pre">1,</span> <span class="pre">make_point(1,1))</span></code> → 25</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="record-and-attributes-functions">
<span id="record-attributes"></span><h2><a class="toc-backref" href="#id97"><span class="section-number">12.2.22. </span>Record and Attributes Functions</a><a class="headerlink" href="#record-and-attributes-functions" title="Permalink to this headline"></a></h2>
<p>This group contains functions that operate on record identifiers.</p>
<div class="contents toc-columns local topic" id="id66">
<ul class="simple">
<li><p><a class="reference internal" href="#attribute" id="id449">attribute</a></p></li>
<li><p><a class="reference internal" href="#attributes" id="id450">attributes</a></p></li>
<li><p><a class="reference internal" href="#currentfeature" id="id451">$currentfeature</a></p></li>
<li><p><a class="reference internal" href="#display-expression" id="id452">display_expression</a></p></li>
<li><p><a class="reference internal" href="#get-feature" id="id453">get_feature</a></p></li>
<li><p><a class="reference internal" href="#get-feature-by-id" id="id454">get_feature_by_id</a></p></li>
<li><p><a class="reference internal" href="#expression-function-record-and-attributes-id" id="id455">$id</a></p></li>
<li><p><a class="reference internal" href="#is-selected" id="id456">is_selected</a></p></li>
<li><p><a class="reference internal" href="#maptip" id="id457">maptip</a></p></li>
<li><p><a class="reference internal" href="#num-selected" id="id458">num_selected</a></p></li>
<li><p><a class="reference internal" href="#represent-value" id="id459">represent_value</a></p></li>
<li><p><a class="reference internal" href="#sqlite-fetch-and-increment" id="id460">sqlite_fetch_and_increment</a></p></li>
<li><p><a class="reference internal" href="#uuid" id="id461">uuid</a></p></li>
</ul>
</div>
<section id="attribute">
<span id="expression-function-record-and-attributes-attribute"></span><h3><a class="toc-backref" href="#id449"><span class="section-number">12.2.22.1. </span>attribute</a><a class="headerlink" href="#attribute" title="Permalink to this headline"></a></h3>
<p>Returns an attribute from a feature.</p>
<p><strong>Variant 1</strong></p>
<p>Returns the value of an attribute from the current feature.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>attribute(attribute_name)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>attribute_name</strong> - name of attribute to be returned</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">attribute(</span> <span class="pre">'name'</span> <span class="pre">)</span></code> → value stored in ‘name’ attribute for the current feature</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Variant 2</strong></p>
<p>Allows the target feature and attribute name to be specified.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>attribute(feature, attribute_name)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>feature</strong> - a feature</p></li>
<li><p><strong>attribute_name</strong> - name of attribute to be returned</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">attribute(</span> <span class="pre">&#64;atlas_feature,</span> <span class="pre">'name'</span> <span class="pre">)</span></code> → value stored in ‘name’ attribute for the current atlas feature</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="attributes">
<span id="expression-function-record-and-attributes-attributes"></span><h3><a class="toc-backref" href="#id450"><span class="section-number">12.2.22.2. </span>attributes</a><a class="headerlink" href="#attributes" title="Permalink to this headline"></a></h3>
<p>Returns a map containing all attributes from a feature, with field names as map keys.</p>
<p><strong>Variant 1</strong></p>
<p>Returns a map of all attributes from the current feature.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>attributes()</p></td>
</tr>
<tr class="row-even"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">attributes()['name']</span></code> → value stored in ‘name’ attribute for the current feature</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Variant 2</strong></p>
<p>Allows the target feature to be specified.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>attributes(feature)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>feature</strong> - a feature</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">attributes(</span> <span class="pre">&#64;atlas_feature</span> <span class="pre">)['name']</span></code> → value stored in ‘name’ attribute for the current atlas feature</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="#maps-functions"><span class="std std-ref">Maps Functions</span></a></p>
</section>
<section id="currentfeature">
<span id="expression-function-record-and-attributes-currentfeature"></span><h3><a class="toc-backref" href="#id451"><span class="section-number">12.2.22.3. </span>$currentfeature</a><a class="headerlink" href="#currentfeature" title="Permalink to this headline"></a></h3>
<p>Returns the current feature being evaluated. This can be used with the ‘attribute’ function to evaluate attribute values from the current feature.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>$currentfeature</p></td>
</tr>
<tr class="row-even"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">attribute(</span> <span class="pre">$currentfeature,</span> <span class="pre">'name'</span> <span class="pre">)</span></code> → value stored in ‘name’ attribute for the current feature</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="display-expression">
<span id="expression-function-record-and-attributes-display-expression"></span><h3><a class="toc-backref" href="#id452"><span class="section-number">12.2.22.4. </span>display_expression</a><a class="headerlink" href="#display-expression" title="Permalink to this headline"></a></h3>
<p>Returns the display expression for a given feature in a layer. The expression is evaluated by default. Can be used with zero, one or more arguments, see below for details.</p>
<p><strong>No parameters</strong></p>
<p>If called with no parameters, the function will evaluate the display expression of the current feature in the current layer.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>display_expression()</p></td>
</tr>
<tr class="row-even"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">display_expression()</span></code> → The display expression of the current feature in the current layer.</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>One ‘feature’ parameter</strong></p>
<p>If called with a ‘feature’ parameter only, the function will evaluate the specified feature from the current layer.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>display_expression(feature)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>feature</strong> - The feature which should be evaluated.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">display_expression(&#64;atlas_feature)</span></code> → The display expression of the current atlas feature.</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Layer and feature parameters</strong></p>
<p>If the function is called with both a layer and a feature, it will evaluate the specified feature from the specified layer.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>display_expression(layer, feature, [evaluate=true])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>layer</strong> - The layer (or its ID or name)</p></li>
<li><p><strong>feature</strong> - The feature which should be evaluated.</p></li>
<li><p><strong>evaluate</strong> - If the expression must be evaluated. If false, the expression will be returned as a string literal only (which could potentially be later evaluated using the ‘eval’ function).</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">display_expression(</span> <span class="pre">'streets',</span> <span class="pre">get_feature_by_id('streets',</span> <span class="pre">1))</span></code> → The display expression of the feature with the ID 1 on the layer ‘streets’.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">display_expression('a_layer_id',</span> <span class="pre">$currentfeature,</span> <span class="pre">'False')</span></code> → The display expression of the given feature not evaluated.</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="get-feature">
<span id="expression-function-record-and-attributes-get-feature"></span><h3><a class="toc-backref" href="#id453"><span class="section-number">12.2.22.5. </span>get_feature</a><a class="headerlink" href="#get-feature" title="Permalink to this headline"></a></h3>
<p>Returns the first feature of a layer matching a given attribute value.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>get_feature(layer, attribute, value)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>layer</strong> - layer name or ID</p></li>
<li><p><strong>attribute</strong> - attribute name</p></li>
<li><p><strong>value</strong> - attribute value to match</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">get_feature('streets','name','main</span> <span class="pre">st')</span></code> → first feature found in “streets” layer with “main st” value in the “name” field</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="get-feature-by-id">
<span id="expression-function-record-and-attributes-get-feature-by-id"></span><h3><a class="toc-backref" href="#id454"><span class="section-number">12.2.22.6. </span>get_feature_by_id</a><a class="headerlink" href="#get-feature-by-id" title="Permalink to this headline"></a></h3>
<p>Returns the feature with an id on a layer.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>get_feature_by_id(layer, feature_id)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>layer</strong> - layer, layer name or layer id</p></li>
<li><p><strong>feature_id</strong> - the id of the feature which should be returned</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">get_feature_by_id('streets',</span> <span class="pre">1)</span></code> → the feature with the id 1 on the layer “streets”</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="#expression-function-record-and-attributes-id"><span class="std std-ref">$id</span></a></p>
</section>
<section id="expression-function-record-and-attributes-id">
<span id="id"></span><h3><a class="toc-backref" href="#id455"><span class="section-number">12.2.22.7. </span>$id</a><a class="headerlink" href="#expression-function-record-and-attributes-id" title="Permalink to this headline"></a></h3>
<p>Returns the feature id of the current row.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>$id</p></td>
</tr>
<tr class="row-even"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$id</span></code> → 42</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="is-selected">
<span id="expression-function-record-and-attributes-is-selected"></span><h3><a class="toc-backref" href="#id456"><span class="section-number">12.2.22.8. </span>is_selected</a><a class="headerlink" href="#is-selected" title="Permalink to this headline"></a></h3>
<p>Returns True if a feature is selected. Can be used with zero, one or two arguments, see below for details.</p>
<p><strong>No parameters</strong></p>
<p>If called with no parameters, the function will return true if the current feature in the current layer is selected.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>is_selected()</p></td>
</tr>
<tr class="row-even"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">is_selected()</span></code> → True if the current feature in the current layer is selected.</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>One ‘feature’ parameter</strong></p>
<p>If called with a ‘feature’ parameter only, the function returns true if the specified feature from the current layer is selected.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>is_selected(feature)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>feature</strong> - The feature which should be checked for selection.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">is_selected(&#64;atlas_feature)</span></code> → True if the current atlas feature is selected.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">is_selected(get_feature('streets',</span> <span class="pre">'name',</span> <span class="pre">'Main</span> <span class="pre">St.')))</span></code> → True if the unique named “Main St.” feature on the active “streets” layer is selected.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">is_selected(get_feature_by_id('streets',</span> <span class="pre">1))</span></code> → True if the feature with the id 1 on the active “streets” layer is selected.</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Two parameters</strong></p>
<p>If the function is called with both a layer and a feature, it will return true if the specified feature from the specified layer is selected.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>is_selected(layer, feature)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>layer</strong> - The layer (its ID or name) on which the selection will be checked.</p></li>
<li><p><strong>feature</strong> - The feature which should be checked for selection.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">is_selected(</span> <span class="pre">'streets',</span> <span class="pre">get_feature('streets',</span> <span class="pre">'name',</span> <span class="pre">&quot;street_name&quot;))</span></code> → True if the current building’s street is selected (assuming the building layer has a field named ‘street_name’ and the ‘streets’ layer has a field called ‘name’ with unique values).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">is_selected(</span> <span class="pre">'streets',</span> <span class="pre">get_feature_by_id('streets',</span> <span class="pre">1))</span></code> → True if the feature with the id 1 on the “streets” layer is selected.</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="maptip">
<span id="expression-function-record-and-attributes-maptip"></span><h3><a class="toc-backref" href="#id457"><span class="section-number">12.2.22.9. </span>maptip</a><a class="headerlink" href="#maptip" title="Permalink to this headline"></a></h3>
<p>Returns the maptip for a given feature in a layer. The expression is evaluated by default. Can be used with zero, one or more arguments, see below for details.</p>
<p><strong>No parameters</strong></p>
<p>If called with no parameters, the function will evaluate the maptip of the current feature in the current layer.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>maptip()</p></td>
</tr>
<tr class="row-even"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">maptip()</span></code> → The maptip of the current feature in the current layer.</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>One ‘feature’ parameter</strong></p>
<p>If called with a ‘feature’ parameter only, the function will evaluate the specified feature from the current layer.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>maptip(feature)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>feature</strong> - The feature which should be evaluated.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">maptip(&#64;atlas_feature)</span></code> → The maptip of the current atlas feature.</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Layer and feature parameters</strong></p>
<p>If the function is called with both a layer and a feature, it will evaluate the specified feature from the specified layer.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>maptip(layer, feature, [evaluate=true])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>layer</strong> - The layer (or its ID or name)</p></li>
<li><p><strong>feature</strong> - The feature which should be evaluated.</p></li>
<li><p><strong>evaluate</strong> - If the expression must be evaluated. If false, the expression will be returned as a string literal only (which could potentially be later evaluated using the ‘eval_template’ function).</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">maptip('streets',</span> <span class="pre">get_feature_by_id('streets',</span> <span class="pre">1))</span></code> → The maptip of the feature with the ID 1 on the layer ‘streets’.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">maptip('a_layer_id',</span> <span class="pre">$currentfeature,</span> <span class="pre">'False')</span></code> → The maptip of the given feature not evaluated.</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="num-selected">
<span id="expression-function-record-and-attributes-num-selected"></span><h3><a class="toc-backref" href="#id458"><span class="section-number">12.2.22.10. </span>num_selected</a><a class="headerlink" href="#num-selected" title="Permalink to this headline"></a></h3>
<p>Returns the number of selected features on a given layer. By default works on the layer on which the expression is evaluated.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>num_selected([layer=current layer])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>layer</strong> - The layer (or its id or name) on which the selection will be checked.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">num_selected()</span></code> → The number of selected features on the current layer.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">num_selected('streets')</span></code> → The number of selected features on the layer streets</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="represent-value">
<span id="expression-function-record-and-attributes-represent-value"></span><h3><a class="toc-backref" href="#id459"><span class="section-number">12.2.22.11. </span>represent_value</a><a class="headerlink" href="#represent-value" title="Permalink to this headline"></a></h3>
<p>Returns the configured representation value for a field value. It depends on the configured widget type. Often, this is useful for ‘Value Map’ widgets.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>represent_value(value, fieldName)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>value</strong> - The value which should be resolved. Most likely a field.</p></li>
<li><p><strong>fieldName</strong> - The field name for which the widget configuration should be loaded. (Optional)</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">represent_value(&quot;field_with_value_map&quot;)</span></code> → Description for value</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">represent_value('static</span> <span class="pre">value',</span> <span class="pre">'field_name')</span></code> → Description for static value</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="../working_with_vector/vector_properties.html#edit-widgets"><span class="std std-ref">widget types</span></a></p>
</section>
<section id="sqlite-fetch-and-increment">
<span id="expression-function-record-and-attributes-sqlite-fetch-and-increment"></span><h3><a class="toc-backref" href="#id460"><span class="section-number">12.2.22.12. </span>sqlite_fetch_and_increment</a><a class="headerlink" href="#sqlite-fetch-and-increment" title="Permalink to this headline"></a></h3>
<p>Manage autoincrementing values in sqlite databases.</p>
<p>SQlite default values can only be applied on insert and not prefetched.</p>
<p>This makes it impossible to acquire an incremented primary key via AUTO_INCREMENT before creating the row in the database. Sidenote: with postgres, this works via the option <em>evaluate default values</em>.</p>
<p>When adding new features with relations, it is really nice to be able to already add children for a parent, while the parents form is still open and hence the parent feature uncommitted.</p>
<p>To get around this limitation, this function can be used to manage sequence values in a separate table on sqlite based formats like gpkg.</p>
<p>The sequence table will be filtered for a sequence id (filter_attribute and filter_value) and the current value of the id_field will be incremented by 1 and the incremented value returned.</p>
<p>If additional columns require values to be specified, the default_values map can be used for this purpose.</p>
<p><strong>Note</strong></p>
<p>This function modifies the target sqlite table. It is intended for usage with default value configurations for attributes.</p>
<p>When the database parameter is a layer and the layer is in transaction mode, the value will only be retrieved once during the lifetime of a transaction and cached and incremented. This makes it unsafe to work on the same database from several processes in parallel.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>sqlite_fetch_and_increment(database, table, id_field, filter_attribute, filter_value, [default_values])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>database</strong> - Path to the sqlite file or geopackage layer</p></li>
<li><p><strong>table</strong> - Name of the table that manages the sequences</p></li>
<li><p><strong>id_field</strong> - Name of the field that contains the current value</p></li>
<li><p><strong>filter_attribute</strong> - Name the field that contains a unique identifier for this sequence. Must have a UNIQUE index.</p></li>
<li><p><strong>filter_value</strong> - Name of the sequence to use.</p></li>
<li><p><strong>default_values</strong> - Map with default values for additional columns on the table. The values need to be fully quoted. Functions are allowed.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">sqlite_fetch_and_increment(&#64;layer,</span> <span class="pre">'sequence_table',</span> <span class="pre">'last_unique_id',</span> <span class="pre">'sequence_id',</span> <span class="pre">'global',</span> <span class="pre">map('last_change',</span> <span class="pre">'date(''now'')',</span> <span class="pre">'user',</span> <span class="pre">''''</span> <span class="pre">||</span> <span class="pre">&#64;user_account_name</span> <span class="pre">||</span> <span class="pre">''''))</span></code> → 0</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sqlite_fetch_and_increment(layer_property(&#64;layer,</span> <span class="pre">'path'),</span> <span class="pre">'sequence_table',</span> <span class="pre">'last_unique_id',</span> <span class="pre">'sequence_id',</span> <span class="pre">'global',</span> <span class="pre">map('last_change',</span> <span class="pre">'date(''now'')',</span> <span class="pre">'user',</span> <span class="pre">''''</span> <span class="pre">||</span> <span class="pre">&#64;user_account_name</span> <span class="pre">||</span> <span class="pre">''''))</span></code> → 0</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Further reading: <a class="reference internal" href="../introduction/qgis_configuration.html#project-data-source-properties"><span class="std std-ref">Data Sources Properties</span></a>, <a class="reference internal" href="../working_with_vector/attribute_table.html#vector-relations"><span class="std std-ref">Creating one or many to many relations</span></a></p>
</section>
<section id="uuid">
<span id="expression-function-record-and-attributes-uuid"></span><h3><a class="toc-backref" href="#id461"><span class="section-number">12.2.22.13. </span>uuid</a><a class="headerlink" href="#uuid" title="Permalink to this headline"></a></h3>
<p>Generates a Universally Unique Identifier (UUID) for each row using the Qt <a class="reference external" href="https://doc.qt.io/qt-5/quuid.html#createUuid">QUuid::createUuid</a> method.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>uuid([format=’WithBraces’])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>format</strong> - The format, as the UUID will be formatted. ‘WithBraces’, ‘WithoutBraces’ or ‘Id128’.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">uuid()</span></code> → ‘{0bd2f60f-f157-4a6d-96af-d4ba4cb366a1}’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">uuid('WithoutBraces')</span></code> → ‘0bd2f60f-f157-4a6d-96af-d4ba4cb366a1’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">uuid('Id128')</span></code> → ‘0bd2f60ff1574a6d96afd4ba4cb366a1’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="relations">
<span id="relations-list"></span><span id="index-4"></span><h2><a class="toc-backref" href="#id98"><span class="section-number">12.2.23. </span>Relations</a><a class="headerlink" href="#relations" title="Permalink to this headline"></a></h2>
<p>This group contains the list of the <a class="reference internal" href="../introduction/qgis_configuration.html#project-relations"><span class="std std-ref">relations</span></a>
available in the current project, with their description. It provides a quick
access to the relation ID for writing an expression (with e.g. the
<a class="reference internal" href="#expression-function-aggregates-relation-aggregate"><span class="std std-ref">relation_aggregate</span></a>
function) or customizing a form.</p>
</section>
<section id="string-functions">
<span id="id67"></span><h2><a class="toc-backref" href="#id99"><span class="section-number">12.2.24. </span>String Functions</a><a class="headerlink" href="#string-functions" title="Permalink to this headline"></a></h2>
<p>This group contains functions that operate on strings
(e.g., that replace, convert to upper case).</p>
<div class="contents toc-columns local topic" id="id68">
<ul class="simple">
<li><p><a class="reference internal" href="#ascii" id="id462">ascii</a></p></li>
<li><p><a class="reference internal" href="#char" id="id463">char</a></p></li>
<li><p><a class="reference internal" href="#concat" id="id464">concat</a></p></li>
<li><p><a class="reference internal" href="#format" id="id465">format</a></p></li>
<li><p><a class="reference internal" href="#expression-function-string-format-date" id="id466">format_date</a></p></li>
<li><p><a class="reference internal" href="#format-number" id="id467">format_number</a></p></li>
<li><p><a class="reference internal" href="#left" id="id468">left</a></p></li>
<li><p><a class="reference internal" href="#expression-function-string-length" id="id469">length</a></p></li>
<li><p><a class="reference internal" href="#lower" id="id470">lower</a></p></li>
<li><p><a class="reference internal" href="#lpad" id="id471">lpad</a></p></li>
<li><p><a class="reference internal" href="#expression-function-string-regexp-match" id="id472">regexp_match</a></p></li>
<li><p><a class="reference internal" href="#regexp-replace" id="id473">regexp_replace</a></p></li>
<li><p><a class="reference internal" href="#regexp-substr" id="id474">regexp_substr</a></p></li>
<li><p><a class="reference internal" href="#replace" id="id475">replace</a></p></li>
<li><p><a class="reference internal" href="#right" id="id476">right</a></p></li>
<li><p><a class="reference internal" href="#rpad" id="id477">rpad</a></p></li>
<li><p><a class="reference internal" href="#strpos" id="id478">strpos</a></p></li>
<li><p><a class="reference internal" href="#substr" id="id479">substr</a></p></li>
<li><p><a class="reference internal" href="#title" id="id480">title</a></p></li>
<li><p><a class="reference internal" href="#expression-function-string-to-string" id="id481">to_string</a></p></li>
<li><p><a class="reference internal" href="#trim" id="id482">trim</a></p></li>
<li><p><a class="reference internal" href="#upper" id="id483">upper</a></p></li>
<li><p><a class="reference internal" href="#wordwrap" id="id484">wordwrap</a></p></li>
</ul>
</div>
<section id="ascii">
<span id="expression-function-string-ascii"></span><h3><a class="toc-backref" href="#id462"><span class="section-number">12.2.24.1. </span>ascii</a><a class="headerlink" href="#ascii" title="Permalink to this headline"></a></h3>
<p>Returns the unicode code associated with the first character of a string.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>ascii(string)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>string</strong> - the string to convert to unicode code</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ascii('Q')</span></code> → 81</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="char">
<span id="expression-function-string-char"></span><h3><a class="toc-backref" href="#id463"><span class="section-number">12.2.24.2. </span>char</a><a class="headerlink" href="#char" title="Permalink to this headline"></a></h3>
<p>Returns the character associated with a unicode code.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>char(code)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>code</strong> - a unicode code number</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">char(81)</span></code> → ‘Q’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="concat">
<span id="expression-function-string-concat"></span><h3><a class="toc-backref" href="#id464"><span class="section-number">12.2.24.3. </span>concat</a><a class="headerlink" href="#concat" title="Permalink to this headline"></a></h3>
<p>Concatenates several strings to one. NULL values are converted to empty strings. Other values (like numbers) are converted to strings.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>concat(string1, string2, …)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>string</strong> - a string value</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">concat('sun',</span> <span class="pre">'set')</span></code> → ‘sunset’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">concat('a','b','c','d','e')</span></code> → ‘abcde’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">concat('Anno</span> <span class="pre">',</span> <span class="pre">1984)</span></code> → ‘Anno 1984’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">concat('The</span> <span class="pre">Wall',</span> <span class="pre">NULL)</span></code> → ‘The Wall’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>About fields concatenation</strong></p>
<p>You can also concatenate strings or field values using either <code class="docutils literal notranslate"><span class="pre">||</span></code> or <code class="docutils literal notranslate"><span class="pre">+</span></code>
operators, with some special characteristics:</p>
<ul>
<li><p>The <code class="docutils literal notranslate"><span class="pre">+</span></code> operator also means sum up expression, so if you have an integer
(field or numeric value) operand, this can be error prone and you better use
the others:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;My feature id is: &#39;</span> <span class="o">+</span> <span class="s2">&quot;gid&quot;</span> <span class="o">=&gt;</span> <span class="n">triggers</span> <span class="n">an</span> <span class="n">error</span> <span class="k">as</span> <span class="n">gid</span> <span class="n">returns</span> <span class="n">an</span> <span class="n">integer</span>
</pre></div>
</div>
</li>
<li><p>When any of the arguments is a NULL value, either <code class="docutils literal notranslate"><span class="pre">||</span></code> or <code class="docutils literal notranslate"><span class="pre">+</span></code> will
return a NULL value. To return the other arguments regardless the NULL value,
you may want to use the <code class="docutils literal notranslate"><span class="pre">concat</span></code> function:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;My feature id is: &#39;</span> <span class="o">+</span> <span class="n">NULL</span> <span class="o">==&gt;</span> <span class="n">NULL</span>
<span class="s1">&#39;My feature id is: &#39;</span> <span class="o">||</span> <span class="n">NULL</span> <span class="o">=&gt;</span> <span class="n">NULL</span>
<span class="n">concat</span><span class="p">(</span><span class="s1">&#39;My feature id is: &#39;</span><span class="p">,</span> <span class="n">NULL</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">My</span> <span class="n">feature</span><span class="s1">&#39;s id is</span>
</pre></div>
</div>
</li>
</ul>
<p>further reading: <a class="reference internal" href="#expression-function-operators-concat"><span class="std std-ref">||</span></a>,
<a class="reference internal" href="#expression-function-operators-plus"><span class="std std-ref">+</span></a></p>
</section>
<section id="format">
<span id="expression-function-string-format"></span><h3><a class="toc-backref" href="#id465"><span class="section-number">12.2.24.4. </span>format</a><a class="headerlink" href="#format" title="Permalink to this headline"></a></h3>
<p>Format a string using supplied arguments.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>format(string, arg1, arg2, …)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>string</strong> - A string with placeholders %1, %2, etc., for the arguments. Placeholders can be repeated. The lowest numbered placeholder is replaced by arg1, the next by arg2, etc.</p></li>
<li><p><strong>arg</strong> - any type. Any number of arguments.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">format('This</span> <span class="pre">%1</span> <span class="pre">a</span> <span class="pre">%2','is',</span> <span class="pre">'test')</span></code> → ‘This is a test’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">format('This</span> <span class="pre">is</span> <span class="pre">%2','a</span> <span class="pre">bit</span> <span class="pre">unexpected</span> <span class="pre">but</span> <span class="pre">2</span> <span class="pre">is</span> <span class="pre">lowest</span> <span class="pre">number</span> <span class="pre">in</span> <span class="pre">string','normal')</span></code> → ‘This is a bit unexpected but 2 is lowest number in string’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="expression-function-string-format-date">
<span id="id69"></span><h3><a class="toc-backref" href="#id466"><span class="section-number">12.2.24.5. </span>format_date</a><a class="headerlink" href="#expression-function-string-format-date" title="Permalink to this headline"></a></h3>
<p>Formats a date type or string into a custom string format. Uses Qt date/time format strings. See <a class="reference external" href="https://doc.qt.io/qt-5/qdatetime.html#toString">QDateTime::toString</a>.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>format_date(datetime, format, [language])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul>
<li><p><strong>datetime</strong> - date, time or datetime value</p></li>
<li><p><strong>format</strong> - String template used to format the string.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Expression</p></th>
<th class="head"><p>Output</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>d</p></td>
<td><p>the day as number without a leading zero (1 to 31)</p></td>
</tr>
<tr class="row-odd"><td><p>dd</p></td>
<td><p>the day as number with a leading zero (01 to 31)</p></td>
</tr>
<tr class="row-even"><td><p>ddd</p></td>
<td><p>the abbreviated localized day name (e.g. ‘Mon’ to ‘Sun’)</p></td>
</tr>
<tr class="row-odd"><td><p>dddd</p></td>
<td><p>the long localized day name (e.g. ‘Monday’ to ‘Sunday’)</p></td>
</tr>
<tr class="row-even"><td><p>M</p></td>
<td><p>the month as number without a leading zero (1-12)</p></td>
</tr>
<tr class="row-odd"><td><p>MM</p></td>
<td><p>the month as number with a leading zero (01-12)</p></td>
</tr>
<tr class="row-even"><td><p>MMM</p></td>
<td><p>the abbreviated localized month name (e.g. ‘Jan’ to ‘Dec’)</p></td>
</tr>
<tr class="row-odd"><td><p>MMMM</p></td>
<td><p>the long localized month name (e.g. ‘January’ to ‘December’)</p></td>
</tr>
<tr class="row-even"><td><p>yy</p></td>
<td><p>the year as two digit number (00-99)</p></td>
</tr>
<tr class="row-odd"><td><p>yyyy</p></td>
<td><p>the year as four digit number</p></td>
</tr>
</tbody>
</table>
<p>These expressions may be used for the time part of the format string:</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Expression</p></th>
<th class="head"><p>Output</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>h</p></td>
<td><p>the hour without a leading zero (0 to 23 or 1 to 12 if AM/PM display)</p></td>
</tr>
<tr class="row-odd"><td><p>hh</p></td>
<td><p>the hour with a leading zero (00 to 23 or 01 to 12 if AM/PM display)</p></td>
</tr>
<tr class="row-even"><td><p>H</p></td>
<td><p>the hour without a leading zero (0 to 23, even with AM/PM display)</p></td>
</tr>
<tr class="row-odd"><td><p>HH</p></td>
<td><p>the hour with a leading zero (00 to 23, even with AM/PM display)</p></td>
</tr>
<tr class="row-even"><td><p>m</p></td>
<td><p>the minute without a leading zero (0 to 59)</p></td>
</tr>
<tr class="row-odd"><td><p>mm</p></td>
<td><p>the minute with a leading zero (00 to 59)</p></td>
</tr>
<tr class="row-even"><td><p>s</p></td>
<td><p>the second without a leading zero (0 to 59)</p></td>
</tr>
<tr class="row-odd"><td><p>ss</p></td>
<td><p>the second with a leading zero (00 to 59)</p></td>
</tr>
<tr class="row-even"><td><p>z</p></td>
<td><p>the milliseconds without trailing zeroes (0 to 999)</p></td>
</tr>
<tr class="row-odd"><td><p>zzz</p></td>
<td><p>the milliseconds with trailing zeroes (000 to 999)</p></td>
</tr>
<tr class="row-even"><td><p>AP or A</p></td>
<td><p>interpret as an AM/PM time. <em>AP</em> must be either ‘AM’ or ‘PM’.</p></td>
</tr>
<tr class="row-odd"><td><p>ap or a</p></td>
<td><p>Interpret as an AM/PM time. <em>ap</em> must be either ‘am’ or ‘pm’.</p></td>
</tr>
</tbody>
</table>
</li>
<li><p><strong>language</strong> - language (lowercase, two- or three-letter, <a class="reference external" href="https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes">ISO 639 language code</a>) used to format the date into a custom string. By default the current QGIS user locale is used.</p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">format_date('2012-05-15','dd.MM.yyyy')</span></code> → ‘15.05.2012’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">format_date('2012-05-15','d</span> <span class="pre">MMMM</span> <span class="pre">yyyy','fr')</span></code> → ‘15 mai 2012’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">format_date('2012-05-15','dddd')</span></code> → ‘Tuesday’, if the current locale is an English variant</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">format_date('2012-05-15</span> <span class="pre">13:54:20','dd.MM.yy')</span></code> → ‘15.05.12’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">format_date('13:54:20','hh:mm</span> <span class="pre">AP')</span></code> → ‘01:54 PM’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="format-number">
<span id="expression-function-string-format-number"></span><h3><a class="toc-backref" href="#id467"><span class="section-number">12.2.24.6. </span>format_number</a><a class="headerlink" href="#format-number" title="Permalink to this headline"></a></h3>
<p>Returns a number formatted with the locale separator for thousands. By default the current QGIS user locale is used. Also truncates the decimal places to the number of supplied places.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>format_number(number, [places=0], [language])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>number</strong> - number to be formatted</p></li>
<li><p><strong>places</strong> - integer representing the number of decimal places to truncate the string to.</p></li>
<li><p><strong>language</strong> - language (lowercase, two- or three-letter, <a class="reference external" href="https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes">ISO 639 language code</a>) used to format the number into a string. By default the current QGIS user locale is used.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">format_number(10000000.332,2)</span></code> → ‘10,000,000.33’ if e.g. the current locale is an English variant</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">format_number(10000000.332,2,'fr')</span></code> → ‘10 000 000,33’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="left">
<span id="expression-function-string-left"></span><h3><a class="toc-backref" href="#id468"><span class="section-number">12.2.24.7. </span>left</a><a class="headerlink" href="#left" title="Permalink to this headline"></a></h3>
<p>Returns a substring that contains the <em>n</em> leftmost characters of the string.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>left(string, length)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>string</strong> - a string</p></li>
<li><p><strong>length</strong> - integer. The number of characters from the left of the string to return.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">left('Hello</span> <span class="pre">World',5)</span></code> → ‘Hello’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="expression-function-string-length">
<span id="id73"></span><h3><a class="toc-backref" href="#id469"><span class="section-number">12.2.24.8. </span>length</a><a class="headerlink" href="#expression-function-string-length" title="Permalink to this headline"></a></h3>
<p>Returns the number of characters in a string or the length of a geometry linestring.</p>
<p><strong>String variant</strong></p>
<p>Returns the number of characters in a string.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>length(string)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>string</strong> - string to count length of</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">length('hello')</span></code> → 5</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Geometry variant</strong></p>
<p>Calculate the length of a geometry line object. Calculations are always planimetric in the Spatial Reference System (SRS) of this geometry, and the units of the returned length will match the units for the SRS. This differs from the calculations performed by the $length function, which will perform ellipsoidal calculations based on the project’s ellipsoid and distance unit settings.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>length(geometry)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>geometry</strong> - line geometry object</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">length(geom_from_wkt('LINESTRING(0</span> <span class="pre">0,</span> <span class="pre">4</span> <span class="pre">0)'))</span></code> → 4.0</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="lower">
<span id="expression-function-string-lower"></span><h3><a class="toc-backref" href="#id470"><span class="section-number">12.2.24.9. </span>lower</a><a class="headerlink" href="#lower" title="Permalink to this headline"></a></h3>
<p>Converts a string to lower case letters.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>lower(string)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>string</strong> - the string to convert to lower case</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">lower('HELLO</span> <span class="pre">World')</span></code> → ‘hello world’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="lpad">
<span id="expression-function-string-lpad"></span><h3><a class="toc-backref" href="#id471"><span class="section-number">12.2.24.10. </span>lpad</a><a class="headerlink" href="#lpad" title="Permalink to this headline"></a></h3>
<p>Returns a string padded on the left to the specified width, using a fill character. If the target width is smaller than the string’s length, the string is truncated.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>lpad(string, width, fill)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>string</strong> - string to pad</p></li>
<li><p><strong>width</strong> - length of new string</p></li>
<li><p><strong>fill</strong> - character to pad the remaining space with</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">lpad('Hello',</span> <span class="pre">10,</span> <span class="pre">'x')</span></code> → ‘xxxxxHello’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lpad('Hello',</span> <span class="pre">3,</span> <span class="pre">'x')</span></code> → ‘Hel’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="expression-function-string-regexp-match">
<span id="id74"></span><h3><a class="toc-backref" href="#id472"><span class="section-number">12.2.24.11. </span>regexp_match</a><a class="headerlink" href="#expression-function-string-regexp-match" title="Permalink to this headline"></a></h3>
<p>Return the first matching position matching a regular expression within an unicode string, or 0 if the substring is not found.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>regexp_match(input_string, regex)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>input_string</strong> - the string to test against the regular expression</p></li>
<li><p><strong>regex</strong> - The regular expression to test against. Backslash characters must be double escaped (e.g., “\\s” to match a white space character or  “\\b” to match a word boundary).</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">regexp_match('QGIS</span> <span class="pre">ROCKS','\\sROCKS')</span></code> → 5</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">regexp_match('Budač','udač\\b')</span></code> → 2</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="regexp-replace">
<span id="expression-function-string-regexp-replace"></span><h3><a class="toc-backref" href="#id473"><span class="section-number">12.2.24.12. </span>regexp_replace</a><a class="headerlink" href="#regexp-replace" title="Permalink to this headline"></a></h3>
<p>Returns a string with the supplied regular expression replaced.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>regexp_replace(input_string, regex, replacement)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>input_string</strong> - the string to replace matches in</p></li>
<li><p><strong>regex</strong> - The regular expression to replace. Backslash characters must be double escaped (e.g., “\\s” to match a white space character).</p></li>
<li><p><strong>replacement</strong> - The string that will replace any matching occurrences of the supplied regular expression. Captured groups can be inserted into the replacement string using \\1, \\2, etc.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">regexp_replace('QGIS</span> <span class="pre">SHOULD</span> <span class="pre">ROCK','\\sSHOULD\\s','</span> <span class="pre">DOES</span> <span class="pre">')</span></code> → ‘QGIS DOES ROCK’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">regexp_replace('ABC123','\\d+','')</span></code> → ‘ABC’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">regexp_replace('my</span> <span class="pre">name</span> <span class="pre">is</span> <span class="pre">John','(.*)</span> <span class="pre">is</span> <span class="pre">(.*)','\\2</span> <span class="pre">is</span> <span class="pre">\\1')</span></code> → ‘John is my name’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="regexp-substr">
<span id="expression-function-string-regexp-substr"></span><h3><a class="toc-backref" href="#id474"><span class="section-number">12.2.24.13. </span>regexp_substr</a><a class="headerlink" href="#regexp-substr" title="Permalink to this headline"></a></h3>
<p>Returns the portion of a string which matches a supplied regular expression.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>regexp_substr(input_string, regex)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>input_string</strong> - the string to find matches in</p></li>
<li><p><strong>regex</strong> - The regular expression to match against. Backslash characters must be double escaped (e.g., “\\s” to match a white space character).</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">regexp_substr('abc123','(\\d+)')</span></code> → ‘123’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="replace">
<span id="expression-function-string-replace"></span><h3><a class="toc-backref" href="#id475"><span class="section-number">12.2.24.14. </span>replace</a><a class="headerlink" href="#replace" title="Permalink to this headline"></a></h3>
<p>Returns a string with the supplied string, array, or map of strings replaced.</p>
<p><strong>String &amp; array variant</strong></p>
<p>Returns a string with the supplied string or array of strings replaced by a string or an array of strings.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>replace(string, before, after)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>string</strong> - the input string</p></li>
<li><p><strong>before</strong> - the string or array of strings to replace</p></li>
<li><p><strong>after</strong> - the string or array of strings to use as a replacement</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">replace('QGIS</span> <span class="pre">SHOULD</span> <span class="pre">ROCK','SHOULD','DOES')</span></code> → ‘QGIS DOES ROCK’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">replace('QGIS</span> <span class="pre">ABC',array('A','B','C'),array('X','Y','Z'))</span></code> → ‘QGIS XYZ’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">replace('QGIS',array('Q','S'),'')</span></code> → ‘GI’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Map variant</strong></p>
<p>Returns a string with the supplied map keys replaced by paired values. Longer map keys are evaluated first.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>replace(string, map)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>string</strong> - the input string</p></li>
<li><p><strong>map</strong> - the map containing keys and values</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">replace('APP</span> <span class="pre">SHOULD</span> <span class="pre">ROCK',map('APP','QGIS','SHOULD','DOES'))</span></code> → ‘QGIS DOES ROCK’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">replace('forty</span> <span class="pre">two',map('for','4','two','2','forty</span> <span class="pre">two','42'))</span></code> → ‘42’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="right">
<span id="expression-function-string-right"></span><h3><a class="toc-backref" href="#id476"><span class="section-number">12.2.24.15. </span>right</a><a class="headerlink" href="#right" title="Permalink to this headline"></a></h3>
<p>Returns a substring that contains the <em>n</em> rightmost characters of the string.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>right(string, length)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>string</strong> - a string</p></li>
<li><p><strong>length</strong> - integer. The number of characters from the right of the string to return.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">right('Hello</span> <span class="pre">World',5)</span></code> → ‘World’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="rpad">
<span id="expression-function-string-rpad"></span><h3><a class="toc-backref" href="#id477"><span class="section-number">12.2.24.16. </span>rpad</a><a class="headerlink" href="#rpad" title="Permalink to this headline"></a></h3>
<p>Returns a string padded on the right to the specified width, using a fill character. If the target width is smaller than the string’s length, the string is truncated.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>rpad(string, width, fill)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>string</strong> - string to pad</p></li>
<li><p><strong>width</strong> - length of new string</p></li>
<li><p><strong>fill</strong> - character to pad the remaining space with</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rpad('Hello',</span> <span class="pre">10,</span> <span class="pre">'x')</span></code> → ‘Helloxxxxx’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rpad('Hello',</span> <span class="pre">3,</span> <span class="pre">'x')</span></code> → ‘Hel’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="strpos">
<span id="expression-function-string-strpos"></span><h3><a class="toc-backref" href="#id478"><span class="section-number">12.2.24.17. </span>strpos</a><a class="headerlink" href="#strpos" title="Permalink to this headline"></a></h3>
<p>Return the first matching position of a substring within another string, or 0 if the substring is not found.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>strpos(haystack, needle)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>haystack</strong> - string that is to be searched</p></li>
<li><p><strong>needle</strong> - string to search for</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">strpos('HELLO</span> <span class="pre">WORLD','WORLD')</span></code> → 7</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">strpos('HELLO</span> <span class="pre">WORLD','GOODBYE')</span></code> → 0</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="substr">
<span id="expression-function-string-substr"></span><h3><a class="toc-backref" href="#id479"><span class="section-number">12.2.24.18. </span>substr</a><a class="headerlink" href="#substr" title="Permalink to this headline"></a></h3>
<p>Returns a part of a string.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>substr(string, start, [length])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>string</strong> - the full input string</p></li>
<li><p><strong>start</strong> - integer representing start position to extract beginning with 1; if start is negative, the return string will begin at the end of the string minus the start value</p></li>
<li><p><strong>length</strong> - integer representing length of string to extract; if length is negative, the return string will omit the given length of characters from the end of the string</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">substr('HELLO</span> <span class="pre">WORLD',3,5)</span></code> → ‘LLO W’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">substr('HELLO</span> <span class="pre">WORLD',6)</span></code> → ‘ WORLD’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">substr('HELLO</span> <span class="pre">WORLD',-5)</span></code> → ‘WORLD’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">substr('HELLO',3,-1)</span></code> → ‘LL’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">substr('HELLO</span> <span class="pre">WORLD',-5,2)</span></code> → ‘WO’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">substr('HELLO</span> <span class="pre">WORLD',-5,-1)</span></code> → ‘WORL’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="title">
<span id="expression-function-string-title"></span><h3><a class="toc-backref" href="#id480"><span class="section-number">12.2.24.19. </span>title</a><a class="headerlink" href="#title" title="Permalink to this headline"></a></h3>
<p>Converts all words of a string to title case (all words lower case with leading capital letter).</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>title(string)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>string</strong> - the string to convert to title case</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">title('hello</span> <span class="pre">WOrld')</span></code> → ‘Hello World’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="expression-function-string-to-string">
<span id="id75"></span><h3><a class="toc-backref" href="#id481"><span class="section-number">12.2.24.20. </span>to_string</a><a class="headerlink" href="#expression-function-string-to-string" title="Permalink to this headline"></a></h3>
<p>Converts a number to string.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>to_string(number)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>number</strong> - Integer or real value. The number to convert to string.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">to_string(123)</span></code> → ‘123’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="trim">
<span id="expression-function-string-trim"></span><h3><a class="toc-backref" href="#id482"><span class="section-number">12.2.24.21. </span>trim</a><a class="headerlink" href="#trim" title="Permalink to this headline"></a></h3>
<p>Removes all leading and trailing whitespace (spaces, tabs, etc) from a string.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>trim(string)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>string</strong> - string to trim</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">trim('</span>&#160;&#160; <span class="pre">hello</span> <span class="pre">world</span>&#160;&#160;&#160; <span class="pre">')</span></code> → ‘hello world’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="upper">
<span id="expression-function-string-upper"></span><h3><a class="toc-backref" href="#id483"><span class="section-number">12.2.24.22. </span>upper</a><a class="headerlink" href="#upper" title="Permalink to this headline"></a></h3>
<p>Converts a string to upper case letters.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>upper(string)</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>string</strong> - the string to convert to upper case</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">upper('hello</span> <span class="pre">WOrld')</span></code> → ‘HELLO WORLD’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="wordwrap">
<span id="expression-function-string-wordwrap"></span><h3><a class="toc-backref" href="#id484"><span class="section-number">12.2.24.23. </span>wordwrap</a><a class="headerlink" href="#wordwrap" title="Permalink to this headline"></a></h3>
<p>Returns a string wrapped to a maximum/minimum number of characters.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Syntax</p></td>
<td><p>wordwrap(string, wrap_length, [delimiter_string])</p>
<p>[] marks optional arguments</p>
</td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
<td><ul class="simple">
<li><p><strong>string</strong> - the string to be wrapped</p></li>
<li><p><strong>wrap_length</strong> - an integer. If wrap_length is positive the number represents the ideal maximum number of characters to wrap; if negative, the number represents the minimum number of characters to wrap.</p></li>
<li><p><strong>delimiter_string</strong> - Optional delimiter string to wrap to a new line.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Examples</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">wordwrap('UNIVERSITY</span> <span class="pre">OF</span> <span class="pre">QGIS',13)</span></code> → ‘UNIVERSITY OF&lt;br&gt;QGIS’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">wordwrap('UNIVERSITY</span> <span class="pre">OF</span> <span class="pre">QGIS',-3)</span></code> → ‘UNIVERSITY&lt;br&gt;OF QGIS’</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="user-expressions">
<h2><a class="toc-backref" href="#id100"><span class="section-number">12.2.25. </span>User Expressions</a><a class="headerlink" href="#user-expressions" title="Permalink to this headline"></a></h2>
<p>This group contains the expressions saved as
<a class="reference internal" href="expression.html#user-expressions-functions"><span class="std std-ref">user expressions</span></a>.</p>
</section>
<section id="variables">
<span id="expression-variables"></span><h2><a class="toc-backref" href="#id101"><span class="section-number">12.2.26. </span>Variables</a><a class="headerlink" href="#variables" title="Permalink to this headline"></a></h2>
<p>This group contains dynamic variables related to the application, the project
file and other settings.
The availability of variables depends on the context:</p>
<ul class="simple">
<li><p>from the <a class="reference internal" href="../../../_images/mIconExpressionSelect.png"><img alt="expressionSelect" src="../../../_images/mIconExpressionSelect.png" style="width: 1.5em;" /></a> <sup>Select by expression</sup> dialog</p></li>
<li><p>from the <a class="reference internal" href="../../../_images/mActionCalculateField.png"><img alt="calculateField" src="../../../_images/mActionCalculateField.png" style="width: 1.5em;" /></a> <sup>Field calculator</sup> dialog</p></li>
<li><p>from the layer properties dialog</p></li>
<li><p>from the print layout</p></li>
</ul>
<p>To use these variables in an expression, they should be preceded by the
<code class="docutils literal notranslate"><span class="pre">&#64;</span></code> character (e.g, <code class="docutils literal notranslate"><span class="pre">&#64;row_number</span></code>).</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Variable</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>algorithm_id</p></td>
<td><p>The unique ID of an algorithm</p></td>
</tr>
<tr class="row-odd"><td><p>animation_end_time</p></td>
<td><p>End of the animation’s overall temporal time range (as a datetime value)</p></td>
</tr>
<tr class="row-even"><td><p>animation_interval</p></td>
<td><p>Duration of the animation’s overall temporal time range (as an interval value)</p></td>
</tr>
<tr class="row-odd"><td><p>animation_start_time</p></td>
<td><p>Start of the animation’s overall temporal time range (as a datetime value)</p></td>
</tr>
<tr class="row-even"><td><p>atlas_feature</p></td>
<td><p>The current atlas feature (as feature object)</p></td>
</tr>
<tr class="row-odd"><td><p>atlas_featureid</p></td>
<td><p>The current atlas feature ID</p></td>
</tr>
<tr class="row-even"><td><p>atlas_featurenumber</p></td>
<td><p>The current atlas feature number in the layout</p></td>
</tr>
<tr class="row-odd"><td><p>atlas_filename</p></td>
<td><p>The current atlas file name</p></td>
</tr>
<tr class="row-even"><td><p>atlas_geometry</p></td>
<td><p>The current atlas feature geometry</p></td>
</tr>
<tr class="row-odd"><td><p>atlas_layerid</p></td>
<td><p>The current atlas coverage layer ID</p></td>
</tr>
<tr class="row-even"><td><p>atlas_layername</p></td>
<td><p>The current atlas coverage layer name</p></td>
</tr>
<tr class="row-odd"><td><p>atlas_pagename</p></td>
<td><p>The current atlas page name</p></td>
</tr>
<tr class="row-even"><td><p>atlas_totalfeatures</p></td>
<td><p>The total number of features in atlas</p></td>
</tr>
<tr class="row-odd"><td><p>canvas_cursor_point</p></td>
<td><p>The last cursor position on the canvas in the
project’s geographical coordinates</p></td>
</tr>
<tr class="row-even"><td><p>cluster_color</p></td>
<td><p>The color of symbols within a cluster, or NULL if
symbols have mixed colors</p></td>
</tr>
<tr class="row-odd"><td><p>cluster_size</p></td>
<td><p>The number of symbols contained within a cluster</p></td>
</tr>
<tr class="row-even"><td><p>current_feature</p></td>
<td><p>The feature currently being edited in the attribute
form or table row</p></td>
</tr>
<tr class="row-odd"><td><p>current_geometry</p></td>
<td><p>The geometry of the feature currently being edited
in the form or the table row</p></td>
</tr>
<tr class="row-even"><td><p>current_parent_feature</p></td>
<td><p>represents the feature currently being
edited in the parent form. Only usable in an embedded form context.</p></td>
</tr>
<tr class="row-odd"><td><p>current_parent_geometry</p></td>
<td><p>represents the geometry of the feature currently being
edited in the parent form. Only usable in an embedded form context.</p></td>
</tr>
<tr class="row-even"><td><p>form_mode</p></td>
<td><p>What the form is used for, like AddFeatureMode, SingleEditMode, MultiEditMode,
SearchMode, AggregateSearchMode or IdentifyMode as string.</p></td>
</tr>
<tr class="row-odd"><td><p>frame_duration</p></td>
<td><p>Temporal duration of each animation frame (as an interval value)</p></td>
</tr>
<tr class="row-even"><td><p>frame_number</p></td>
<td><p>Current frame number during animation playback</p></td>
</tr>
<tr class="row-odd"><td><p>frame_rate</p></td>
<td><p>Number of frames per second during animation playback</p></td>
</tr>
<tr class="row-even"><td><p>fullextent_maxx</p></td>
<td><p>Maximum x value from full canvas extent (including all layers)</p></td>
</tr>
<tr class="row-odd"><td><p>fullextent_maxy</p></td>
<td><p>Maximum y value from full canvas extent (including all layers)</p></td>
</tr>
<tr class="row-even"><td><p>fullextent_minx</p></td>
<td><p>Minimum x value from full canvas extent (including all layers)</p></td>
</tr>
<tr class="row-odd"><td><p>fullextent_miny</p></td>
<td><p>Minimum y value from full canvas extent (including all layers)</p></td>
</tr>
<tr class="row-even"><td><p>geometry_part_count</p></td>
<td><p>The number of parts in rendered feature’s geometry</p></td>
</tr>
<tr class="row-odd"><td><p>geometry_part_num</p></td>
<td><p>The current geometry part number for feature being rendered</p></td>
</tr>
<tr class="row-even"><td><p>geometry_point_count</p></td>
<td><p>The number of points in the rendered geometry’s part</p></td>
</tr>
<tr class="row-odd"><td><p>geometry_point_num</p></td>
<td><p>The current point number in the rendered geometry’s part</p></td>
</tr>
<tr class="row-even"><td><p>geometry_ring_num</p></td>
<td><p>Current geometry ring number for feature being rendered
(for polygon features only). The exterior ring has a value of 0.</p></td>
</tr>
<tr class="row-odd"><td><p>grid_axis</p></td>
<td><p>The current grid annotation axis (eg, ‘x’ for longitude, ‘y’ for latitude)</p></td>
</tr>
<tr class="row-even"><td><p>grid_number</p></td>
<td><p>The current grid annotation value</p></td>
</tr>
<tr class="row-odd"><td><p>item_id</p></td>
<td><p>The layout item user ID (not necessarily unique)</p></td>
</tr>
<tr class="row-even"><td><p>item_uuid</p></td>
<td><p>The layout item unique ID</p></td>
</tr>
<tr class="row-odd"><td><p>layer</p></td>
<td><p>The current layer</p></td>
</tr>
<tr class="row-even"><td><p>layer_crs <code class="docutils literal notranslate"><span class="pre">NEW</span> <span class="pre">in</span> <span class="pre">3.18</span></code></p></td>
<td><p>The Coordinate Reference System Authority ID of the current layer</p></td>
</tr>
<tr class="row-odd"><td><p>layer_id</p></td>
<td><p>The ID of current layer</p></td>
</tr>
<tr class="row-even"><td><p>layer_ids</p></td>
<td><p>The IDs of all the map layers in the current project as a list</p></td>
</tr>
<tr class="row-odd"><td><p>layer_name</p></td>
<td><p>The name of current layer</p></td>
</tr>
<tr class="row-even"><td><p>layers</p></td>
<td><p>All the map layers in the current project as a list</p></td>
</tr>
<tr class="row-odd"><td><p>layout_dpi</p></td>
<td><p>The composition resolution (DPI)</p></td>
</tr>
<tr class="row-even"><td><p>layout_name</p></td>
<td><p>The layout name</p></td>
</tr>
<tr class="row-odd"><td><p>layout_numpages</p></td>
<td><p>The number of pages in the layout</p></td>
</tr>
<tr class="row-even"><td><p>layout_page</p></td>
<td><p>The page number of the current item in the layout</p></td>
</tr>
<tr class="row-odd"><td><p>layout_pageheight</p></td>
<td><p>The active page height in the layout (in mm
for standard paper sizes, or whatever unit was used for custom paper size)</p></td>
</tr>
<tr class="row-even"><td><p>layout_pageoffsets</p></td>
<td><p>Array of Y coordinate of the top of each page.
Allows to dynamically position items on pages in a context where page sizes may change</p></td>
</tr>
<tr class="row-odd"><td><p>layout_pagewidth</p></td>
<td><p>The active page width in the layout (in mm
for standard paper sizes, or whatever unit was used for custom paper size)</p></td>
</tr>
<tr class="row-even"><td><p>legend_column_count</p></td>
<td><p>The number of columns in the legend</p></td>
</tr>
<tr class="row-odd"><td><p>legend_filter_by_map</p></td>
<td><p>Indicates if the content of the legend is
filtered by the map</p></td>
</tr>
<tr class="row-even"><td><p>legend_filter_out_atlas</p></td>
<td><p>Indicates if the atlas is filtered out of the legend</p></td>
</tr>
<tr class="row-odd"><td><p>legend_split_layers</p></td>
<td><p>Indicates if layers can be split in the legend</p></td>
</tr>
<tr class="row-even"><td><p>legend_title</p></td>
<td><p>The title of the legend</p></td>
</tr>
<tr class="row-odd"><td><p>legend_wrap_string</p></td>
<td><p>The character(s) used to wrap the legend text</p></td>
</tr>
<tr class="row-even"><td><p>map_crs</p></td>
<td><p>The Coordinate reference system of the current map</p></td>
</tr>
<tr class="row-odd"><td><p>map_crs_acronym</p></td>
<td><p>The acronym of the Coordinate reference
system of the current map</p></td>
</tr>
<tr class="row-even"><td><p>map_crs_definition</p></td>
<td><p>The full definition of the Coordinate
reference system of the current map</p></td>
</tr>
<tr class="row-odd"><td><p>map_crs_description</p></td>
<td><p>The name of the Coordinate reference
system of the current map</p></td>
</tr>
<tr class="row-even"><td><p>map_crs_ellipsoid</p></td>
<td><p>The acronym of the ellipsoid of the
Coordinate reference system of the current map</p></td>
</tr>
<tr class="row-odd"><td><p>map_crs_proj4</p></td>
<td><p>The Proj4 definition of the Coordinate
reference system of the current map</p></td>
</tr>
<tr class="row-even"><td><p>map_crs_projection <code class="docutils literal notranslate"><span class="pre">NEW</span> <span class="pre">in</span> <span class="pre">3.20</span></code></p></td>
<td><p>The descriptive name of the projection method used
by the Coordinate reference system of the map (e.g. ‘Albers Equal Area’)</p></td>
</tr>
<tr class="row-odd"><td><p>map_crs_wkt</p></td>
<td><p>The WKT definition of the Coordinate reference
system of the current map</p></td>
</tr>
<tr class="row-even"><td><p>map_end_time</p></td>
<td><p>The end of the map’s temporal time range
(as a datetime value)</p></td>
</tr>
<tr class="row-odd"><td><p>map_extent</p></td>
<td><p>The geometry representing the current extent of the map</p></td>
</tr>
<tr class="row-even"><td><p>map_extent_center</p></td>
<td><p>The point feature at the center of the map</p></td>
</tr>
<tr class="row-odd"><td><p>map_extent_height</p></td>
<td><p>The current height of the map</p></td>
</tr>
<tr class="row-even"><td><p>map_extent_width</p></td>
<td><p>The current width of the map</p></td>
</tr>
<tr class="row-odd"><td><p>map_id</p></td>
<td><p>The ID of current map destination. This will be ‘canvas’
for canvas renders, and the item ID for layout map renders</p></td>
</tr>
<tr class="row-even"><td><p>map_interval</p></td>
<td><p>The duration of the map’s temporal time range
(as an interval value)</p></td>
</tr>
<tr class="row-odd"><td><p>map_layer_ids</p></td>
<td><p>The list of map layer IDs visible in the map</p></td>
</tr>
<tr class="row-even"><td><p>map_layers</p></td>
<td><p>The list of map layers visible in the map</p></td>
</tr>
<tr class="row-odd"><td><p>map_rotation</p></td>
<td><p>The current rotation of the map</p></td>
</tr>
<tr class="row-even"><td><p>map_scale</p></td>
<td><p>The current scale of the map</p></td>
</tr>
<tr class="row-odd"><td><p>map_start_time</p></td>
<td><p>The start of the map’s temporal time range
(as a datetime value)</p></td>
</tr>
<tr class="row-even"><td><p>map_units</p></td>
<td><p>The units of map measurements</p></td>
</tr>
<tr class="row-odd"><td><p>model_path</p></td>
<td><p>Full path (including file name) of current model
(or project path if model is embedded in a project).</p></td>
</tr>
<tr class="row-even"><td><p>model_folder</p></td>
<td><p>Folder containing current model (or project folder
if model is embedded in a project).</p></td>
</tr>
<tr class="row-odd"><td><p>model_name</p></td>
<td><p>Name of current model</p></td>
</tr>
<tr class="row-even"><td><p>model_group</p></td>
<td><p>Group for current model</p></td>
</tr>
<tr class="row-odd"><td><p>notification_message</p></td>
<td><p>Content of the notification message sent by the provider
(available only for actions triggered by provider notifications).</p></td>
</tr>
<tr class="row-even"><td><p>parent</p></td>
<td><p>Refers to the current feature in the parent layer, providing access to
its attributes and geometry when filtering an <a class="reference internal" href="#aggregates-function"><span class="std std-ref">aggregate</span></a>
function</p></td>
</tr>
<tr class="row-odd"><td><p>project_abstract</p></td>
<td><p>The project abstract, taken from project metadata</p></td>
</tr>
<tr class="row-even"><td><p>project_area_units</p></td>
<td><p>The area unit for the current project, used when
calculating areas of geometries</p></td>
</tr>
<tr class="row-odd"><td><p>project_author</p></td>
<td><p>The project author, taken from project metadata</p></td>
</tr>
<tr class="row-even"><td><p>project_basename</p></td>
<td><p>The basename of current project’s filename
(without path and extension)</p></td>
</tr>
<tr class="row-odd"><td><p>project_creation_date</p></td>
<td><p>The project creation date, taken from project metadata</p></td>
</tr>
<tr class="row-even"><td><p>project_crs</p></td>
<td><p>The Coordinate reference system of the project</p></td>
</tr>
<tr class="row-odd"><td><p>project_crs_arconym</p></td>
<td><p>The acronym of the Coordinate reference system of the project</p></td>
</tr>
<tr class="row-even"><td><p>project_crs_definition</p></td>
<td><p>The full definition of the Coordinate reference
system of the project</p></td>
</tr>
<tr class="row-odd"><td><p>project_crs_description</p></td>
<td><p>The description of the Coordinate reference system of the project</p></td>
</tr>
<tr class="row-even"><td><p>project_crs_ellipsoid</p></td>
<td><p>The ellipsoid of the Coordinate reference system of the project</p></td>
</tr>
<tr class="row-odd"><td><p>project_crs_proj4</p></td>
<td><p>The Proj4 representation of the Coordinate reference system of the project</p></td>
</tr>
<tr class="row-even"><td><p>project_crs_wkt</p></td>
<td><p>The WKT (well known text) representation of the coordinate reference system of the project</p></td>
</tr>
<tr class="row-odd"><td><p>project_distance_units</p></td>
<td><p>The distance unit for the current project,
used when calculating lengths of geometries and distances</p></td>
</tr>
<tr class="row-even"><td><p>project_ellipsoid</p></td>
<td><p>The name of the ellipsoid of the current project,
used when calculating geodetic areas or lengths of geometries</p></td>
</tr>
<tr class="row-odd"><td><p>project_filename</p></td>
<td><p>The filename of the current project</p></td>
</tr>
<tr class="row-even"><td><p>project_folder</p></td>
<td><p>The folder of the current project</p></td>
</tr>
<tr class="row-odd"><td><p>project_home</p></td>
<td><p>The home path of the current project</p></td>
</tr>
<tr class="row-even"><td><p>project_identifier</p></td>
<td><p>The project identifier, taken from the project’s metadata</p></td>
</tr>
<tr class="row-odd"><td><p>project_keywords</p></td>
<td><p>The project keywords, taken from the project’s metadata</p></td>
</tr>
<tr class="row-even"><td><p>project_last_saved</p></td>
<td><p>Date/time when project was last saved.</p></td>
</tr>
<tr class="row-odd"><td><p>project_path</p></td>
<td><p>The full path (including file name) of the current project</p></td>
</tr>
<tr class="row-even"><td><p>project_title</p></td>
<td><p>The title of current project</p></td>
</tr>
<tr class="row-odd"><td><p>project_units</p></td>
<td><p>The units of the project’s CRS</p></td>
</tr>
<tr class="row-even"><td><p>qgis_locale</p></td>
<td><p>The current language of QGIS</p></td>
</tr>
<tr class="row-odd"><td><p>qgis_os_name</p></td>
<td><p>The current Operating system name, eg ‘windows’, ‘linux’ or ‘osx’</p></td>
</tr>
<tr class="row-even"><td><p>qgis_platform</p></td>
<td><p>The QGIS platform, eg ‘desktop’ or ‘server’</p></td>
</tr>
<tr class="row-odd"><td><p>qgis_release_name</p></td>
<td><p>The current QGIS release name</p></td>
</tr>
<tr class="row-even"><td><p>qgis_short_version</p></td>
<td><p>The current QGIS version short string</p></td>
</tr>
<tr class="row-odd"><td><p>qgis_version</p></td>
<td><p>The current QGIS version string</p></td>
</tr>
<tr class="row-even"><td><p>qgis_version_no</p></td>
<td><p>The current QGIS version number</p></td>
</tr>
<tr class="row-odd"><td><p>row_number</p></td>
<td><p>Stores the number of the current row</p></td>
</tr>
<tr class="row-even"><td><p>snapping_results</p></td>
<td><p>Gives access to snapping results while digitizing a
feature (only available in add feature)</p></td>
</tr>
<tr class="row-odd"><td><p>scale_value</p></td>
<td><p>The current scale bar distance value</p></td>
</tr>
<tr class="row-even"><td><p>selected_file_path</p></td>
<td><p>Selected file path from file widget selector when uploading a file with an external storage system</p></td>
</tr>
<tr class="row-odd"><td><p>symbol_angle</p></td>
<td><p>The angle of the symbol used to render the feature
(valid for marker symbols only)</p></td>
</tr>
<tr class="row-even"><td><p>symbol_color</p></td>
<td><p>The color of the symbol used to render the feature</p></td>
</tr>
<tr class="row-odd"><td><p>symbol_count</p></td>
<td><p>The number of features represented by the symbol (in the layout legend)</p></td>
</tr>
<tr class="row-even"><td><p>symbol_id</p></td>
<td><p>The Internal ID of the symbol (in the layout legend)</p></td>
</tr>
<tr class="row-odd"><td><p>symbol_label</p></td>
<td><p>The label for the symbol (either a user defined
label or the default autogenerated label - in the layout legend)</p></td>
</tr>
<tr class="row-even"><td><p>symbol_layer_count</p></td>
<td><p>Total number of symbol layers in the symbol</p></td>
</tr>
<tr class="row-odd"><td><p>symbol_layer_index</p></td>
<td><p>Current symbol layer index</p></td>
</tr>
<tr class="row-even"><td><p>symbol_marker_column</p></td>
<td><p>Column number for marker (valid for point pattern fills only).</p></td>
</tr>
<tr class="row-odd"><td><p>symbol_marker_row</p></td>
<td><p>Row number for marker (valid for point pattern fills only).</p></td>
</tr>
<tr class="row-even"><td><p>user_account_name</p></td>
<td><p>The current user’s operating system account name</p></td>
</tr>
<tr class="row-odd"><td><p>user_full_name</p></td>
<td><p>The current user’s operating system user name</p></td>
</tr>
<tr class="row-even"><td><p>value</p></td>
<td><p>The current value</p></td>
</tr>
<tr class="row-odd"><td><p>with_variable</p></td>
<td><p>Allows setting a variable for usage within an expression
and avoid recalculating the same value repeatedly</p></td>
</tr>
<tr class="row-even"><td><p>zoom_level</p></td>
<td><p>Zoom level of the tile that is being rendered (derived from the current
map scale). Normally in interval [0, 20].</p></td>
</tr>
</tbody>
</table>
<p><strong>Some examples:</strong></p>
<ul>
<li><p>Return the X coordinate of a map item center in layout:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="p">(</span> <span class="n">map_get</span><span class="p">(</span> <span class="n">item_variables</span><span class="p">(</span> <span class="s1">&#39;map1&#39;</span><span class="p">),</span> <span class="s1">&#39;map_extent_center&#39;</span> <span class="p">)</span> <span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>Return, for each feature in the current layer, the number of overlapping airport
features:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>aggregate( layer:=&#39;airport&#39;, aggregate:=&#39;count&#39;, expression:=&quot;code&quot;,
               filter:=intersects( $geometry, geometry( @parent ) ) )
</pre></div>
</div>
</li>
<li><p>Get the object_id of the first snapped point of a line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">with_variable</span><span class="p">(</span>
  <span class="s1">&#39;first_snapped_point&#39;</span><span class="p">,</span>
  <span class="n">array_first</span><span class="p">(</span> <span class="nd">@snapping_results</span> <span class="p">),</span>
  <span class="n">attribute</span><span class="p">(</span>
    <span class="n">get_feature_by_id</span><span class="p">(</span>
      <span class="n">map_get</span><span class="p">(</span> <span class="nd">@first_snapped_point</span><span class="p">,</span> <span class="s1">&#39;layer&#39;</span> <span class="p">),</span>
      <span class="n">map_get</span><span class="p">(</span> <span class="nd">@first_snapped_point</span><span class="p">,</span> <span class="s1">&#39;feature_id&#39;</span> <span class="p">)</span>
    <span class="p">),</span>
    <span class="s1">&#39;object_id&#39;</span>
  <span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="recent-functions">
<h2><a class="toc-backref" href="#id102"><span class="section-number">12.2.27. </span>Recent Functions</a><a class="headerlink" href="#recent-functions" title="Permalink to this headline"></a></h2>
<p>This group contains recently used functions. Depending on the context of its
usage (feature selection, field calculator, generic), recently applied expressions
are added to the corresponding list (up to ten expressions), sorted from
more to less recent.
This makes it easy to quickly retrieve and reapply previously used expressions.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="expression.html" class="btn btn-neutral float-left" title="12.1. Expressions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../style_library/index.html" class="btn btn-neutral float-right" title="13. The Style Library" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2002-now, QGIS project.
      <span class="lastupdated">Last updated on Oct 24, 2021 11:42.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <!-- Transifex follows a particular logic to build target pages
example of expected format: .../locale-en-lc-messages-docs-gentle-gis-introduction-data-capture-po--release-3-16 
for the page ...3.16/docs/gentle_gis_introduction/data_capture.html in release_3.16 branch-->
<!--Make sure that mismatching languages codes are converted-->


  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-info-circle"> QGIS Documentation </span>
      v: testing
      <span class="fa fa-caret-down"></span>
    </span>

    <div class="rst-other-versions">
      <dl>
        <dt>Languages</dt>
        
          <dd><a href="https://docs.qgis.org/testing/en/docs/user_manual/expressions/functions_list.html">en</a></dd>
        
      </dl>

      <dl>
        <dt>Versions</dt>
        
          <dd><a href="https://docs.qgis.org/testing/en/docs/user_manual/expressions/functions_list.html">testing</a></dd>
        
          <dd><a href="https://docs.qgis.org/latest/en/docs/user_manual/expressions/functions_list.html">latest</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.16/en/docs/user_manual/expressions/functions_list.html">3.16</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.10/en/docs/user_manual/expressions/functions_list.html">3.10</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.4/en/docs/user_manual/expressions/functions_list.html">3.4</a></dd>
        
          <dd><a href="https://docs.qgis.org/2.18/en/docs/user_manual/expressions/functions_list.html">2.18</a></dd>
        
          <dd><a href="https://docs.qgis.org/2.14/en/docs/user_manual/expressions/functions_list.html">2.14</a></dd>
        
          <dd><a href="https://docs.qgis.org/2.8/en/docs/user_manual/expressions/functions_list.html">2.8</a></dd>
        
          <dd><a href="https://docs.qgis.org/2.6/en/docs/user_manual/expressions/functions_list.html">2.6</a></dd>
        
          <dd><a href="https://docs.qgis.org/2.2/en/docs/user_manual/expressions/functions_list.html">2.2</a></dd>
        
          <dd><a href="https://docs.qgis.org/2.0/en/docs/user_manual/expressions/functions_list.html">2.0</a></dd>
        
          <dd><a href="https://docs.qgis.org/1.8/en/docs/user_manual/expressions/functions_list.html">1.8</a></dd>
        
      </dl>

       
       <dl>
        <dt>Downloads</dt>
        
          <dd><a href="https://docs.qgis.org/testing/pdf">PDF</a></dd>
        
          <dd><a href="https://docs.qgis.org/testing/zip">HTML</a></dd>
        
      </dl>
      

      
       
      <dl>
        <dt>Contribute to Docs</dt>
          <dd>
            <a href="https://github.com/qgis/QGIS-Documentation/edit/master/docs/user_manual/expressions/functions_list.rst" target="_blank" rel="noopener noreferrer">Edit on GitHub</a>
          </dd>
          
          
          <dd>
            <a href="https://github.com/qgis/QGIS-Documentation/issues" target="_blank" rel="noopener noreferrer">Report Issue</a>
          </dd>
      </dl>
      

      <dl>
        <dt>On QGIS Project</dt>
          <dd>
            <a href="https://qgis.org/en" target="_blank" rel="noopener noreferrer">Home</a>
          </dd>
          <dd>
            <a href="https://qgis.org/api/" target="_blank" rel="noopener noreferrer">C++ API</a>
          </dd>
          <dd>
            <a href="https://qgis.org/pyqgis/master" target="_blank" rel="noopener noreferrer">PyQGIS API</a>
          </dd>
          <dd>
            <a href="https://github.com/qgis/QGIS/tree/master" target="_blank" rel="noopener noreferrer">Source</a>
          </dd>
      </dl>

    </div>
  </div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>